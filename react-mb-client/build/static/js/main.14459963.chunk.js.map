{"version":3,"sources":["static/logo.png","static/iconmonstr-facebook-4-48.png","static/iconmonstr-email-10-48.png","static/iconmonstr-github-1-48.png","NavBar.js","Footer.js","Content/Header/SelectFollowing.js","Content/Row/ChapterList.js","Content/FloatButtons/MangaPreviewInfo.js","Content/FloatButtons/AddDialog.js","Content/FloatButtons/FloatButtons.js","Content/Header/SortBy.js","Content/Header/SearchBar.js","Content/Header/Header.js","Content/Row/MangaActions.js","Content/Row/MangaNote.js","utils.js","Content/Row/MangaInfoCell.js","Content/Row/Row.js","Content/MangaTable.js","Content/Content.js","formControlers.js","Login/formstyles.js","Login/RegisterForm.js","Login/LoginForm.js","Login/Login.js","NotFound.js","theme.js","Account/formstyles.js","Account/BasicInfo.js","Account/ChangePassword.js","Account/SocialNetworkInfo.js","Account/NewPrimaryAccountDialog.js","Account/LinkedAccounts.js","Account/Account.js","App.js","index.js"],"names":["module","exports","__webpack_require__","p","NavBar","displayName","_this$props","this","props","classes","user","logout","redirectToAccount","redirectToIndex","primaryAccount","googleName","facebookName","username","react_default","a","createElement","index_es","color","position","className","flex","logo","src","LOGO","alt","onClick","Badge_default","badgeContent","grow","navBarText","React","Component","withStyles","marginTop","marginBottom","width","cursor","fontWeight","textTransform","paddingRight","paddingLeft","display","justifyContent","flexGrow","FACEBOOK_URL","EMAIL_URL","GITHUB_URL","footer","margin","boxShadow","padding","background","social","socialIcon","height","&:hover","zoom","footerText","fontStyle","footerHr","footerInternalLink","&hover","footerLink","textDecoration","&:visited","noUnderline","nav","isLogin","internalLinkClass","href","GITHUB_ICON","EMAIL_ICON","FACEBOOK_ICON","Typography_default","react_router_dom","to","SelectFollowing","disable","labelClass","label","root","variant","value","following","onChange","input","disabled","alignItems","paddingBottom","filter","MAX_CHAP_NAME_LENGTH","ChapterList","markUpTo","i","event","stopPropagation","_this","onMarkUpTo","_this2","chapters","showNextChapBtn","markAllRead","chapterCount","length","noChap","readChaptersLinks","ch","isRead","map","link","lastChapRead","name","nextChapToRead","undefined","nextChapBtn","actionBtn","title","window","open","ArrowForwardIos_default","markAllReadBtn","every","chap","onMarkAllChaptersRead","BookmarkBorderOutlined_default","select","multiple","onChangeChapter","renderValue","str","slice","key","Checkbox_default","checked","KeyboardArrowDown_default","ListItemText_default","primary","noWrap","whiteSpace","borderRadius","fontSize","MangaPreviewInfo","manga","mangaStatus","mangaInfo","error","Grid_default","container","item","md","mangaImg","image","isCompleted","onCompletedChange","Header_SelectFollowing","onFollowingChange","Row_ChapterList","note","onChangeNote","mangaName","AddDialog","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","onClickOpen","setState","onClose","onChangeLink","_ref","asyncToGenerator","regenerator_default","mark","_callee","url","fetchOptions","response","wrap","_context","prev","next","target","trim","encodeURIComponent","method","credentials","fetch","sent","ok","json","forEach","t0","text","t1","t2","t3","stop","_x","apply","arguments","state","indexOf","addManga","_callee2","_context2","onAddManga","alert","_this$state","addButton","Add_default","fullWidth","maxWidth","aria-labelledby","id","multiline","rows","FloatButtons_MangaPreviewInfo","FloatButtons","updatingMangas","onUpdateManga","updateBtnColor","floatButtonGroup","placement","scrollToTop","size","ArrowUpward_default","concat","Refresh_default","FloatButtons_AddDialog","document","querySelector","scrollIntoView","behavior","bottom","right","flexDirection","SortBy","sortby","SearchBar","onSearchTermChange","searchTerm","onKeyPress","search","onSearch","close","closeSearchResult","isSearching","icon","Close_default","Search_default","placeholder","border","transition","outline","&:focus","Header","openSearchBox","dataSource","paddingTop","header","Header_SortBy","onSortByChange","Header_SearchBar","MangaActions","updatingManga","markMangaCompletedBtn","onChangeCompleted","Done_default","updateBtnClass","actionBtnDisabled","updateManga","updateMangaBtn","deleteMangaBtn","deleteManga","DeleteForever_default","onChangeFollowing","MangaNote","onNoteEdited","editNoteClicked","mangaNote","cancelEditNote","saveNote","noteBtnGroup","Edit_default","titleAccess","TextField_default","Save_default","Cancel_default","mangaSourceRegex","Hoc vien truyen tranh","Mangakakalot","Mangarock","Nettruyen","MangaWWW","Otakusan","TruyenQQ","Truyen Tranh 8","Truyen Tranh Tuan","MangaBat","Mangasim","Mangazuki","Thich Truyen Tranh","Ham Truyen Tranh","Say Truyen","Truyen 1","defaultDiacriticsRemovalMap","base","letters","utils","getMangaStatus","allRead","mangaStatuses","getMangaSource","match","removeDiacritics","change","replace","minusArray","arr1","arr2","e","MangaInfoCell","mangaSource","mangaDetails","xs","infoHeader","Row","markChapterReadStatus","action","mangaID","_id","abrupt","headers","Content-Type","body","JSON","stringify","Error","_x2","markChaptersAsRead","_ref2","links","oldValues","markRead","markUnread","Promise","all","_x3","_ref3","_callee3","_context3","_x4","onMarkChaptersAsReadUpTo","_ref4","_callee4","upTo","_context4","_x5","_callee5","_context5","_ref6","_callee6","_context6","onEditManga","_x6","confirm","onDeleteManga","_callee7","_context7","_ref8","_callee8","_context8","_x7","_callee9","_context9","t4","t5","status","colorClass","Finished","F","Many to read","MTR","Last chap reached","LCR","New chap","NC","numberUnreadChap","TableCell_default","max","join","Row_MangaInfoCell","Row_MangaActions","Row_MangaNote","minHeight","MangaTable","fetchManga","page","fetchData","newData","_args","loading","sortMethod","allLoaded","searchManga","data","searchData","updatedValues","hasOwnProperty","m","loadMore","dataToRows","d","Content_Row_Row","isAuthorized","catch","prevProps","prevState","snapshot","newManga","find","unshift","_this$props2","_this$state2","tableClass","table","push","colSpan","waiting","tableHeader","tableHeaderCell","showMore","ArrowDropDown","blur","textAlign","Content","result","success","total","mangaTableKey","Date","sortByStatus","sortByName","latest","sortByLatest","many","sortByManyToRead","content","Content_Header_Header","Content_MangaTable","Content_FloatButtons_FloatButtons","mangas","sort","b","toLowerCase","latestChap","date","createAt","onUsernameChange","onPasswordChange","password","u","includes","onConfirmChange","onEmailChange","email","handleError","enableSubmit","values","v","errorMessage","announce","onSubmit","keys","k","encodeURI","loadUserData","formstyles","textField","rightAlign","RegisterForm","bind","assertThisInitialized","_this$handleError","type","styles","LoginForm","Login","onTabChange","tab","isLoggedIn","Login_LoginForm","Login_RegisterForm","paper","AppBar_default","Tabs_default","indicatorColor","textColor","Tab_default","paperBody","loginOptions","lib","loginBtn","otherOptions","createMuiTheme","typography","useNextVariants","palette","main","secondary","overrides","MuiTableCell","head","MuiTableRow","MuiInputBase","MuiTabs","indicator","MuiTab","selected","Account_formstyles","ChangePassword","onCurrentPasswordChange","currentPassword","lastUpdated","passwordHasBeenSet","lastUpdateMessage","toString","SocialNetworkInfo","openNewPrimaryAccountDialog","socialNetwork","pic","socialInfoContainer","account","socialInfoPic","deleteBtn","buttonText","wrapper","socialNetworkName","capitalize","flexWrap","NewPrimaryAccountDialog","isLastAccount","c","facebookId","googleId","changeAccount","newPrimaryAccount","unlink","unlinkAccount","closeNewPrimaryAccountDialog","deleteAccount","disableLocal","disableFacebook","disableGoogle","RadioGroup_default","aria-label","FormControlLabel_default","control","Radio_default","LinkedAccounts","openDialog","location","Account_SocialNetworkInfo","facebookPic","googlePic","danger","Account_NewPrimaryAccountDialog","Account","CircularProgress_default","BasicInfo","Account_ChangePassword","Account_LinkedAccounts","App","redirectToLogin","getElementById","click","then","pathname","src_Content_Content","login","src_Login_Login","src_Account_Account","notfound","src_NotFound","MuiThemeProvider_default","theme","hidden","src_NavBar","beforeFooter","react_router","exact","path","render","src_Footer","&:after","visibility","ReactDOM","src_App"],"mappings":"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","file":"static/js/main.14459963.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.b7a65b42.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAA7EAAAOxAGVKw4bAAACmklEQVRo3tWaMUsdQRSFv7kEE2xsxCJoYhcQuxS2/oWAnQH9BVZ2gr2/IFWIjdjmJwRSWYQIipDOmFRiFVCD8M5NsaMu6z597+3svszp3jLvzjl3Zu/uPbOBBJD0ClgGloAFYB6YASbjkCvgHDgFToAD4IuZnaWYf1TS05I2JX2X5MNCksf/bkqa7pL4rKQPkq6HZt1fzHWMOdsm8QlJ25IuUxGvEXIZ55hITX5R0lFbxGuEHElaTEV+pc2sP7EaK03Jb0jqdU2+JKInaaMJ+XFxL4vwoUXEbTO2zNeI6PXbTqHuhgUOQgiTTyrtEO5+BSyZ2XH5ulXITwD7Tcm7O+7+2d3fufucuz8PFQwbM3Laf7TEStpOtNzvBxA5avztfuRnU5RLSR8HXKVR41+Wn9jlLbSVaN9/ShCjLyLHrbvfMfvTwK8QwoumE7j7lJn9GWCcN5jjLzBnZhe3K7CegjzAIOSbInJdh/sttNr2pL1e72v5wZgg5CpAiM3IzxEqW7/s1AaS5KnmgKJUA68NWE4Z+BFhbcRbNoo2MFcsGUUP2yQTAz1hy2PcfSqRgAWjaMC7RqrWcd4o3IOu8TJRnBnj3vrIUcDks6YRqjW9332QqPY/gFGYTrniyigcs1xxbhR2X644NQqvMlecGIXRmisOOnuZS12F7l7mosV92HKm2sChmZ3d9gN742YzAvaghZayiy30oKU0swtgt/2kJcNu5HzvzEWr4kdTZ6LtFfDCoXtjZr+hZKvECzut5645dm7JQ8UbjbbdtxDCyIcLba6Aux8Db83splZAFJGvuQsQB6y5u8ZNukRewFqV/KPI+oCjIiLPI6aSiHwP+Uoi8j1mLYnI96C7IiTPTw1qhPwXH3sk6WLG+bnNP1xmq9hfQ0tLAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAD60lEQVRo3s2az2uURxjHvzPsIYQSREKQkEMqNrRFhAa0F5HSgyfxIF4EEQ8xB08e9iAIgvTUQ4Xi2UMFydk/wFoPRSSHilRbW0LiQdDiD2yaxhDmMz04L85uN/vOuzvv7j6w7PLOzDOf7/s+8zDzvGuUwYBJSV9J+lLS55JmJU1JGg9d/pX0l6Q1SY8l3Zf0k7X2ZY75e4XeBZwHfgacr2iAC2PPA7sGCT4FfAesV4XuImY9+JyqE7wBNIG3ucA7CHkb5mjkhp8DlusC7yBkGZjLBX+szrte8jSO9Qu/0MsCzSjCAQu9wi8OE75NxGJV+OOjAN8m4ngnVtNpwUpaNsZMZFlEmcx7/7ekg9baP+Lrtg2+IWlp1OAlKTAttadY29avaYyZHzZsFxHzkpot14ofwB5JfxpjPho2aDfz3v8j6RNr7XOp9QlcGnV4SQqMl1ouAruBjW6ZwDl3HRirGxAYc85dL8lKG8DueNCFxHR2D5iuEX4auJfIciEeWLrPAYrvZ8ChGuAPAc/iuUp4lmPVpQOcc4vAVhi8CZzNCH8W2Ay+t5xziyk3FJgWcDrlkYWJDgMvCgfOue/72foCjeCjgHoBHJakxDA6LeBaqoAw6UwccsDtcKSsCj8J3I5DApgp2hMFXBNwp4qAMPkYcDNytAIcqAB/AFiJxt9sz3CJAu4IWK0qoDDnXBPYDs7WgZMJ8CeL4yiw7ZxrduqXKGBVqWfbLkBHgVfBoXPOfQPYDv1saHOh7yvg6E5+EwWsKyUDdRMQ4PYBjyLHt4CJqH0CuBW1PwL2dfOZKMBnEdAFci58dhSXQ8BGSueyCaMwuRKFyRvgTRReVzqFVx8CNgQ8zSUgEnIiXlthgZ+o4iNRwFMBd3MLCCL2h/S6AuyvOj5RwN2G3tcqj1SdoMystb8CB8Pv17n9B3ts9b7QWotZa1/XCC9J9w0wK2nVGNO1pynrkNnKwjY0f2yttWuSHg4SLpM9tNauFSltadg0PdgHZmBPsdfPlYX6tZLssxWKEGpIkrX2OXBD0kI3h4O/yTvajaIqEZdVZiX9Zoyp/eDej3nv30n6LKzdD2WVcOHqsAET7GoBL7XVRsOh4hdjzKfDpuxk3vvfJX1hrX1XXGvZWIWGU+ExjZQFplMx/P8EBBEPvPfnRmnNBpZz1toHyYOccxdTzwp1Wqh+XOxJ+bBF9AUfiThTFJ0GDL/pnDuTJQaBeeDJAOGfAHnfUwDjwLdlW44+wbfCHOP9E+8sZC/wQ1EPygS+HXzurQ28g5AZ4HI/oRVC5XJcUqxqWQ4p4c3m12r9u82kMcZKkvceSS/V+nebH9vfOPZi/wFhUawrZLNwZQAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAD/ElEQVRo3s2az2seRRzGn5lAKC8ipYTgIcQiJYeQQ5FiPNUgUkrOxUsRchYJCMFTecE/QEr1kKNnaaWH4slDVGghKASM5BYoVpC2UhWalIjzGQ87q8ub3Znd993d1y+8l3e/P55ndva7M8+sUQsGLEpak7QqaVnSeUnzkgbB5VjSE0kPJR1I2pX0jbX25zbqjwt6DtgC9gDf1AAfYreAuT6BLwDbwIvGqKvJvAg5F7oEPgsMgaO2gJcQOQo1ZtsGvwLsdwW8hMg+sNIW+GtdjnriblybFPwm4PoGXyDhgM1JwE8Le5GEb0wiTJupjXwJCVc1nUzZAytp1xgzGL3mvX8uScaYlyaamxUWy++9P5a0aq39KTbys7FuA1wKfsvAx8DjFkb3cci1HHJfivjuR1ssMIwEPy3xHwA38i4V5usj4FvgNvB5+N0O/z3Kn6vQZW4Ag5K8TyM4hlXgF2LtEtiJEH8NWAfOpqYJcBa4ClyI+OxEcByVvrGB7cStvjvm1G5swN0Elu3c14aAOUkbibwv90VAUqpJbOQLQJv/YYw5kwhaAaw6tlAjuowIWDeKBK7XyP2X/lvfd2kDSX/X8LueM15MvXHDi+RyD+BzTJdTL9LQ8RatpDVjTCrnHWvtd30RCLXuxHwC5jWrbBuYss/6At+w5qpVtoetNO/9H5IeTIHAg1A7ZstW2QY8ZgfWWvpGH2oeJNzOW2XqQcye9Q2+Qe15q3Rr7Lz3T1B7UAdccn3ToSVrW2WiU8wWp0ggVfvYKlPMYrYAnOsbeVjrpHSiJ1aZ3Fdp4YXxTt8EJL1d4wX70CrdqiTpvSkQqFPzwCoTWlO2DrzeF/JQa72G626txVxYPO0BqSV3G+DPAHs18Pigikt1AkLQvS5JhD32vZpY9oqBW3WCCnfiYgfgL9YdyIBjqxg8NyqXByVhI8jeRyPXXLh+ZRIlOcg4V4EvmwhpQY6fH022PeL0fb77B5aAw4pkfwJfA5/UedCBN4BbwM64onFxU19MvFAy0r8DbxZIxGSXwzKNp2KeH6ZhVtYpl1VC8mFJwK+5AuCc24wk/qDB1Hl/XALOuWEscam0CPy7O3LOfQScjFw/AZYaEFgac/RPSYu1xF2fia6vWmufBZ9XJF2RdE7SL8pOHH9rQGDWGHNS1z9gSIu7hQKn5HXgizZ1oYYj74B3GxUoO+AAvoppml0QALxzrvKAI7rcc85tGmNuGmNsoTCSfpD0o6TnyiTHC9bat5oSqOGD9/7DmZmZT8ceqbqHfG3fgdAum02bCInkMWubBFo9Zi2QiB50t0Ggs4PuESKnPjUA3Bh5XCG++08NSgDkH3vcd87dHCP+FnC/9489/m/2D6WmgOYosLqYAAAAAElFTkSuQmCC\"","import React from \"react\"\n\nimport {AppBar, Toolbar, Typography} from \"@material-ui/core\";\nimport {withStyles} from \"@material-ui/styles\";\nimport Badge from \"@material-ui/core/Badge\";\n\nimport LOGO from './static/logo.png'\n\n\nconst styles = () => ({\n    logo: {\n        marginTop: 5,\n        marginBottom: 5,\n        width: 190,\n        cursor: 'pointer'\n    },\n    navBarText: {\n        color: '#fff',\n        fontWeight: 800,\n        textTransform: 'uppercase',\n        paddingRight: 0,\n        paddingLeft: 15,\n        cursor: 'pointer'\n    },\n    flex: {\n        display: 'flex',\n        justifyContent: 'space-between'\n    },\n    grow: {\n        display: 'flex',\n        flexGrow: 1\n    },\n});\n\nclass NavBar extends React.Component {\n\n    render() {\n        const {classes, user, logout, redirectToAccount, redirectToIndex} = this.props;\n        let displayName;\n        if (user)\n            switch (user.primaryAccount) {\n                case \"google\":\n                    displayName = user.googleName;\n                    break;\n                case \"facebook\":\n                    displayName = user.facebookName;\n                    break;\n                default:\n                    displayName = user.username;\n            }\n\n        return (\n            <div>\n                <AppBar color=\"primary\" position=\"fixed\">\n                    <Toolbar className={classes.flex}>\n                        <img\n                            className={classes.logo}\n                            src={LOGO} alt=\"MangaBookmark\"\n                            onClick={redirectToIndex}\n                        />\n                        <Badge badgeContent={<span>v1.5</span>}>\n                            &nbsp;&nbsp;&nbsp;&nbsp;\n                        </Badge>\n                        <span className={classes.grow}/>\n                        {(!user) ? '' :\n                            <Typography className={classes.navBarText} onClick={redirectToAccount}>\n                                Hello, {displayName}\n                            </Typography>\n                        }\n                        {(!user) ? '' :\n                            <Typography className={classes.navBarText} onClick={logout}>\n                                Logout\n                            </Typography>\n                        }\n                    </Toolbar>\n                </AppBar>\n            </div>\n        )\n    }\n\n}\n\nexport default withStyles(styles)(NavBar);","import React from \"react\"\nimport {withStyles} from \"@material-ui/styles\";\nimport Typography from \"@material-ui/core/Typography\";\n\nimport FACEBOOK_ICON from \"./static/iconmonstr-facebook-4-48.png\";\nimport EMAIL_ICON from \"./static/iconmonstr-email-10-48.png\";\nimport GITHUB_ICON from \"./static/iconmonstr-github-1-48.png\";\nimport {Link} from \"react-router-dom\";\n\nconst FACEBOOK_URL = 'https://www.facebook.com/thanhhung.duong.18';\nconst EMAIL_URL = 'mailto:dthung1602@gmail.com';\nconst GITHUB_URL = 'https://github.com/dthung1602';\n\nconst styles = () => ({\n    footer: {\n        margin: '50px 0 0 0',\n        boxShadow: '0 -5px 7px #aaa',\n        padding: '20px 30px 30px 30px',\n        background: '#00bea6',\n        color: '#fff'\n    },\n    social: {\n        display: 'flex',\n        justifyContent: 'center',\n    },\n    socialIcon: {\n        width: 32,\n        height: 32,\n        margin: '5px 20px',\n        '&:hover': {\n            zoom: '110%'\n        }\n    },\n    footerText: {\n        color: '#fff !important',\n        fontStyle: 'italic'\n    },\n    footerHr: {\n        color: '#fff'\n    },\n    footerInternalLink: {\n        textTransform: 'capitalize',\n        cursor: 'pointer',\n        padding: 10,\n        '&hover': {\n            fontWeight: 'bold'\n        }\n    },\n    footerLink: {\n        color: '#fff !important',\n        textDecoration: 'none',\n        '&:visited': {\n            color: '#fff',\n        },\n        '&:hover': {\n            color: '#fff',\n            fontWeight: 'bold',\n            textDecoration: 'underline'\n        }\n    },\n    noUnderline: {\n        textDecoration: 'none',\n    },\n    nav: {\n        display: 'flex',\n        justifyContent: 'center'\n    }\n});\n\nfunction Footer(props) {\n    const {classes, isLogin, redirectToIndex, redirectToAccount, logout} = props;\n\n    const internalLinkClass = classes.footerLink + ' ' + classes.footerInternalLink;\n\n    return (\n        <footer className={classes.footer}>\n\n            <div className={classes.social}>\n                <a href={GITHUB_URL}>\n                    <img className={classes.socialIcon} src={GITHUB_ICON} alt='GITHUB'/>\n                </a>\n                <a href={EMAIL_URL}>\n                    <img className={classes.socialIcon} src={EMAIL_ICON} alt='EMAIL'/>\n                </a>\n                <a href={FACEBOOK_URL}>\n                    <img className={classes.socialIcon} src={FACEBOOK_ICON} alt='FACEBOOK'/>\n                </a>\n            </div>\n\n            <div className={classes.nav}>\n                <Typography className={internalLinkClass} onClick={redirectToIndex}>HOME</Typography>\n                <Link to='/about' className={classes.noUnderline}>\n                    <Typography className={internalLinkClass}>ABOUT</Typography>\n                </Link>\n                <Link to='/legalnotice' className={classes.noUnderline}>\n                    <Typography className={internalLinkClass}>LEGAL NOTICE</Typography>\n                </Link>\n                {(isLogin)\n                    ? <Typography className={internalLinkClass} onClick={redirectToAccount}>ACCOUNT</Typography>\n                    : <Typography className={internalLinkClass} onClick={logout}>LOGOUT</Typography>\n                }\n            </div>\n\n            <hr className={classes.footerHr}/>\n\n            <div>\n                <Typography className={classes.footerText}>\n                    Build with <a className={classes.footerLink} href='https://expressjs.com/'>ExpressJS</a>&nbsp;\n                    and <a className={classes.footerLink} href='https://material-ui.com/'>Material UI</a>\n                </Typography>\n                <Typography className={classes.footerText}>\n                    with images from <a className={classes.footerLink} href='https://looka.com/'>Looka</a>&nbsp;\n                    and <a className={classes.footerLink} href='https://iconmonstr.com'>iconmonstr</a>\n                </Typography>\n            </div>\n\n        </footer>\n    )\n}\n\nexport default withStyles(styles)(Footer);","import React from \"react\"\nimport {Input, MenuItem, Select, Typography} from \"@material-ui/core\";\nimport {withStyles} from \"@material-ui/styles\";\n\nconst styles = () => ({\n    root: {\n        display: 'flex',\n        alignItems: 'flex-end',\n        justifyContent: 'space-between',\n    },\n    label: {\n        paddingRight: 15,\n        paddingBottom: 3\n    },\n    disable: {\n        filter: 'opacity(50%)'\n    }\n});\n\nclass SelectFollowing extends React.Component {\n\n    render() {\n        const {classes, disable} = this.props;\n        let labelClass = classes.label;\n        if (disable) labelClass += ' ' + classes.disable;\n\n        return (\n            <div className={classes.root}>\n                <Typography variant={\"subtitle1\"}>\n                    <span className={labelClass}>Following status</span>\n                </Typography>\n                <Select\n                    value={this.props.following}\n                    onChange={this.props.onChange}\n                    input={<Input disabled={disable}/>}\n                >\n                    <MenuItem value=\"toread\">To read</MenuItem>\n                    <MenuItem value=\"following\">Following</MenuItem>\n                    <MenuItem value=\"waiting\">Waiting</MenuItem>\n                    <MenuItem value=\"dropped\">Dropped</MenuItem>\n                    <MenuItem value=\"finished\">Finished</MenuItem>\n                </Select>\n            </div>\n        )\n    }\n}\n\n\nexport default withStyles(styles)(SelectFollowing);","import React from \"react\"\nimport {MenuItem, Select} from \"@material-ui/core\";\nimport {withStyles} from \"@material-ui/styles\";\nimport Checkbox from \"@material-ui/core/Checkbox/index\";\nimport ListItemText from \"@material-ui/core/ListItemText/index\";\nimport ReadIcon from \"@material-ui/icons/ArrowForwardIos\";\nimport ReadAll from \"@material-ui/icons/BookmarkBorderOutlined\"\nimport ReadUpTo from \"@material-ui/icons/KeyboardArrowDown\"\n\nconst styles = () => ({\n    noWrap: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'flex-start',\n        whiteSpace: 'nowrap'\n    },\n    actionBtn: {\n        padding: 2,\n        margin: '3px 8px 0px 8px',\n        borderRadius: 3,\n        display: 'inline-block',\n        '&:hover': {\n            cursor: 'pointer',\n            background: '#efa230',\n            color: '#fff'\n        }\n    },\n    noChap: {\n        fontSize: '125%',\n        fontStyle: 'italic'\n    }\n});\n\nconst MAX_CHAP_NAME_LENGTH = 20;\n\nclass ChapterList extends React.Component {\n\n    markUpTo = (i) => (event) => {\n        event.stopPropagation();\n        this.props.onMarkUpTo(i)\n    };\n\n    render() {\n        const {classes, chapters, showNextChapBtn, markAllRead} = this.props;\n        const chapterCount = chapters.length;\n\n        if (chapterCount === 0)\n            return <div className={classes.noChap}>No chapter available</div>;\n\n        const readChaptersLinks = chapters.filter(ch => ch.isRead).map(ch => ch.link);\n\n        let lastChapRead = {name: '-----'};\n        for (let i = 0; i < chapterCount; i++)\n            if (chapters[i].isRead) {\n                lastChapRead = chapters[i];\n                break;\n            }\n\n        const displayLastChapRead = () => <span>{shortenString(lastChapRead.name)}</span>;\n\n        let nextChapToRead;\n        for (let i = 0; i < chapterCount - 1; i++)\n            if (!chapters[i].isRead && chapters[i + 1].isRead) {\n                nextChapToRead = chapters[i];\n                break;\n            }\n        if (nextChapToRead === undefined && !chapters[chapterCount - 1].isRead)\n            nextChapToRead = chapters[chapterCount - 1];\n\n        let nextChapBtn = '';\n        if (showNextChapBtn && nextChapToRead !== undefined)\n            nextChapBtn =\n                <div className={classes.actionBtn}\n                     title={\"Read \" + nextChapToRead.name}\n                     onClick={() => window.open(nextChapToRead.link, '_blank')}>\n                    <ReadIcon/>\n                </div>;\n\n\n        let markAllReadBtn = '';\n        if (markAllRead !== undefined && !chapters.every(chap => chap.isRead))\n            markAllReadBtn =\n                <div\n                    className={classes.actionBtn}\n                    title=\"Mark all chapters as read\"\n                    onClick={this.props.onMarkAllChaptersRead}\n                >\n                    <ReadAll/>\n                </div>;\n\n        const select =\n            <Select\n                multiple\n                value={readChaptersLinks}\n                onChange={this.props.onChangeChapter}\n                renderValue={displayLastChapRead}\n            >\n                {chapters.map((chap, i) => (\n                    <MenuItem key={chap.link} value={chap.link}>\n                        <Checkbox checked={chap.isRead}/>\n                        <ReadUpTo onClick={this.markUpTo(i)}/>\n                        <ListItemText primary={<a href={chap.link}>{chap.name}</a>}/>\n                    </MenuItem>\n                ))}\n            </Select>;\n\n\n        if (markAllRead === 'before')\n            return (\n                <div className={classes.noWrap}>\n                    {markAllReadBtn}\n                    {select}\n                    {nextChapBtn}\n                </div>\n            );\n\n        return (\n            <div className={classes.noWrap}>\n                {select}\n                <div>\n                    {markAllReadBtn}\n                    {nextChapBtn}\n                </div>\n            </div>\n        )\n    }\n\n}\n\n\nfunction shortenString(str) {\n    if (str.length <= MAX_CHAP_NAME_LENGTH)\n        return str;\n    return str.slice(0, MAX_CHAP_NAME_LENGTH) + \" ...\"\n}\n\nexport default withStyles(styles)(ChapterList);","import React from \"react\";\nimport {Input, Switch, Typography} from \"@material-ui/core\";\nimport Grid from \"@material-ui/core/Grid/index\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\n\nimport SelectFollowing from \"../Header/SelectFollowing\"\nimport ChapterList from \"../Row/ChapterList\";\n\nconst styles = () => ({\n    mangaImg: {\n        width: 150\n    },\n    mangaInfo: {\n        padding: '30px 20px 0 20px'\n    },\n    error: {\n        padding: '30px 20px 0 0',\n        color: '#f00'\n    },\n    mangaName: {\n        color: '#009d8a'\n    },\n    flex: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'baseline'\n    },\n    label: {\n        paddingRight: 15,\n        paddingBottom: 3\n    },\n});\n\nclass MangaPreviewInfo extends React.Component {\n\n    render() {\n        const {classes, manga, mangaStatus} = this.props;\n\n        if (mangaStatus === 'none')\n            return '';\n\n        if (mangaStatus === 'waiting')\n            return (\n                <Typography className={classes.mangaInfo}>{manga}</Typography>\n            );\n\n        if (mangaStatus === 'error')\n            return (\n                <Typography className={classes.error}>{manga}</Typography>\n            );\n\n        const {chapters} = manga;\n\n        if (mangaStatus === 'ok')\n            return (\n                <Grid className={classes.mangaInfo} container>\n                    <Grid item md={4}>\n                        <img className={classes.mangaImg} src={manga.image} alt={manga.name}/>\n                    </Grid>\n                    <Grid item md={8}>\n                        <Typography variant={\"h5\"}><b>{manga.name}</b></Typography>\n                        <div className={classes.flex}>\n                            <Typography variant={\"subtitle1\"}>Is completed: {'' + manga.isCompleted}</Typography>\n                            <Switch\n                                checked={manga.isCompleted}\n                                onChange={this.props.onCompletedChange}\n                                color={\"secondary\"}\n                            />\n                        </div>\n                        <SelectFollowing\n                            following={manga.following}\n                            onChange={this.props.onFollowingChange}\n                        />\n                        <div className={classes.flex}>\n                            <Typography className={classes.label} variant={\"subtitle1\"}>Chapter list</Typography>\n                            <ChapterList\n                                chapters={chapters}\n                                onChangeChapter={this.props.onChangeChapter}\n                                onMarkAllChaptersRead={this.props.onMarkAllChaptersRead}\n                                showNextChapBtn={false}\n                                markAllRead='before'\n                            />\n                        </div>\n                        <div className={classes.flex}>\n                            <Typography className={classes.label} variant={\"subtitle1\"}>Note</Typography>\n                            <Input\n                                value={manga.note}\n                                onChange={this.props.onChangeNote}\n                            />\n                        </div>\n                    </Grid>\n                </Grid>\n            );\n    }\n\n}\n\nexport default withStyles(styles)(MangaPreviewInfo);","import React from \"react\"\n\nimport AddIcon from \"@material-ui/icons/Add\";\nimport {withStyles} from \"@material-ui/styles\";\nimport {Button, Dialog, DialogActions, DialogContent, DialogTitle, TextField} from \"@material-ui/core\";\n\nimport MangaPreviewInfo from \"./MangaPreviewInfo\"\n\nconst styles = () => ({});\n\nconst dummyAddData = {\n    _id: \"1\",\n    chapters: [\n        {\n            _id: \"5cd3cb713615403f7bdc0e9d\",\n            isRead: false,\n            createAt: '2020-05-16',\n            \"name\": \"Chapter 3B\",\n            \"link\": \"http://www.nettruyen.com/truyen-tranh/the-shocking-reality-of-a-loan-shark-collecting-money/chap-3/465979\",\n        },\n        {\n            _id: \"5cd3cb713615403f7bdc0e9e\",\n            isRead: true,\n            createAt: '2015-05-16',\n            \"name\": \"this is a chapter name with very long linesss\",\n            \"link\": \"http://www.nettruyen.com/truyen-tranh/the-shocking-reality-of-a-loan-shark-collecting-money/chap-2/465978\",\n        },\n        {\n            _id: \"5cd3cb713615403f7bdc0e9f\",\n            isRead: true,\n            createAt: '2014-05-16',\n            \"name\": \"Chapter 1B\",\n            \"link\": \"http://www.nettruyen.com/truyen-tranh/the-shocking-reality-of-a-loan-shark-collecting-money/chap-1/465210\",\n        }\n    ],\n    following: 'following',\n    isCompleted: true,\n    note: 'A looooooooooong long sdkfj sdlfjlskdj flksdjlkfjsdlkjf klsd fsadjfsd note sadf asdfs',\n    name: \"AAA The Shocking Reality Of A Loan Shark Collecting Money\",\n    link: \"http://www.nettruyen.com/truyen-tranh/the-shocking-reality-of-a-loan-shark-collecting-money\",\n    image: \"http://st.nettruyen.com/data/comics/203/the-shocking-reality-of-a-loan-shark-col-6168.jpg\",\n\n};\n\nclass AddDialog extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            open: false,\n            link: '',\n            mangaStatus: 'none', // none, waiting, ok, error\n        }\n    }\n\n    onClickOpen = () => {\n        this.setState({open: true});\n    };\n\n    onClose = () => {\n        this.setState({open: false})\n    };\n\n    onChangeLink = async (event) => {\n        const link = event.target.value.trim();\n\n        // TODO\n        // if (link !== '')\n        //     this.setState({\n        //         link: link,\n        //         manga: dummyAddData,\n        //         mangaStatus: 'ok'\n        //     });\n        // return;\n\n        if (link !== '') {\n            this.setState({\n                link: link,\n                mangaStatus: 'waiting',\n                manga: 'Loading manga info ...'\n            });\n\n            const url = '/api/manga/info?link=' + encodeURIComponent(link);\n            const fetchOptions = {\n                method: 'GET',\n                credentials: \"same-origin\",\n            };\n            try {\n                const response = await fetch(url, fetchOptions);\n                if (response.ok) {\n                    const manga = await response.json();\n                    // set default values\n                    manga.following = 'following';\n                    manga.chapters.forEach(chap => chap.isRead = false);\n                    this.setState({\n                        mangaStatus: 'ok',\n                        manga: manga\n                    });\n                } else\n                    this.setState({\n                        mangaStatus: 'error',\n                        manga: await response.text(),\n                    });\n            } catch (e) {\n                this.setState({\n                    mangaStatus: 'error',\n                    manga: 'ERROR: ' + e\n                });\n            }\n        } else {\n            this.setState({\n                link: link,\n                mangaStatus: 'none'\n            });\n        }\n    };\n\n    onCompletedChange = (event) => {\n        const {manga} = this.state;\n        manga.isCompleted = event.target.checked;\n        this.setState({manga: manga});\n    };\n\n    onFollowingChange = (event) => {\n        const {manga} = this.state;\n        manga.following = event.target.value;\n        this.setState({manga: manga});\n    };\n\n    onChangeChapter = (event) => {\n        const readChaptersLinks = event.target.value;\n        const {manga} = this.state;\n        const {chapters} = this.state.manga;\n        chapters.forEach(chap => chap.isRead = readChaptersLinks.indexOf(chap.link) > -1);\n        this.setState({manga: manga});\n    };\n\n    onMarkAllChaptersRead = () => {\n        const {manga} = this.state;\n        const {chapters} = this.state.manga;\n        chapters.forEach(chap => chap.isRead = true);\n        this.setState({manga: manga});\n    };\n\n    onChangeNote = (event) => {\n        const {manga} = this.state;\n        manga.note = event.target.value;\n        this.setState({manga: manga});\n    };\n\n    addManga = async () => {\n        const {manga} = this.state;\n\n        try {\n            this.setState({\n                mangaStatus: 'waiting',\n                manga: 'Adding manga ...'\n            });\n            await this.props.onAddManga(manga);\n            this.setState({\n                open: false,\n                link: '',\n                mangaStatus: 'none',\n                manga: undefined\n            });\n        } catch (e) {\n            alert(\"ERROR: \" + e);\n        }\n    };\n\n    render() {\n        const {manga, mangaStatus, open, link} = this.state;\n\n        let addButton = '';\n        if (mangaStatus === 'ok')\n            addButton =\n                <DialogActions>\n                    <Button variant={\"contained\"} color={\"secondary\"} onClick={this.addManga}>Add</Button>\n                </DialogActions>;\n\n        return (\n            <div>\n                <AddIcon onClick={this.onClickOpen}/>\n                <Dialog\n                    open={open}\n                    onClose={this.onClose}\n                    fullWidth\n                    maxWidth='sm'\n                    aria-labelledby=\"add-form-dialog-title\"\n                >\n                    <DialogTitle id=\"add-form-dialog-title\"> Add new manga </DialogTitle>\n                    <DialogContent>\n                        <TextField\n                            fullWidth\n                            multiline\n                            rows={2}\n                            label={\"Manga link\"}\n                            onChange={this.onChangeLink}\n                            value={link}/>\n                        <MangaPreviewInfo\n                            mangaStatus={mangaStatus}\n                            manga={manga}\n                            onFollowingChange={this.onFollowingChange}\n                            onChangeChapter={this.onChangeChapter}\n                            onChangeNote={this.onChangeNote}\n                            onCompletedChange={this.onCompletedChange}\n                            onMarkAllChaptersRead={this.onMarkAllChaptersRead}\n                        />\n                    </DialogContent>\n                    {addButton}\n                </Dialog>\n            </div>\n        )\n    }\n\n}\n\nexport default withStyles(styles)(AddDialog);\n","import React from \"react\"\n\nimport ArrowUpwardIcon from \"@material-ui/icons/ArrowUpward\";\nimport UpdateIcon from \"@material-ui/icons/Refresh\";\n\nimport {Fab, Tooltip} from \"@material-ui/core\";\nimport {withStyles} from \"@material-ui/styles\";\n\nimport AddDialog from \"./AddDialog\";\n\nconst styles = () => ({\n    floatButtonGroup: {\n        position: \"fixed\",\n        bottom: 30,\n        right: 10,\n        display: 'flex',\n        flexDirection: 'column',\n        height: 135,\n        justifyContent: 'space-between'\n    }\n});\n\nclass FloatButtons extends React.Component {\n\n    render() {\n        const {classes, following, onAddManga, updatingMangas} = this.props;\n        const onUpdateManga = (updatingMangas) ? () => {\n        } : this.props.onUpdateManga;\n        const updateBtnColor = (updatingMangas) ? \"default\" : \"secondary\";\n\n        return (\n            <div className={classes.floatButtonGroup}>\n                <Tooltip title=\"Top of page\" placement=\"left\">\n                    <Fab onClick={scrollToTop} size=\"small\" color=\"secondary\">\n                        <ArrowUpwardIcon/>\n                    </Fab>\n                </Tooltip>\n                <Tooltip title={`Update \"${following}\" mangas`} placement=\"left\">\n                    <Fab onClick={onUpdateManga} size=\"small\" color={updateBtnColor}>\n                        <UpdateIcon/>\n                    </Fab>\n                </Tooltip>\n                <Tooltip title=\"Add manga\" placement=\"left\">\n                    <Fab size=\"small\" color=\"secondary\">\n                        <AddDialog onAddManga={onAddManga}/>\n                    </Fab>\n                </Tooltip>\n            </div>\n        )\n    }\n\n}\n\nfunction scrollToTop() {\n    document.querySelector(\"#page-top\").scrollIntoView({behavior: \"smooth\"})\n}\n\nexport default withStyles(styles)(FloatButtons);\n","import React from \"react\"\nimport {MenuItem, Select, Typography} from \"@material-ui/core\";\nimport {withStyles} from \"@material-ui/styles\";\n\nconst styles = () => ({\n    root: {\n        display: 'flex',\n        alignItems: 'flex-end'\n    },\n    label: {\n        paddingRight: 15,\n        paddingBottom: 3\n    }\n});\n\nclass SortBy extends React.Component {\n\n    render() {\n        const {classes} = this.props;\n        const onChange = this.props.onChange;\n        const sortby = this.props.sortby;\n\n        return (\n            <div className={classes.root}>\n                <Typography className={classes.label} variant={\"subtitle1\"}>\n                    Sort by\n                </Typography>\n                <Select value={sortby} onChange={onChange} variant={\"filled\"}>\n                    <MenuItem value=\"status\">Status</MenuItem>\n                    <MenuItem value=\"name\">Name</MenuItem>\n                    <MenuItem value=\"latest\">Latest</MenuItem>\n                    <MenuItem value=\"many\">Many to read</MenuItem>\n                </Select>\n            </div>\n        )\n    }\n}\n\n\nexport default withStyles(styles)(SortBy);","import React from \"react\"\nimport {withStyles} from \"@material-ui/styles\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport CloseIcon from \"@material-ui/icons/Close\";\n\nconst styles = () => ({\n    search: {\n        border: '1px solid #00bea6',\n        borderRadius: 5,\n        paddingLeft: 15,\n        display: 'flex'\n    },\n    icon: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        paddingLeft: 5,\n        paddingRight: 5,\n    },\n    input: {\n        width: 100,\n        border: 'none',\n        transition: 'width 0.5s',\n        fontSize: '90%',\n        outline: 'none',\n        '&:focus': {\n            border: 'none',\n            width: 250,\n        },\n    }\n});\n\nclass SearchBar extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {searchTerm: ''}\n    }\n\n    onSearchTermChange = (event) => {\n        this.setState({searchTerm: event.target.value})\n    };\n\n    onKeyPress = (event) => {\n        if (event.key === 'Enter')\n            this.search();\n    };\n\n    search = () => {\n        this.props.onSearch(this.state.searchTerm);\n    };\n\n    close = () => {\n        this.setState({searchTerm: ''});\n        this.props.closeSearchResult();\n    };\n\n    render() {\n        const {classes, isSearching} = this.props;\n        const {searchTerm} = this.state;\n\n        let icon = (isSearching)\n            ? (<CloseIcon onClick={this.close}/>)\n            : (<SearchIcon onClick={this.search}/>);\n\n        // let inputClass = classes.input\n\n        return (\n            <div className={classes.search}>\n                <input\n                    className={classes.input}\n                    placeholder=\"Search…\"\n                    value={searchTerm}\n                    onChange={this.onSearchTermChange}\n                    onKeyPress={this.onKeyPress}\n                />\n                <span className={classes.icon}>\n                    {icon}\n                </span>\n            </div>\n        )\n    }\n\n}\n\nexport default withStyles(styles)(SearchBar);","import React from \"react\"\nimport {withStyles} from \"@material-ui/styles\";\nimport SelectFollowing from \"./SelectFollowing\";\nimport SortBy from \"./SortBy\";\nimport SearchBar from \"./SearchBar\";\n\nconst styles = () => ({\n    header: {\n        display: 'flex',\n        justifyContent: 'space-between'\n    },\n    paddingTop: {\n        paddingTop: 100\n    }\n});\n\nclass Header extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            openSearchBox: false\n        }\n    }\n\n    render() {\n        const {classes, dataSource} = this.props;\n        const isSearching = (dataSource === 'search');\n\n        return (\n            <div>\n                <div className={classes.paddingTop} id={'page-top'}/>\n                <div className={classes.header}>\n                    <SelectFollowing\n                        following={this.props.following}\n                        onChange={this.props.onFollowingChange}\n                        disable={isSearching}\n                    />\n                    <SortBy\n                        sortby={this.props.sortby}\n                        onChange={this.props.onSortByChange}\n                    />\n                    <SearchBar\n                        onSearch={this.props.onSearch}\n                        closeSearchResult={this.props.closeSearchResult}\n                        isSearching={isSearching}\n                    />\n                </div>\n            </div>\n        );\n    }\n\n}\n\nexport default withStyles(styles)(Header);","import React from \"react\"\nimport {MenuItem, Select} from \"@material-ui/core\";\nimport {withStyles} from \"@material-ui/styles\";\nimport DeleteIcon from \"@material-ui/icons/DeleteForever\"\nimport DoneIcon from \"@material-ui/icons/Done\"\nimport UpdateIcon from \"@material-ui/icons/Refresh\"\n\nconst styles = () => ({\n    noWrap: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'flex-start',\n        whiteSpace: 'nowrap'\n    },\n    actionBtn: {\n        padding: 2,\n        margin: '3px 8px 0px 8px',\n        borderRadius: 3,\n        display: 'inline-block',\n        '&:hover': {\n            cursor: 'pointer',\n            background: '#efa230',\n            color: '#fff'\n        }\n    },\n    actionBtnDisabled: {\n        padding: 2,\n        margin: '3px 8px 0px 8px',\n        borderRadius: 3,\n        display: 'inline-block',\n        color: '#919191',\n        '&:hover': {\n            cursor: 'progress',\n            color: '#919191'\n        }\n    },\n});\n\nclass MangaActions extends React.Component {\n\n    render() {\n        const {classes, manga, updatingManga} = this.props;\n\n        let markMangaCompletedBtn = '';\n        if (!manga.isCompleted)\n            markMangaCompletedBtn =\n                <div className={classes.actionBtn}\n                     title=\"Mark manga as completed\"\n                     onClick={this.props.onChangeCompleted}\n                >\n                    <DoneIcon/>\n                </div>;\n\n        const updateBtnClass = updatingManga ? classes.actionBtnDisabled: classes.actionBtn;\n        const updateManga = updatingManga ? () => null : this.props.updateManga;\n        const updateMangaBtn =\n            <div className={updateBtnClass}\n                 title=\"Update manga\"\n                 onClick={updateManga}\n            >\n                <UpdateIcon/>\n            </div>;\n\n        const deleteMangaBtn =\n            <div className={classes.actionBtn}\n                 title=\"Delete manga\"\n                 onClick={this.props.deleteManga}\n            >\n                <DeleteIcon/>\n            </div>;\n\n        return (\n            <div className={classes.noWrap}>\n                <Select\n                    value={manga.following}\n                    onChange={this.props.onChangeFollowing}\n                >\n                    <MenuItem value=\"toread\">toread</MenuItem>\n                    <MenuItem value=\"following\">following</MenuItem>\n                    <MenuItem value=\"waiting\">waiting</MenuItem>\n                    <MenuItem value=\"dropped\">dropped</MenuItem>\n                    <MenuItem value=\"finished\">finished</MenuItem>\n                </Select>\n\n                <div>\n                    {markMangaCompletedBtn}\n                    {updateMangaBtn}\n                    {deleteMangaBtn}\n                </div>\n            </div>\n        )\n    }\n\n}\n\nexport default withStyles(styles)(MangaActions);","import React from \"react\"\nimport {withStyles} from \"@material-ui/styles\";\nimport TextField from \"@material-ui/core/TextField/index\";\nimport SaveIcon from \"@material-ui/icons/Save\"\nimport CancelIcon from \"@material-ui/icons/Cancel\"\nimport EditIcon from \"@material-ui/icons/Edit\"\n\nconst styles = () => ({\n    actionBtn: {\n        padding: 2,\n        margin: '3px 8px 0px 8px',\n        borderRadius: 3,\n        display: 'inline-block',\n        '&:hover': {\n            cursor: 'pointer',\n            background: '#efa230',\n            color: '#fff'\n        }\n    },\n\n    noteBtnGroup: {\n        display: 'flex',\n        justifyContent: 'flex-end',\n        margin: '10px 0 15px 0'\n    }\n});\n\nclass MangaNote extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {note: null};\n    }\n\n    onNoteEdited = (event) => {\n        this.setState({note: event.target.value})\n    };\n\n    editNoteClicked = () => {\n        this.setState({note: this.props.mangaNote})\n    };\n\n    cancelEditNote = () => {\n        this.setState({note: null});\n    };\n\n    saveNote = () => {\n        this.props.saveNote(this.state.note);\n        this.setState({note: null});\n    };\n\n    render() {\n        const {classes} = this.props;\n        const mangaNote = this.props.mangaNote;\n        const note = this.state.note;\n\n        if (note == null)\n            return (\n                <div>\n                    <div>\n                        {(mangaNote === '') ? (<i>Nothing to show</i>) : mangaNote}\n                    </div>\n                    <div className={classes.noteBtnGroup} onClick={this.editNoteClicked}>\n                        <EditIcon className={classes.actionBtn} fontSize={\"small\"} titleAccess='Edit'/>\n                    </div>\n                </div>\n            );\n\n        return (\n            <div>\n                <TextField\n                    fullWidth\n                    value={note}\n                    onChange={this.onNoteEdited}\n                />\n                <div className={classes.noteBtnGroup}>\n                    <SaveIcon\n                        className={classes.actionBtn}\n                        titleAccess='Save'\n                        onClick={this.saveNote}\n                    />\n                    <CancelIcon\n                        className={classes.actionBtn}\n                        titleAccess='Cancel'\n                        onClick={this.cancelEditNote}\n                    />\n                </div>\n            </div>\n        )\n    }\n\n}\n\nexport default withStyles(styles)(MangaNote);","function getMangaStatus(manga) {\n    const allRead = manga.chapters.every(ch => ch.isRead);\n\n    if (manga.isCompleted)\n        if (allRead)\n            return 'Finished';\n        else\n            return 'Many to read';\n\n    else if (allRead)\n        return 'Last chap reached';\n    else\n        return 'New chap';\n}\n\nconst mangaStatuses = [\n    'New chap', 'Many to read',\n    'Last chap reached', 'Finished'\n];\n\nconst mangaSourceRegex = {\n    'Hoc vien truyen tranh': /^https?:\\/\\/hocvientruyentranh\\.(com|net)\\/(index.php\\/)?truyen\\/[0-9]+\\/.+$/,\n    'Mangakakalot': /^https?:\\/\\/mangakakalot\\.com\\/manga\\/.+$/,\n    'Mangarock': /^https?:\\/\\/mangarock\\.com\\/manga\\/mrs-serie-[0-9]+$/,\n    'Nettruyen': /^https?:\\/\\/www\\.nettruyen\\.com\\/truyen-tranh\\/.+$/,\n    'MangaWWW': /^https?:\\/\\/mangawww\\.club\\/manga\\/.+$/,\n    'Otakusan': /^https?:\\/\\/otakusan\\.net\\/MangaDetail\\/[0-9]+\\/.+$/,\n    'TruyenQQ': /^https?:\\/\\/truyenqq\\.com\\/truyen-tranh\\/.+$/,\n    'Truyen Tranh 8': /^https?:\\/\\/truyentranh869\\.com\\/.+$/,\n    'Truyen Tranh Tuan': /^https?:\\/\\/truyentranhtuan\\.com\\/.+$/,\n    'MangaBat': /^https?:\\/\\/mangabat\\.com\\/manga\\/.+$/,\n    'Mangasim': /^https?:\\/\\/mangasim\\.com\\/manga\\/.+$/,\n    'Mangazuki': /^https?:\\/\\/mangazuki\\.me\\/manga\\/.+$/,\n    'Thich Truyen Tranh': /^https?:\\/\\/thichtruyentranh\\.com\\/.+\\/[0-9]+\\.html$/,\n    'Ham Truyen Tranh': /^http:\\/\\/www\\.hamtruyentranh\\.net\\/truyen\\/.+$/,\n    'Say Truyen': /^https?:\\/\\/saytruyen\\.com\\/truyen\\/.+$/,\n    'Truyen 1': /^https?:\\/\\/truyen1\\.net\\/TruyenTranh\\/.+$/,\n};\n\nfunction getMangaSource(link) {\n    for (let src in mangaSourceRegex)\n        if (link.match(mangaSourceRegex[src]))\n            return src;\n    return null;\n}\n\n/**\n * https://stackoverflow.com/a/5960592/7342188\n */\nconst defaultDiacriticsRemovalMap = [\n    {\n        'base': 'A',\n        'letters': /[\\u0041\\u24B6\\uFF21\\u00C0\\u00C1\\u00C2\\u1EA6\\u1EA4\\u1EAA\\u1EA8\\u00C3\\u0100\\u0102\\u1EB0\\u1EAE\\u1EB4\\u1EB2\\u0226\\u01E0\\u00C4\\u01DE\\u1EA2\\u00C5\\u01FA\\u01CD\\u0200\\u0202\\u1EA0\\u1EAC\\u1EB6\\u1E00\\u0104\\u023A\\u2C6F]/g\n    }, {\n        'base': 'AA',\n        'letters': /[\\uA732]/g\n    }, {\n        'base': 'AE',\n        'letters': /[\\u00C6\\u01FC\\u01E2]/g\n    }, {\n        'base': 'AO',\n        'letters': /[\\uA734]/g\n    }, {\n        'base': 'AU',\n        'letters': /[\\uA736]/g\n    }, {\n        'base': 'AV',\n        'letters': /[\\uA738\\uA73A]/g\n    }, {\n        'base': 'AY',\n        'letters': /[\\uA73C]/g\n    }, {\n        'base': 'B',\n        'letters': /[\\u0042\\u24B7\\uFF22\\u1E02\\u1E04\\u1E06\\u0243\\u0182\\u0181]/g\n    }, {\n        'base': 'C',\n        'letters': /[\\u0043\\u24B8\\uFF23\\u0106\\u0108\\u010A\\u010C\\u00C7\\u1E08\\u0187\\u023B\\uA73E]/g\n    }, {\n        'base': 'D',\n        'letters': /[\\u0044\\u24B9\\uFF24\\u1E0A\\u010E\\u1E0C\\u1E10\\u1E12\\u1E0E\\u0110\\u018B\\u018A\\u0189\\uA779]/g\n    }, {\n        'base': 'DZ',\n        'letters': /[\\u01F1\\u01C4]/g\n    }, {\n        'base': 'Dz',\n        'letters': /[\\u01F2\\u01C5]/g\n    }, {\n        'base': 'E',\n        'letters': /[\\u0045\\u24BA\\uFF25\\u00C8\\u00C9\\u00CA\\u1EC0\\u1EBE\\u1EC4\\u1EC2\\u1EBC\\u0112\\u1E14\\u1E16\\u0114\\u0116\\u00CB\\u1EBA\\u011A\\u0204\\u0206\\u1EB8\\u1EC6\\u0228\\u1E1C\\u0118\\u1E18\\u1E1A\\u0190\\u018E]/g\n    }, {\n        'base': 'F',\n        'letters': /[\\u0046\\u24BB\\uFF26\\u1E1E\\u0191\\uA77B]/g\n    }, {\n        'base': 'G',\n        'letters': /[\\u0047\\u24BC\\uFF27\\u01F4\\u011C\\u1E20\\u011E\\u0120\\u01E6\\u0122\\u01E4\\u0193\\uA7A0\\uA77D\\uA77E]/g\n    }, {\n        'base': 'H',\n        'letters': /[\\u0048\\u24BD\\uFF28\\u0124\\u1E22\\u1E26\\u021E\\u1E24\\u1E28\\u1E2A\\u0126\\u2C67\\u2C75\\uA78D]/g\n    }, {\n        'base': 'I',\n        'letters': /[\\u0049\\u24BE\\uFF29\\u00CC\\u00CD\\u00CE\\u0128\\u012A\\u012C\\u0130\\u00CF\\u1E2E\\u1EC8\\u01CF\\u0208\\u020A\\u1ECA\\u012E\\u1E2C\\u0197]/g\n    }, {\n        'base': 'J',\n        'letters': /[\\u004A\\u24BF\\uFF2A\\u0134\\u0248]/g\n    }, {\n        'base': 'K',\n        'letters': /[\\u004B\\u24C0\\uFF2B\\u1E30\\u01E8\\u1E32\\u0136\\u1E34\\u0198\\u2C69\\uA740\\uA742\\uA744\\uA7A2]/g\n    }, {\n        'base': 'L',\n        'letters': /[\\u004C\\u24C1\\uFF2C\\u013F\\u0139\\u013D\\u1E36\\u1E38\\u013B\\u1E3C\\u1E3A\\u0141\\u023D\\u2C62\\u2C60\\uA748\\uA746\\uA780]/g\n    }, {\n        'base': 'LJ',\n        'letters': /[\\u01C7]/g\n    }, {\n        'base': 'Lj',\n        'letters': /[\\u01C8]/g\n    }, {\n        'base': 'M',\n        'letters': /[\\u004D\\u24C2\\uFF2D\\u1E3E\\u1E40\\u1E42\\u2C6E\\u019C]/g\n    }, {\n        'base': 'N',\n        'letters': /[\\u004E\\u24C3\\uFF2E\\u01F8\\u0143\\u00D1\\u1E44\\u0147\\u1E46\\u0145\\u1E4A\\u1E48\\u0220\\u019D\\uA790\\uA7A4]/g\n    }, {\n        'base': 'NJ',\n        'letters': /[\\u01CA]/g\n    }, {\n        'base': 'Nj',\n        'letters': /[\\u01CB]/g\n    }, {\n        'base': 'O',\n        'letters': /[\\u004F\\u24C4\\uFF2F\\u00D2\\u00D3\\u00D4\\u1ED2\\u1ED0\\u1ED6\\u1ED4\\u00D5\\u1E4C\\u022C\\u1E4E\\u014C\\u1E50\\u1E52\\u014E\\u022E\\u0230\\u00D6\\u022A\\u1ECE\\u0150\\u01D1\\u020C\\u020E\\u01A0\\u1EDC\\u1EDA\\u1EE0\\u1EDE\\u1EE2\\u1ECC\\u1ED8\\u01EA\\u01EC\\u00D8\\u01FE\\u0186\\u019F\\uA74A\\uA74C]/g\n    }, {\n        'base': 'OI',\n        'letters': /[\\u01A2]/g\n    }, {\n        'base': 'OO',\n        'letters': /[\\uA74E]/g\n    }, {\n        'base': 'OU',\n        'letters': /[\\u0222]/g\n    }, {\n        'base': 'P',\n        'letters': /[\\u0050\\u24C5\\uFF30\\u1E54\\u1E56\\u01A4\\u2C63\\uA750\\uA752\\uA754]/g\n    }, {\n        'base': 'Q',\n        'letters': /[\\u0051\\u24C6\\uFF31\\uA756\\uA758\\u024A]/g\n    }, {\n        'base': 'R',\n        'letters': /[\\u0052\\u24C7\\uFF32\\u0154\\u1E58\\u0158\\u0210\\u0212\\u1E5A\\u1E5C\\u0156\\u1E5E\\u024C\\u2C64\\uA75A\\uA7A6\\uA782]/g\n    }, {\n        'base': 'S',\n        'letters': /[\\u0053\\u24C8\\uFF33\\u1E9E\\u015A\\u1E64\\u015C\\u1E60\\u0160\\u1E66\\u1E62\\u1E68\\u0218\\u015E\\u2C7E\\uA7A8\\uA784]/g\n    }, {\n        'base': 'T',\n        'letters': /[\\u0054\\u24C9\\uFF34\\u1E6A\\u0164\\u1E6C\\u021A\\u0162\\u1E70\\u1E6E\\u0166\\u01AC\\u01AE\\u023E\\uA786]/g\n    }, {\n        'base': 'TZ',\n        'letters': /[\\uA728]/g\n    }, {\n        'base': 'U',\n        'letters': /[\\u0055\\u24CA\\uFF35\\u00D9\\u00DA\\u00DB\\u0168\\u1E78\\u016A\\u1E7A\\u016C\\u00DC\\u01DB\\u01D7\\u01D5\\u01D9\\u1EE6\\u016E\\u0170\\u01D3\\u0214\\u0216\\u01AF\\u1EEA\\u1EE8\\u1EEE\\u1EEC\\u1EF0\\u1EE4\\u1E72\\u0172\\u1E76\\u1E74\\u0244]/g\n    }, {\n        'base': 'V',\n        'letters': /[\\u0056\\u24CB\\uFF36\\u1E7C\\u1E7E\\u01B2\\uA75E\\u0245]/g\n    }, {\n        'base': 'VY',\n        'letters': /[\\uA760]/g\n    }, {\n        'base': 'W',\n        'letters': /[\\u0057\\u24CC\\uFF37\\u1E80\\u1E82\\u0174\\u1E86\\u1E84\\u1E88\\u2C72]/g\n    }, {\n        'base': 'X',\n        'letters': /[\\u0058\\u24CD\\uFF38\\u1E8A\\u1E8C]/g\n    }, {\n        'base': 'Y',\n        'letters': /[\\u0059\\u24CE\\uFF39\\u1EF2\\u00DD\\u0176\\u1EF8\\u0232\\u1E8E\\u0178\\u1EF6\\u1EF4\\u01B3\\u024E\\u1EFE]/g\n    }, {\n        'base': 'Z',\n        'letters': /[\\u005A\\u24CF\\uFF3A\\u0179\\u1E90\\u017B\\u017D\\u1E92\\u1E94\\u01B5\\u0224\\u2C7F\\u2C6B\\uA762]/g\n    }, {\n        'base': 'a',\n        'letters': /[\\u0061\\u24D0\\uFF41\\u1E9A\\u00E0\\u00E1\\u00E2\\u1EA7\\u1EA5\\u1EAB\\u1EA9\\u00E3\\u0101\\u0103\\u1EB1\\u1EAF\\u1EB5\\u1EB3\\u0227\\u01E1\\u00E4\\u01DF\\u1EA3\\u00E5\\u01FB\\u01CE\\u0201\\u0203\\u1EA1\\u1EAD\\u1EB7\\u1E01\\u0105\\u2C65\\u0250]/g\n    }, {\n        'base': 'aa',\n        'letters': /[\\uA733]/g\n    }, {\n        'base': 'ae',\n        'letters': /[\\u00E6\\u01FD\\u01E3]/g\n    }, {\n        'base': 'ao',\n        'letters': /[\\uA735]/g\n    }, {\n        'base': 'au',\n        'letters': /[\\uA737]/g\n    }, {\n        'base': 'av',\n        'letters': /[\\uA739\\uA73B]/g\n    }, {\n        'base': 'ay',\n        'letters': /[\\uA73D]/g\n    }, {\n        'base': 'b',\n        'letters': /[\\u0062\\u24D1\\uFF42\\u1E03\\u1E05\\u1E07\\u0180\\u0183\\u0253]/g\n    }, {\n        'base': 'c',\n        'letters': /[\\u0063\\u24D2\\uFF43\\u0107\\u0109\\u010B\\u010D\\u00E7\\u1E09\\u0188\\u023C\\uA73F\\u2184]/g\n    }, {\n        'base': 'd',\n        'letters': /[\\u0064\\u24D3\\uFF44\\u1E0B\\u010F\\u1E0D\\u1E11\\u1E13\\u1E0F\\u0111\\u018C\\u0256\\u0257\\uA77A]/g\n    }, {\n        'base': 'dz',\n        'letters': /[\\u01F3\\u01C6]/g\n    }, {\n        'base': 'e',\n        'letters': /[\\u0065\\u24D4\\uFF45\\u00E8\\u00E9\\u00EA\\u1EC1\\u1EBF\\u1EC5\\u1EC3\\u1EBD\\u0113\\u1E15\\u1E17\\u0115\\u0117\\u00EB\\u1EBB\\u011B\\u0205\\u0207\\u1EB9\\u1EC7\\u0229\\u1E1D\\u0119\\u1E19\\u1E1B\\u0247\\u025B\\u01DD]/g\n    }, {\n        'base': 'f',\n        'letters': /[\\u0066\\u24D5\\uFF46\\u1E1F\\u0192\\uA77C]/g\n    }, {\n        'base': 'g',\n        'letters': /[\\u0067\\u24D6\\uFF47\\u01F5\\u011D\\u1E21\\u011F\\u0121\\u01E7\\u0123\\u01E5\\u0260\\uA7A1\\u1D79\\uA77F]/g\n    }, {\n        'base': 'h',\n        'letters': /[\\u0068\\u24D7\\uFF48\\u0125\\u1E23\\u1E27\\u021F\\u1E25\\u1E29\\u1E2B\\u1E96\\u0127\\u2C68\\u2C76\\u0265]/g\n    }, {\n        'base': 'hv',\n        'letters': /[\\u0195]/g\n    }, {\n        'base': 'i',\n        'letters': /[\\u0069\\u24D8\\uFF49\\u00EC\\u00ED\\u00EE\\u0129\\u012B\\u012D\\u00EF\\u1E2F\\u1EC9\\u01D0\\u0209\\u020B\\u1ECB\\u012F\\u1E2D\\u0268\\u0131]/g\n    }, {\n        'base': 'j',\n        'letters': /[\\u006A\\u24D9\\uFF4A\\u0135\\u01F0\\u0249]/g\n    }, {\n        'base': 'k',\n        'letters': /[\\u006B\\u24DA\\uFF4B\\u1E31\\u01E9\\u1E33\\u0137\\u1E35\\u0199\\u2C6A\\uA741\\uA743\\uA745\\uA7A3]/g\n    }, {\n        'base': 'l',\n        'letters': /[\\u006C\\u24DB\\uFF4C\\u0140\\u013A\\u013E\\u1E37\\u1E39\\u013C\\u1E3D\\u1E3B\\u017F\\u0142\\u019A\\u026B\\u2C61\\uA749\\uA781\\uA747]/g\n    }, {\n        'base': 'lj',\n        'letters': /[\\u01C9]/g\n    }, {\n        'base': 'm',\n        'letters': /[\\u006D\\u24DC\\uFF4D\\u1E3F\\u1E41\\u1E43\\u0271\\u026F]/g\n    }, {\n        'base': 'n',\n        'letters': /[\\u006E\\u24DD\\uFF4E\\u01F9\\u0144\\u00F1\\u1E45\\u0148\\u1E47\\u0146\\u1E4B\\u1E49\\u019E\\u0272\\u0149\\uA791\\uA7A5]/g\n    }, {\n        'base': 'nj',\n        'letters': /[\\u01CC]/g\n    }, {\n        'base': 'o',\n        'letters': /[\\u006F\\u24DE\\uFF4F\\u00F2\\u00F3\\u00F4\\u1ED3\\u1ED1\\u1ED7\\u1ED5\\u00F5\\u1E4D\\u022D\\u1E4F\\u014D\\u1E51\\u1E53\\u014F\\u022F\\u0231\\u00F6\\u022B\\u1ECF\\u0151\\u01D2\\u020D\\u020F\\u01A1\\u1EDD\\u1EDB\\u1EE1\\u1EDF\\u1EE3\\u1ECD\\u1ED9\\u01EB\\u01ED\\u00F8\\u01FF\\u0254\\uA74B\\uA74D\\u0275]/g\n    }, {\n        'base': 'oi',\n        'letters': /[\\u01A3]/g\n    }, {\n        'base': 'ou',\n        'letters': /[\\u0223]/g\n    }, {\n        'base': 'oo',\n        'letters': /[\\uA74F]/g\n    }, {\n        'base': 'p',\n        'letters': /[\\u0070\\u24DF\\uFF50\\u1E55\\u1E57\\u01A5\\u1D7D\\uA751\\uA753\\uA755]/g\n    }, {\n        'base': 'q',\n        'letters': /[\\u0071\\u24E0\\uFF51\\u024B\\uA757\\uA759]/g\n    }, {\n        'base': 'r',\n        'letters': /[\\u0072\\u24E1\\uFF52\\u0155\\u1E59\\u0159\\u0211\\u0213\\u1E5B\\u1E5D\\u0157\\u1E5F\\u024D\\u027D\\uA75B\\uA7A7\\uA783]/g\n    }, {\n        'base': 's',\n        'letters': /[\\u0073\\u24E2\\uFF53\\u00DF\\u015B\\u1E65\\u015D\\u1E61\\u0161\\u1E67\\u1E63\\u1E69\\u0219\\u015F\\u023F\\uA7A9\\uA785\\u1E9B]/g\n    }, {\n        'base': 't',\n        'letters': /[\\u0074\\u24E3\\uFF54\\u1E6B\\u1E97\\u0165\\u1E6D\\u021B\\u0163\\u1E71\\u1E6F\\u0167\\u01AD\\u0288\\u2C66\\uA787]/g\n    }, {\n        'base': 'tz',\n        'letters': /[\\uA729]/g\n    }, {\n        'base': 'u',\n        'letters': /[\\u0075\\u24E4\\uFF55\\u00F9\\u00FA\\u00FB\\u0169\\u1E79\\u016B\\u1E7B\\u016D\\u00FC\\u01DC\\u01D8\\u01D6\\u01DA\\u1EE7\\u016F\\u0171\\u01D4\\u0215\\u0217\\u01B0\\u1EEB\\u1EE9\\u1EEF\\u1EED\\u1EF1\\u1EE5\\u1E73\\u0173\\u1E77\\u1E75\\u0289]/g\n    }, {\n        'base': 'v',\n        'letters': /[\\u0076\\u24E5\\uFF56\\u1E7D\\u1E7F\\u028B\\uA75F\\u028C]/g\n    }, {\n        'base': 'vy',\n        'letters': /[\\uA761]/g\n    }, {\n        'base': 'w',\n        'letters': /[\\u0077\\u24E6\\uFF57\\u1E81\\u1E83\\u0175\\u1E87\\u1E85\\u1E98\\u1E89\\u2C73]/g\n    }, {\n        'base': 'x',\n        'letters': /[\\u0078\\u24E7\\uFF58\\u1E8B\\u1E8D]/g\n    }, {\n        'base': 'y',\n        'letters': /[\\u0079\\u24E8\\uFF59\\u1EF3\\u00FD\\u0177\\u1EF9\\u0233\\u1E8F\\u00FF\\u1EF7\\u1E99\\u1EF5\\u01B4\\u024F\\u1EFF]/g\n    }, {\n        'base': 'z',\n        'letters': /[\\u007A\\u24E9\\uFF5A\\u017A\\u1E91\\u017C\\u017E\\u1E93\\u1E95\\u01B6\\u0225\\u0240\\u2C6C\\uA763]/g\n    }\n];\n\nfunction removeDiacritics(str) {\n    defaultDiacriticsRemovalMap.forEach(change => {\n        str = str.replace(change.letters, change.base);\n    });\n    return str;\n}\n\nfunction minusArray(arr1, arr2) {\n    return arr1.filter(e => arr2.indexOf(e) === -1);\n}\n\nexport default {\n    getMangaStatus,\n    mangaStatuses,\n    getMangaSource,\n    removeDiacritics,\n    minusArray\n}","import React from \"react\"\nimport {withStyles} from \"@material-ui/styles\";\nimport Grid from \"@material-ui/core/Grid\";\nimport utils from \"../../utils\"\n\nconst styles = () => ({\n    infoHeader: {\n        fontWeight: 550,\n    },\n    mangaName: {\n        color: '#525252',\n        fontSize: '130%',\n        fontWeight: 900,\n        textDecoration: 'none',\n        '&:hover': {\n            textDecoration: 'underline',\n            color: '#000'\n        }\n    },\n    mangaDetails: {\n        marginTop: 20\n    },\n});\n\nclass MangaInfoCell extends React.Component {\n\n    render() {\n        const {classes} = this.props;\n        const manga = this.props.manga;\n        const mangaSource = utils.getMangaSource(manga.link);\n\n        return (\n            <div>\n                <div>\n                    <a className={classes.mangaName} href={manga.link}>{manga.name}</a>\n                </div>\n                <Grid container  className={classes.mangaDetails}>\n\n                    <Grid item xs={4} className={classes.infoHeader}>Source</Grid>\n                    <Grid item xs={8}>{mangaSource}</Grid>\n\n                    <Grid item xs={4} className={classes.infoHeader}>Total chapters</Grid>\n                    <Grid item xs={8}>{manga.chapters.length}</Grid>\n\n                </Grid>\n            </div>\n        )\n    }\n\n}\n\nexport default withStyles(styles)(MangaInfoCell);","import React from \"react\"\n\nimport {Badge, TableRow} from \"@material-ui/core\";\nimport TableCell from \"@material-ui/core/TableCell/index\";\nimport {withStyles} from \"@material-ui/styles\";\n\nimport ChapterList from \"./ChapterList\";\nimport MangaActions from \"./MangaActions\";\nimport MangaNote from \"./MangaNote\";\nimport utils from \"../../utils\"\nimport MangaInfoCell from \"./MangaInfoCell\";\n\nconst styles = () => ({\n    F: {\n        color: '#999999'\n    },\n    MTR: {\n        color: '#efa230'\n    },\n    LCR: {\n        color: 'rgba(37,68,111,0.95)'\n    },\n    NC: {\n        color: '#07853a'\n    },\n\n    mangaStatus: {\n        margin: '5px 12px',\n        fontWeight: 900,\n        fontSize: '120%',\n        textTransform: 'capitalize'\n    },\n\n    mangaImg: {\n        width: 100,\n        minHeight: 100\n    }\n});\n\nclass Row extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            updatingManga: false,\n            manga: props.manga,\n            note: null\n        }\n    }\n\n    markChapterReadStatus = async (chapters, action) => {\n        const mangaID = this.state.manga._id;\n\n        if (chapters.length === 0) return;\n        const url = `/api/chapter/${action}`;\n        const fetchOptions = {\n            method: 'POST',\n            credentials: \"same-origin\",\n            headers: {'Content-Type': 'application/json'},\n            body: JSON.stringify({\n                manga: mangaID,\n                chapters: chapters\n            })\n        };\n\n        const response = await fetch(url, fetchOptions);\n        if (!response.ok)\n            throw new Error(await response.text())\n    };\n\n    markChaptersAsRead = async (links) => {\n        const {manga} = this.state;\n        const {chapters} = manga;\n\n        let oldValues = chapters.filter(ch => ch.isRead).map(ch => ch.link);\n\n        const markRead = utils.minusArray(links, oldValues);\n        const markUnread = utils.minusArray(oldValues, links);\n\n        try {\n            await Promise.all([\n                this.markChapterReadStatus(markRead, 'read'),\n                this.markChapterReadStatus(markUnread, 'unread')\n            ]);\n\n            chapters.forEach(chap => chap.isRead = links.indexOf(chap.link) > -1);\n            this.setState({manga: manga});\n\n        } catch (e) {\n            alert('ERROR ' + e);\n        }\n    };\n\n    onChangeChapter = async (event) => {\n        await this.markChaptersAsRead(event.target.value)\n    };\n\n    onMarkChaptersAsReadUpTo = async (upTo) => {\n        const links = this.state.manga.chapters\n            .map((ch, i) => (i >= upTo) ? ch.link : null) // get links of chapters with i >= upTo\n            .filter(link => link !== null); // remove null\n\n        await this.markChaptersAsRead(links);\n    };\n\n    onMarkAllChaptersRead = async () => {\n        const {manga} = this.state;\n        const {chapters} = manga;\n        const markRead = chapters.filter(ch => !ch.isRead).map(ch => ch.link);\n        try {\n            await this.markChapterReadStatus(markRead, 'read');\n            chapters.forEach(ch => ch.isRead = true);\n            this.setState({manga: manga})\n        } catch (e) {\n            alert('ERROR ' + e);\n        }\n    };\n\n    saveNote = async (note) => {\n        const {manga} = this.state;\n\n        try {\n            await this.props.onEditManga(manga._id, {note: note});\n            manga.note = note;\n            this.setState({manga: manga, note: null});\n        } catch (e) {\n            alert('ERROR: ' + e);\n        }\n    };\n\n    deleteManga = () => {\n        if (!window.confirm('Are you sure to delete this manga?'))\n            return;\n        this.props.onDeleteManga(this.state.manga._id)\n    };\n\n    onChangeCompleted = async () => {\n        const {manga} = this.state;\n\n        try {\n            await this.props.onEditManga(manga._id, {isCompleted: true});\n            manga.isCompleted = true;\n            this.setState({manga: manga});\n        } catch (e) {\n            alert('ERROR: ' + e);\n        }\n    };\n\n    onChangeFollowing = async (event) => {\n        const {manga} = this.state;\n        const following = event.target.value;\n\n        try {\n            await this.props.onEditManga(manga._id, {following: following});\n            manga.following = following;\n            this.setState({manga: manga});\n        } catch (e) {\n            alert('ERROR: ' + e);\n        }\n    };\n\n    updateManga = async () => {\n        this.setState({updatingManga: true});\n\n        let {manga} = this.state;\n\n        const url = `/api/manga/update`;\n        const fetchOptions = {\n            method: 'POST',\n            credentials: \"same-origin\",\n            headers: {'Content-Type': 'application/json'},\n            body: JSON.stringify({'manga': manga._id})\n        };\n\n        const response = await fetch(url, fetchOptions);\n        if (!response.ok) {\n            this.setState({updatingManga: false});\n            alert('ERROR ' + await response.text());\n            return\n        }\n\n        this.setState({\n            manga: await response.json(),\n            updatingManga: false\n        });\n        alert(`Manga \"${manga.name}\" updated successfully!`);\n    };\n\n    render() {\n        const {classes} = this.props;\n        const {manga, updatingManga} = this.state;\n        const chapters = manga.chapters;\n\n        const status = utils.getMangaStatus(manga);\n        const colorClass = {\n            'Finished': classes.F,\n            'Many to read': classes.MTR,\n            'Last chap reached': classes.LCR,\n            'New chap': classes.NC\n        }[status];\n\n        const numberUnreadChap = chapters.filter(ch => !ch.isRead).length;\n\n        return (\n            <TableRow>\n\n                <TableCell>\n                    <Badge badgeContent={numberUnreadChap} color=\"error\" max={10}>\n                        <div className={[colorClass, classes.mangaStatus].join(' ')}>{status}</div>\n                    </Badge>\n                </TableCell>\n\n                <TableCell>\n                    <div className={classes.mangaImg}>\n                        <img src={manga.image} alt='img' className={classes.mangaImg}/>\n                    </div>\n                </TableCell>\n\n                <TableCell>\n                    <MangaInfoCell manga={manga}/>\n                </TableCell>\n\n                <TableCell>\n                    <ChapterList\n                        chapters={chapters}\n                        onChangeChapter={this.onChangeChapter}\n                        onMarkUpTo={this.onMarkChaptersAsReadUpTo}\n                        onMarkAllChaptersRead={this.onMarkAllChaptersRead}\n                        showNextChapBtn={true}\n                        markAllRead='after'\n                    />\n                </TableCell>\n\n                <TableCell>\n                    <MangaActions\n                        updatingManga={updatingManga}\n                        manga={manga}\n                        onChangeCompleted={this.onChangeCompleted}\n                        onChangeFollowing={this.onChangeFollowing}\n                        updateManga={this.updateManga}\n                        deleteManga={this.deleteManga}\n                    />\n                </TableCell>\n\n                <TableCell>\n                    <MangaNote\n                        mangaNote={manga.note}\n                        saveNote={this.saveNote}\n                    />\n                </TableCell>\n\n            </TableRow>\n        )\n    }\n\n}\n\nexport default withStyles(styles)(Row);","import React from 'react';\nimport withStyles from \"@material-ui/core/styles/withStyles\";\n\nimport {\n    CircularProgress,\n    Fab,\n    Table,\n    TableBody,\n    TableCell,\n    TableHead,\n    TableRow,\n    Typography,\n    Tooltip\n} from \"@material-ui/core\";\n\nimport ArrowDropDown from \"@material-ui/core/es/internal/svg-icons/ArrowDropDown\";\n\n\nimport Row from \"./Row\";\n\nconst styles = () => ({\n    table: {\n        marginTop: 45,\n    },\n    tableHeader: {\n        background: '#00bea6',\n        '&:hover': {\n            background: '#00bea6'\n        }\n    },\n    tableHeaderCell: {\n        fontSize: '110%',\n        fontWeight: 800,\n        color: 'rgba(51,51,51,0.89)'\n    },\n    blur: {\n        filter: 'opacity(50%) blur(0.25px)'\n    },\n    waiting: {\n        padding: 20,\n        textAlign: 'center'\n    },\n    showMore: {\n        marginTop: 30,\n        display: 'flex',\n        justifyContent: 'center'\n    }\n});\n\nconst dummy = [\n    {\n        _id: \"0\",\n        chapters: [\n            // {\n            //     _id: \"5cd3cb713615403f7bdc0e9d\",\n            //     isRead: false,\n            //     createAt: '2020-05-16',\n            //     \"name\": \"Chapter 3B\",\n            //     \"link\": \"http://www.nettruyen.com/truyen-tranh/the-shocking-reality-of-a-loan-shark-collecting-money/chap-3/465979\",\n            // },\n            // {\n            //     _id: \"5cd3cb713615403f7bdc0e9e\",\n            //     isRead: false,\n            //     createAt: '2015-05-16',\n            //     \"name\": \"Chapter 2B\",\n            //     \"link\": \"http://www.nettruyen.com/truyen-tranh/the-shocking-reality-of-a-loan-shark-collecting-money/chap-2/465978\",\n            // },\n            // {\n            //     _id: \"5cd3cb713615403f7bdc0e9f\",\n            //     isRead: false,\n            //     createAt: '2014-05-16',\n            //     \"name\": \"Chapter 1B\",\n            //     \"link\": \"http://www.nettruyen.com/truyen-tranh/the-shocking-reality-of-a-loan-shark-collecting-money/chap-1/465210\",\n            // }\n        ],\n        following: 'following',\n        isCompleted: false,\n        note: 'This is a note',\n        name: \"AAA The Shocking Reality Of A Loan Shark Collecting Money\",\n        link: \"http://www.nettruyen.com/truyen-tranh/the-shocking-reality-of-a-loan-shark-collecting-money\",\n        image: \"http://st.nettruyen.com/data/comics/203/the-shocking-reality-of-a-loan-shark-col-6168.jpg\",\n    },\n    {\n        _id: \"1\",\n        chapters: [\n            {\n                _id: \"5cd3cb713615403f7bdc0e9d\",\n                isRead: false,\n                createAt: '2020-05-16',\n                \"name\": \"Chapter 3B\",\n                \"link\": \"http://www.nettruyen.com/truyen-tranh/the-shocking-reality-of-a-loan-shark-collecting-money/chap-3/465979\",\n            },\n            {\n                _id: \"5cd3cb713615403f7bdc0e9e\",\n                isRead: true,\n                createAt: '2015-05-16',\n                \"name\": \"this is a chapter name with very long linesss\",\n                \"link\": \"http://www.nettruyen.com/truyen-tranh/the-shocking-reality-of-a-loan-shark-collecting-money/chap-2/465978\",\n            },\n            {\n                _id: \"5cd3cb713615403f7bdc0e9f\",\n                isRead: true,\n                createAt: '2014-05-16',\n                \"name\": \"Chapter 1B\",\n                \"link\": \"http://www.nettruyen.com/truyen-tranh/the-shocking-reality-of-a-loan-shark-collecting-money/chap-1/465210\",\n            }\n        ],\n        following: 'following',\n        isCompleted: true,\n        note: 'A looooooooooong long sdkfj sdlfjlskdj flksdjlkfjsdlkjf klsd fsadjfsd note sadf asdfs',\n        name: \"AAA The Shocking Reality Of A Loan Shark Collecting Money\",\n        link: \"http://www.nettruyen.com/truyen-tranh/the-shocking-reality-of-a-loan-shark-collecting-money\",\n        image: \"http://st.nettruyen.com/data/comics/203/the-shocking-reality-of-a-loan-shark-col-6168.jpg\",\n\n    },\n    {\n        _id: \"2\",\n        chapters: [\n            {\n                _id: \"5cd3cb713615403f7bdc0e9d\",\n                isRead: true,\n                createAt: '2020-05-16',\n                \"name\": \"Chapter 3B\",\n                \"link\": \"http://www.nettruyen.com/truyen-tranh/the-shocking-reality-of-a-loan-shark-collecting-money/chap-3/465979\",\n            },\n            {\n                _id: \"5cd3cb713615403f7bdc0e9e\",\n                isRead: true,\n                createAt: '2015-05-16',\n                \"name\": \"Chapter 2B\",\n                \"link\": \"http://www.nettruyen.com/truyen-tranh/the-shocking-reality-of-a-loan-shark-collecting-money/chap-2/465978\",\n            },\n            {\n                _id: \"5cd3cb713615403f7bdc0e9f\",\n                isRead: true,\n                createAt: '2014-05-16',\n                \"name\": \"Chapter 1B\",\n                \"link\": \"http://www.nettruyen.com/truyen-tranh/the-shocking-reality-of-a-loan-shark-collecting-money/chap-1/465210\",\n            }\n        ],\n        following: 'following',\n        isCompleted: false,\n        note: '',\n        name: \"AAA The Shocking Reality Of A Loan Shark Collecting Money\",\n        link: \"http://www.nettruyen.com/truyen-tranh/the-shocking-reality-of-a-loan-shark-collecting-money\",\n        image: \"http://st.nettruyen.com/data/comics/203/the-shocking-reality-of-a-loan-shark-col-6168.jpg\",\n\n    },\n    {\n        _id: \"3\",\n        chapters: [\n            {\n                _id: \"5cd3cb713615403f7bdc0e9d\",\n                isRead: true,\n                createAt: '2020-05-16',\n                \"name\": \"Chapter 3B\",\n                \"link\": \"http://www.nettruyen.com/truyen-tranh/the-shocking-reality-of-a-loan-shark-collecting-money/chap-3/465979\",\n            },\n            {\n                _id: \"5cd3cb713615403f7bdc0e9e\",\n                isRead: true,\n                createAt: '2015-05-16',\n                \"name\": \"Chapter 2B\",\n                \"link\": \"http://www.nettruyen.com/truyen-tranh/the-shocking-reality-of-a-loan-shark-collecting-money/chap-2/465978\",\n            },\n            {\n                _id: \"5cd3cb713615403f7bdc0e9f\",\n                isRead: true,\n                createAt: '2014-05-16',\n                \"name\": \"Chapter 1B\",\n                \"link\": \"http://www.nettruyen.com/truyen-tranh/the-shocking-reality-of-a-loan-shark-collecting-money/chap-1/465210\",\n            }\n        ],\n        following: 'following',\n        isCompleted: true,\n        note: '',\n        name: \"AAA The Shocking Reality Of A Loan Shark Collecting Money\",\n        link: \"http://www.nettruyen.com/truyen-tranh/the-shocking-reality-of-a-loan-shark-collecting-money\",\n        image: \"http://st.nettruyen.com/data/comics/203/the-shocking-reality-of-a-loan-shark-col-6168.jpg\",\n\n    },\n];\n\nclass MangaTable extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            page: 1,\n            allLoaded: false,\n            fetchData: [],\n            searchData: [],\n            loading: true\n        }\n    }\n\n    componentDidMount() {\n        if (this.props.isAuthorized)\n            this.fetchManga()\n                .catch(alert)\n        // this.setState({fetchData: dummy})\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        const {fetchData, searchData} = this.state;\n        const {newManga} = this.props;\n\n        if (newManga !== prevProps.newManga\n            && newManga !== null\n            && !fetchData.find(manga => manga.link === newManga.link)) {\n            fetchData.unshift(newManga);\n            this.setState({fetchData: fetchData})\n        }\n\n        if (this.props.sortMethod !== prevProps.sortMethod) {\n            this.props.sortMethod(fetchData);\n            this.props.sortMethod(searchData);\n            this.setState({fetchData: fetchData, searchData: searchData});\n        }\n\n        const {dataSource, isAuthorized} = this.props;\n        if (isAuthorized) {\n            if (dataSource !== prevProps.dataSource) {\n                if (dataSource === 'fetch' && this.props.following !== prevProps.following)\n                    this.fetchManga().catch(alert);\n                if (dataSource === 'search' && this.props.searchTerm !== prevProps.searchTerm)\n                    this.searchManga().catch(alert);\n                return\n            }\n\n            if (this.props.following !== prevProps.following && dataSource === 'fetch') {\n                this.fetchManga().catch(alert)\n            }\n\n            if (this.props.searchTerm !== prevProps.searchTerm && dataSource === 'search') {\n                this.searchManga().catch(alert);\n            }\n\n            if (this.props.isAuthorized !== prevProps.isAuthorized) {\n                if (dataSource === 'fetch')\n                    this.fetchManga().catch(alert);\n                if (dataSource === 'search')\n                    this.searchManga().catch(alert);\n            }\n        }\n    }\n\n    fetchManga = async (page = 1) => {\n        const {following} = this.props;\n        let {fetchData} = this.state;\n\n        const url = `/api/manga?following=${following}&page=${page}`;\n\n        const fetchOptions = {\n            method: 'GET',\n            credentials: \"same-origin\",\n        };\n\n        this.setState({loading: true});\n        const response = await fetch(url, fetchOptions);\n\n        if (response.ok) {\n            const newData = await response.json();\n            fetchData = (page === 1) ? newData : fetchData.concat(newData);\n            this.props.sortMethod(fetchData);\n            this.setState({\n                fetchData: fetchData,\n                loading: false,\n                page: page,\n                allLoaded: newData.length === 0\n            });\n            return;\n        }\n\n        throw await response.text();\n    };\n\n    searchManga = async () => {\n        const searchTerm = encodeURIComponent(this.props.searchTerm.trim());\n        if (searchTerm === '')\n            return;\n\n        const url = '/api/manga/search?term=' + searchTerm;\n        const fetchOptions = {\n            method: 'GET',\n            credentials: \"same-origin\",\n        };\n\n        this.setState({loading: true});\n        const response = await fetch(url, fetchOptions);\n\n        if (response.ok) {\n            const data = await response.json();\n            this.props.sortMethod(data);\n            this.setState({searchData: data, loading: false});\n            return;\n        }\n\n        throw await response.text();\n    };\n\n    onEditManga = async (mangaID, updatedValues) => {\n        updatedValues.manga = mangaID;\n        const url = `/api/manga/edit`;\n        const fetchOptions = {\n            method: 'POST',\n            credentials: \"same-origin\",\n            headers: {'Content-Type': 'application/json'},\n            body: JSON.stringify(updatedValues)\n        };\n        const response = await fetch(url, fetchOptions);\n\n        if (!response.ok)\n            throw await response.text();\n\n        let {fetchData} = this.state;\n\n        // filter out fetched mangas that do not have matching following attribute\n        if (updatedValues.hasOwnProperty('following'))\n            fetchData = fetchData.filter((m) => (m._id !== mangaID || m.following === updatedValues.following));\n\n        this.setState({fetchData: fetchData});\n    };\n\n    onDeleteManga = async (mangaID) => {\n        try {\n            const url = `/api/manga/delete`;\n            const fetchOptions = {\n                method: 'POST',\n                credentials: \"same-origin\",\n                headers: {'Content-Type': 'application/json'},\n                body: JSON.stringify({manga: mangaID})\n            };\n            const response = await fetch(url, fetchOptions);\n\n            if (!response.ok) {\n                const text = await response.text();\n                alert(\"ERROR: \" + text);\n                return\n            }\n\n            const fetchData = this.state.fetchData.filter(m => m._id !== mangaID);\n            const searchData = this.state.searchData.filter(m => m._id !== mangaID);\n            this.setState({fetchData: fetchData, searchData: searchData});\n\n        } catch (e) {\n            alert(\"ERROR: \" + e);\n        }\n    };\n\n    loadMore = async () => {\n        const {page} = this.state;\n        await this.fetchManga(page + 1);\n    };\n\n    dataToRows = (data) => {\n        return data.map(d =>\n            <Row manga={d}\n                 key={d._id}\n                 onEditManga={this.onEditManga}\n                 onDeleteManga={this.onDeleteManga}\n            />\n        );\n    };\n\n    render() {\n        const {classes, dataSource} = this.props;\n        const {loading, allLoaded} = this.state;\n        const data = (dataSource === 'fetch')\n            ? this.state.fetchData\n            : this.state.searchData;\n\n        let tableClass = classes.table;\n\n        let rows;\n        if (loading) {\n            rows = this.dataToRows(data);\n            rows.push(\n                <TableRow>\n                    <TableCell colSpan={6} className={classes.waiting}><CircularProgress/></TableCell>\n                </TableRow>\n            );\n        } else if (data.length === 0)\n            rows =\n                <TableRow>\n                    <TableCell colSpan={6}><Typography>Nothing to show</Typography></TableCell>\n                </TableRow>;\n        else\n            rows = this.dataToRows(data);\n\n        return (\n            <div>\n                <Table className={tableClass}>\n                    <TableHead>\n                        <TableRow className={classes.tableHeader}>\n                            <TableCell className={classes.tableHeaderCell}> Status </TableCell>\n                            <TableCell className={classes.tableHeaderCell} colSpan={2}> Name </TableCell>\n                            <TableCell className={classes.tableHeaderCell}> Chapters </TableCell>\n                            <TableCell className={classes.tableHeaderCell}> Action </TableCell>\n                            <TableCell className={classes.tableHeaderCell}> Note </TableCell>\n                        </TableRow>\n                    </TableHead>\n                    <TableBody>\n                        {rows}\n                    </TableBody>\n                </Table>\n\n                {(loading || allLoaded) ? '' :\n                    <div className={classes.showMore}>\n                        <Tooltip title=\"Show more\" placement=\"bottom\">\n                            <Fab onClick={this.loadMore} size={\"small\"} color={\"secondary\"}>\n                                <ArrowDropDown/>\n                            </Fab>\n                        </Tooltip>\n                    </div>\n                }\n            </div>\n        );\n    }\n\n}\n\nexport default withStyles(styles)(MangaTable);\n","import React from 'react';\n\nimport withStyles from \"@material-ui/core/styles/withStyles\";\n\nimport FloatButtons from \"./FloatButtons\";\nimport Header from \"./Header\";\nimport MangaTable from \"./MangaTable\";\nimport utils from \"../utils\";\n\nconst styles = () => ({\n    content: {\n        paddingLeft: 24,\n        paddingRight: 24\n    },\n    header: {\n        display: 'flex',\n        justifyContent: 'space-between'\n    }\n});\n\nclass Content extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            sortby: 'status',\n            dataSource: 'fetch', // fetch or search\n            following: 'following',\n            searchTerm: '',\n            updatingMangas: false,\n            newManga: null,\n            mangaTableKey: new Date()\n        };\n    }\n\n    onSortByChange = (event) => {\n        this.setState({\n            sortby: event.target.value\n        })\n    };\n\n    onFollowingChange = (event) => {\n        this.setState({\n            dataSource: 'fetch',\n            following: event.target.value\n        });\n    };\n\n    onSearch = (searchTerm) => {\n        this.setState({\n            dataSource: 'search',\n            searchTerm: searchTerm,\n        })\n    };\n\n    closeSearchResult = () => {\n        this.setState({\n            dataSource: 'fetch',\n            searchTerm: ''\n        })\n    };\n\n    onAddManga = async (manga) => {\n        const url = '/api/manga/add';\n        const fetchOptions = {\n            method: 'POST',\n            credentials: \"same-origin\",\n            headers: {'Content-Type': 'application/json'},\n            body: JSON.stringify(manga)\n        };\n\n        const response = await fetch(url, fetchOptions);\n\n        if (!response.ok)\n            throw await response.text();\n\n        this.setState({\n            dataSource: 'fetch',\n            following: manga.following,\n            newManga: await response.json()\n        });\n    };\n\n    onUpdateManga = async () => {\n        this.setState({updatingMangas: true});\n\n        const {following} = this.state;\n\n        const url = '/api/manga/update-multiple';\n        const fetchOptions = {\n            method: 'POST',\n            credentials: \"same-origin\",\n            headers: {'Content-Type': 'application/json'},\n            body: JSON.stringify({following: following})\n        };\n\n        const response = await fetch(url, fetchOptions);\n\n        if (!response.ok) {\n            this.setState({updatingMangas: false});\n            alert('ERROR ' + await response.text());\n            return\n        }\n\n        const result = await response.json();\n        let text = `Update successfully ${result.success.length}/${result.total} mangas:`;\n        result.success.forEach(mangaName => text += `\\n-  ${mangaName}`);\n        alert(text);\n\n        this.setState({\n            updatingMangas: false,\n            dataSource: 'fetch',\n            following: following,\n            mangaTableKey: new Date() // force re-generate\n        });\n    };\n\n    render() {\n        const {classes, isAuthorized} = this.props;\n        const {following, sortby, dataSource, searchTerm, mangaTableKey, newManga, updatingMangas} = this.state;\n\n        const sortMethod = {\n            'status': sortByStatus,\n            'name': sortByName,\n            'latest': sortByLatest,\n            'many': sortByManyToRead\n        }[sortby];\n\n        return (\n            <div className={classes.content}>\n                <Header\n                    dataSource={dataSource}\n                    following={following}\n                    onFollowingChange={this.onFollowingChange}\n                    sortby={sortby}\n                    onSortByChange={this.onSortByChange}\n                    onSearch={this.onSearch}\n                    closeSearchResult={this.closeSearchResult}\n                />\n                <MangaTable\n                    key={mangaTableKey}\n                    newManga={newManga}\n                    sortMethod={sortMethod}\n                    following={following}\n                    searchTerm={searchTerm}\n                    dataSource={dataSource}\n                    isAuthorized={isAuthorized}\n                />\n                <FloatButtons\n                    onAddManga={this.onAddManga}\n                    onUpdateManga={this.onUpdateManga}\n                    updatingMangas={updatingMangas}\n                    following={following}\n                />\n            </div>\n        );\n    }\n\n}\n\nfunction sortByStatus(mangas) {\n    mangas.sort((a, b) => {\n        a = utils.mangaStatuses.indexOf(utils.getMangaStatus(a));\n        b = utils.mangaStatuses.indexOf(utils.getMangaStatus(b));\n        return (a > b) ? 1 : ((a < b) ? -1 : 0);\n    });\n}\n\nfunction sortByName(mangas) {\n    mangas.sort((a, b) => {\n        a = utils.removeDiacritics(a.name.toLowerCase().trim());\n        b = utils.removeDiacritics(b.name.toLowerCase().trim());\n        return (a > b) ? 1 : ((a < b) ? -1 : 0)\n    });\n}\n\nfunction sortByLatest(mangas) {\n    const latestChap = (manga) => {\n        let latest = new Date('2000-01-01');\n        for (let i = 0; i < manga.chapters.length; i++) {\n            const date = new Date(manga.chapters[i].createAt);\n            if (date > latest)\n                latest = date;\n        }\n        return latest;\n    };\n\n    mangas.sort((a, b) => {\n        a = latestChap(a);\n        b = latestChap(b);\n        return (a > b) ? -1 : ((a < b) ? 1 : 0);\n    });\n}\n\nfunction sortByManyToRead(mangas) {\n    mangas.sort((a, b) => {\n        a = a.chapters.filter(ch => !ch.isRead).length;\n        b = b.chapters.filter(ch => !ch.isRead).length;\n        return (a > b) ? -1 : ((a < b) ? 1 : 0);\n    });\n}\n\nexport default withStyles(styles)(Content);\n","import Typography from \"@material-ui/core/Typography\";\nimport React from \"react\";\n\nfunction onTabChange(event, value) {\n    this.setState({tab: value});\n}\n\nfunction onUsernameChange(event) {\n    const {error} = this.state;\n    const username = event.target.value;\n    error.username = undefined;\n\n    if (username === '')\n        error.username = 'Missing username';\n\n    this.setState({username: username, error: error})\n}\n\nfunction onPasswordChange(event) {\n    const username = this.props.username || this.state.username;\n    const {error, confirm} = this.state;\n    const password = event.target.value;\n    error.password = undefined;\n\n    if (password.length < 8)\n        error.password = 'Password is too short';\n\n    const p = password.toLowerCase();\n    const u = username.toLowerCase();\n    if (u.includes(p) || p.includes(u))\n        error.password = 'Password and username are too similar';\n\n    if (confirm !== undefined && confirm !== password)\n        error.confirm = 'Confirm does not match password';\n\n    this.setState({password: password, error: error})\n}\n\nfunction onConfirmChange(event) {\n    const confirm = event.target.value;\n    const {error, password} = this.state;\n    error.confirm = undefined;\n\n    if (confirm !== password)\n        error.confirm = 'Confirm does not match password';\n\n    this.setState({confirm: confirm, error: error})\n}\n\nfunction onEmailChange(event) {\n    const emailRegex = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    const email = event.target.value;\n    const {error} = this.state;\n    error.email = undefined;\n\n    if (!email.match(emailRegex))\n        error.email = 'Invalid email';\n\n    this.setState({email: email, error: error})\n}\n\nfunction handleError() {\n    const {classes} = this.props;\n    const {error} = this.state;\n\n    const enableSubmit = Object.values(error).every(v => v === undefined);\n    const errorMessage = (enableSubmit) ? '' :\n        <div className={classes.announce}>\n            {Object.values(error)\n                .filter(v => v !== undefined)\n                .map(v => <Typography className={classes.error}>{v}</Typography>)}\n        </div>;\n\n    return {enableSubmit, errorMessage}\n}\n\nasync function onSubmit(url, data, method = 'GET') {\n    const fetchOptions = {\n        method: method,\n        credentials: \"same-origin\",\n    };\n\n    if (method === 'POST') {\n        fetchOptions.headers = {'Content-Type': 'application/json'};\n        fetchOptions.body = JSON.stringify(data);\n    } else {\n        url += '?';\n        Object.keys(data).forEach((k => {\n            url += `${k}=${data[k]}&`\n        }));\n        url = encodeURI(url.slice(0, url.length - 1));\n    }\n\n    try {\n        const response = await fetch(url, fetchOptions);\n        if (response.ok) {\n            await this.props.loadUserData();\n            this.props.redirectToIndex();\n        } else {\n            this.setState({error: await response.json()})\n        }\n    } catch (e) {\n        alert(e)\n    }\n}\n\nexport {\n    onTabChange,\n    onUsernameChange,\n    onPasswordChange,\n    onConfirmChange,\n    onEmailChange,\n    handleError,\n    onSubmit\n}","export default () => ({\n    textField: {\n        marginTop: 30,\n        marginBottom: 30\n    },\n    rightAlign: {\n        display: 'flex',\n        justifyContent: 'flex-end'\n    },\n    announce: {\n        margin: '25px 0'\n    },\n    error: {\n        color: 'red !important'\n    },\n    success: {\n        color: 'green !important'\n    },\n});","import React from \"react\"\nimport {Button, TextField} from \"@material-ui/core\";\nimport {withStyles} from \"@material-ui/styles\";\n\nimport {\n    handleError,\n    onConfirmChange,\n    onEmailChange,\n    onPasswordChange,\n    onSubmit,\n    onUsernameChange\n} from \"../formControlers\"\nimport styles from \"./formstyles\"\n\nclass RegisterForm extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            username: '',\n            password: '',\n            confirm: '',\n            email: '',\n            error: {}\n        }\n    }\n\n    onSubmit = () => {\n        const url = '/auth/local/register';\n        const data = {\n            username: this.state.username,\n            password: this.state.password,\n            email: this.state.email\n        };\n\n        onSubmit.bind(this)(url, data, 'GET');\n    };\n\n    onUsernameChange = onUsernameChange.bind(this);\n\n    onPasswordChange = onPasswordChange.bind(this);\n\n    onConfirmChange = onConfirmChange.bind(this);\n\n    onEmailChange = onEmailChange.bind(this);\n\n    handleError = handleError.bind(this);\n\n    render() {\n        const {classes} = this.props;\n        const {username, password, confirm, email, error} = this.state;\n        const {enableSubmit, errorMessage} = this.handleError();\n\n        return (\n            <div>\n                <div className={classes.textField}>\n                    <TextField\n                        fullWidth\n                        variant='outlined'\n                        label='Username'\n                        value={username}\n                        onChange={this.onUsernameChange}\n                        error={error.username !== undefined}\n                    />\n                </div>\n                <div className={classes.textField}>\n                    <TextField\n                        fullWidth\n                        variant='outlined'\n                        label='Password'\n                        type='password'\n                        value={password}\n                        onChange={this.onPasswordChange}\n                        error={error.password !== undefined}\n                    />\n                </div>\n                <div>\n                    <div className={classes.textField}>\n                        <TextField\n                            fullWidth\n                            variant='outlined'\n                            label='Confirm password'\n                            type='password'\n                            value={confirm}\n                            onChange={this.onConfirmChange}\n                            error={error.confirm !== undefined}\n                        />\n                    </div>\n                    <div className={classes.textField}>\n                        <TextField\n                            fullWidth\n                            variant='outlined'\n                            label='Email'\n                            value={email}\n                            onChange={this.onEmailChange}\n                            error={error.email !== undefined}\n                        />\n                    </div>\n                </div>\n\n                {errorMessage}\n\n                <div className={classes.rightAlign}>\n                    <Button\n                        variant={\"contained\"}\n                        color={\"secondary\"}\n                        onClick={this.onSubmit}\n                        disabled={!enableSubmit}\n                    >\n                        Register\n                    </Button>\n                </div>\n            </div>\n        )\n    }\n\n}\n\nexport default withStyles(styles)(RegisterForm);","import React from \"react\"\nimport {Button, TextField} from \"@material-ui/core\";\nimport {withStyles} from \"@material-ui/styles\";\n\nimport styles from \"./formstyles\";\nimport {handleError, onPasswordChange, onSubmit, onUsernameChange} from \"../formControlers\";\n\nclass LoginForm extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            username: '',\n            password: '',\n            error: {}\n        }\n    }\n\n    onSubmit = () => {\n        const url = '/auth/local';\n        const data = {\n            username: this.state.username,\n            password: this.state.password\n        };\n\n        onSubmit.bind(this)(url, data, 'GET');\n    };\n\n    onUsernameChange = onUsernameChange.bind(this);\n\n    onPasswordChange = onPasswordChange.bind(this);\n\n    handleError = handleError.bind(this);\n\n    render() {\n        const {classes} = this.props;\n        const {username, password, error} = this.state;\n        const {enableSubmit, errorMessage} = this.handleError();\n\n        return (\n            <div>\n                <div className={classes.textField}>\n                    <TextField\n                        fullWidth\n                        variant='outlined'\n                        label='Username'\n                        type='text'\n                        value={username}\n                        onChange={this.onUsernameChange}\n                        error={error.username !== undefined}\n                    />\n                </div>\n                <div className={classes.textField}>\n                    <TextField\n                        fullWidth\n                        variant='outlined'\n                        label='Password'\n                        type='password'\n                        value={password}\n                        onChange={this.onPasswordChange}\n                        error={error.password !== undefined}\n                    />\n                </div>\n                {errorMessage}\n                <div className={classes.rightAlign}>\n                    <Button\n                        variant={\"contained\"}\n                        color={\"secondary\"}\n                        onClick={this.onSubmit}\n                        disabled={!enableSubmit}\n                    >\n                        Login\n                    </Button>\n                </div>\n            </div>\n        )\n    }\n\n}\n\nexport default withStyles(styles)(LoginForm);","import React, {Component} from 'react';\nimport RegiterForm from './RegisterForm';\nimport LoginForm from './LoginForm';\nimport {Paper} from \"@material-ui/core\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport {withStyles} from \"@material-ui/styles\";\nimport {GoogleLoginButton, FacebookLoginButton} from \"react-social-login-buttons\";\nimport Typography from \"@material-ui/core/Typography\";\n\nconst styles = () => ({\n    container: {\n        marginTop: 100,\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'flex-start',\n        minHeight: 460\n    },\n    paper: {\n        paddingBottom: 10,\n        width: 400,\n    },\n    paperBody: {\n        padding: '30px 40px 30px 40px'\n    },\n    loginOptions: {\n        display: 'block',\n        margin: '20px 0',\n        padding: 0,\n        textDecoration: 'none',\n        color: '#fff',\n        '&:visited': {\n            color: '#fff'\n        }\n    },\n    loginBtn: {\n        color: '#fff !important'\n    },\n    otherOptions: {\n        marginTop: 65\n    },\n});\n\nclass Login extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            tab: 'login'\n        }\n    }\n\n    onTabChange = (event, value) => {\n        this.setState({tab: value});\n    };\n\n    render() {\n        const {classes, loadUserData, redirectToIndex, isLoggedIn} = this.props;\n        const {tab} = this.state;\n\n        let content;\n        if (tab === 'login')\n            content = <LoginForm loadUserData={loadUserData} redirectToIndex={redirectToIndex}/>;\n        else\n            content = <RegiterForm loadUserData={loadUserData} redirectToIndex={redirectToIndex}/>;\n\n        return (\n            <div className={classes.container}>\n                <Paper className={classes.paper}>\n                    <AppBar position=\"static\" color=\"default\">\n                        <Tabs\n                            value={tab}\n                            onChange={this.onTabChange}\n                            indicatorColor=\"primary\"\n                            textColor=\"primary\"\n                            variant=\"fullWidth\"\n                        >\n                            <Tab value=\"login\" label=\"LOGIN\"/>\n                            <Tab value=\"register\" label=\"REGISTER\" disabled={isLoggedIn}/>\n                        </Tabs>\n                    </AppBar>\n\n                    <div className={classes.paperBody}>\n                        {content}\n                        <br/><br/>\n                        <a className={classes.loginOptions} href='/auth/google'>\n                            <GoogleLoginButton>\n                                <Typography variant='button' className={classes.loginBtn}>\n                                    {tab} with Google\n                                </Typography>\n                            </GoogleLoginButton>\n                        </a>\n                        <a className={classes.loginOptions} href='/auth/facebook'>\n                            <FacebookLoginButton>\n                                <Typography variant='button' className={classes.loginBtn}>\n                                    {tab} with Facebook\n                                </Typography>\n                            </FacebookLoginButton>\n                        </a>\n                    </div>\n                </Paper>\n            </div>\n        )\n    }\n}\n\nexport default withStyles(styles)(Login);","import React from \"react\"\nimport {withStyles} from \"@material-ui/styles\";\nimport {Typography} from \"@material-ui/core\";\n\nconst styles = () => ({\n    container: {\n        margin: '100px 150px 0 150px'\n    },\n    link: {\n        cursor: 'pointer'\n    }\n});\n\nfunction NotFound(props) {\n    const {classes, redirectToIndex} = props;\n\n    return (\n        <div className={classes.container}>\n            <Typography variant=\"h4\">404 - Not found</Typography>\n            <hr/>\n\n            <Typography\n                className={classes.link}\n                variant=\"body2\"\n                onClick={redirectToIndex}\n            >\n                Go to home page\n            </Typography>\n        </div>\n    )\n}\n\nexport default withStyles(styles)(NotFound);","import createMuiTheme from \"@material-ui/core/styles/createMuiTheme\";\n\nexport default createMuiTheme({\n    typography: {\n        useNextVariants: true,\n    },\n    palette: {\n        primary: {\n            main: '#00bea6'\n        },\n        secondary: {\n            main: '#efa230'\n        }\n    },\n    overrides: {\n        MuiTableCell: {\n            head: {\n                paddingRight: 25,\n                paddingLeft: 15\n            },\n            body: {\n                paddingRight: 25,\n                paddingLeft: 15,\n                // verticalAlign: \"top\"\n            }\n        },\n        MuiTableRow: {\n            root: {\n                '&:hover': {\n                    background: 'rgba(240,240,240,0.47)'\n                }\n            }\n        },\n        MuiInputBase: {\n            root: {\n                // minWidth: 175,\n            }\n        },\n        MuiTabs: {\n            indicator: {\n                background: '#00eed0'\n            }\n        },\n        MuiTab: {\n            selected: {\n                background: '#00bea6',\n                color: '#fff !important',\n                fontWeight: 'bold'\n            }\n        }\n    }\n});","export default () => ({\n    textField: {\n        marginTop: 30,\n        marginBottom: 30\n    },\n    rightAlign: {\n        display: 'flex',\n        justifyContent: 'flex-end'\n    },\n    announce: {\n        margin: '25px 0'\n    },\n    error: {\n        color: 'red !important'\n    },\n    success: {\n        color: 'green !important'\n    },\n});","import React from \"react\"\nimport {Button, TextField} from \"@material-ui/core\";\nimport {withStyles} from \"@material-ui/styles\";\n\nimport {handleError, onEmailChange, onSubmit, onUsernameChange} from \"../formControlers\"\nimport styles from \"./formstyles\"\n\nclass ChangePassword extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            username: props.user.username,\n            email: props.user.email,\n            error: {}\n        }\n    }\n\n    onUsernameChange = onUsernameChange.bind(this);\n\n    onEmailChange = onEmailChange.bind(this);\n\n    handleError = handleError.bind(this);\n\n    onSubmit = () => {\n        const url = '/api/user/edit';\n        const data = {\n            username: this.state.username,\n            email: this.state.email\n        };\n        onSubmit.bind(this)(url, data);\n    };\n\n\n    render() {\n        const {classes} = this.props;\n        const {username, email, error} = this.state;\n        const {enableSubmit, errorMessage} = this.handleError();\n\n        return (\n            <div>\n                <div className={classes.textField}>\n                    <TextField\n                        fullWidth\n                        variant='outlined'\n                        label='Username'\n                        type='text'\n                        value={username}\n                        onChange={this.onUsernameChange}\n                        error={error.username !== undefined}\n                    />\n                </div>\n                <div className={classes.textField}>\n                    <TextField\n                        fullWidth\n                        variant='outlined'\n                        label='Email'\n                        type='email'\n                        value={email}\n                        onChange={this.onEmailChange}\n                        error={error.email !== undefined}\n                    />\n                </div>\n                {errorMessage}\n                <div className={classes.rightAlign}>\n                    <Button\n                        variant={\"contained\"}\n                        color={\"secondary\"}\n                        onClick={this.onSubmit}\n                        disabled={!enableSubmit}\n                    >\n                        Save\n                    </Button>\n                </div>\n            </div>\n        )\n    }\n\n}\n\nexport default withStyles(styles)(ChangePassword);","import React from \"react\"\nimport {Button, TextField} from \"@material-ui/core\";\nimport {withStyles} from \"@material-ui/styles\";\nimport Typography from \"@material-ui/core/Typography\";\n\nimport {handleError, onConfirmChange, onPasswordChange, onSubmit} from \"../formControlers\";\nimport styles from \"./formstyles\"\n\nclass ChangePassword extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            currentPassword: '',\n            password: '',\n            confirm: '',\n            lastUpdated: undefined,\n            error: {}\n        }\n    }\n\n    onCurrentPasswordChange = (event) => {\n        const {error} = this.state;\n        const currentPassword = event.target.value;\n        error.currentPassword = undefined;\n        if (currentPassword.length < 8)\n            error.currentPassword = 'Invalid current password';\n        this.setState({currentPassword: currentPassword, error: error})\n    };\n\n    onPasswordChange = onPasswordChange.bind(this);\n\n    onConfirmChange = onConfirmChange.bind(this);\n\n    handleError = handleError.bind(this);\n\n    onSubmit = () => {\n        const url = '/api/user/changepass';\n        const data = {\n            currentPassword: this.state.currentPassword,\n            password: this.state.password\n        };\n        onSubmit.bind(this)(url, data);\n    };\n\n    render() {\n        const {classes, username, passwordHasBeenSet} = this.props;\n        const {currentPassword, password, confirm, error, lastUpdated} = this.state;\n\n        if (!username)\n            return (\n                <Typography className={classes.announce}>\n                    You must have a username and email before setting password\n                </Typography>\n            );\n\n        const {enableSubmit, errorMessage} = this.handleError();\n        const lastUpdateMessage = (lastUpdated === undefined || enableSubmit) ? '' :\n            <div className={classes.announce}>\n                <Typography className={classes.success}>Password changed at {lastUpdated.toString()}</Typography>\n            </div>;\n\n        return (\n            <div>\n                {!passwordHasBeenSet ? '' :\n                    <div className={classes.textField}>\n                        <TextField\n                            fullWidth\n                            variant='outlined'\n                            label='Current password'\n                            type='password'\n                            value={currentPassword}\n                            onChange={this.onCurrentPasswordChange}\n                            error={error.currentPassword !== undefined}\n                        />\n                    </div>\n                }\n                <div className={classes.textField}>\n                    <TextField\n                        fullWidth\n                        variant='outlined'\n                        label='New password'\n                        type='password'\n                        value={password}\n                        onChange={this.onPasswordChange}\n                        error={error.password !== undefined}\n                    />\n                </div>\n                <div className={classes.textField}>\n                    <TextField\n                        fullWidth\n                        variant='outlined'\n                        label='Confirm password'\n                        type='password'\n                        value={confirm}\n                        onChange={this.onConfirmChange}\n                        error={error.confirm !== undefined}\n                    />\n                </div>\n\n                {errorMessage}\n                {lastUpdateMessage}\n\n                <div className={classes.rightAlign}>\n                    <Button\n                        variant={\"contained\"}\n                        color={\"secondary\"}\n                        onClick={this.onSubmit}\n                        disabled={!enableSubmit}\n                    >\n                        Change password\n                    </Button>\n                </div>\n            </div>\n        )\n    }\n\n}\n\nexport default withStyles(styles)(ChangePassword);","import React, {Component} from \"react\";\nimport {withStyles} from \"@material-ui/styles\";\nimport {Typography} from \"@material-ui/core\";\nimport {capitalize} from \"@material-ui/core/utils/helpers\";\nimport DeleteIcon from \"@material-ui/icons/Close\";\nimport {FacebookLoginButton, GoogleLoginButton} from \"react-social-login-buttons\";\n\nconst styles = () => ({\n    socialInfoContainer: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        marginTop: 20\n    },\n    socialNetworkName: {\n        color: '#666 !important',\n        fontWeight: 'bold !important'\n    },\n    socialInfoPic: {\n        width: 50,\n        height: 50\n    },\n    name: {\n        padding: '0 30px 0 8px',\n        fontSize: '120% !important',\n        color: 'grey'\n    },\n    account: {\n        display: 'flex',\n        flexWrap: 'nowrap'\n    },\n    deleteBtn: {\n        padding: 2,\n        margin: 0,\n        borderRadius: 3,\n        display: 'inline-block',\n        '&:hover': {\n            cursor: 'pointer',\n            background: '#f00',\n            color: '#fff'\n        }\n    },\n    link: {\n        textDecoration: 'none',\n        color: '#fff',\n        '&:visited': {\n            color: '#fff'\n        }\n    },\n    buttonText: {\n        color: '#fff !important'\n    },\n    wrapper: {\n        marginBottom: 30\n    }\n});\n\nclass SocialNetworkInfo extends Component {\n\n    openNewPrimaryAccountDialog = () => {\n        this.props.openNewPrimaryAccountDialog(this.props.socialNetwork);\n    };\n\n    render() {\n        const {id, socialNetwork, pic, name, classes} = this.props;\n        let content;\n        if (id)\n            content =\n                <div className={classes.socialInfoContainer}>\n                    <span/>\n                    <div className={classes.account}>\n                        <img className={classes.socialInfoPic} src={pic} alt='pic'/>\n                        <Typography className={classes.name}>{name}</Typography>\n                    </div>\n                    <span className={classes.deleteBtn} onClick={this.openNewPrimaryAccountDialog}>\n                        <DeleteIcon/>\n                    </span>\n                </div>;\n        else {\n            let buttonText =\n                <Typography className={classes.buttonText} variant={\"button\"}>\n                    Link with {socialNetwork} account\n                </Typography>;\n\n            if (socialNetwork === 'google')\n                content =\n                    <a href='/auth/google' className={classes.link}>\n                        <GoogleLoginButton>{buttonText}</GoogleLoginButton>\n                    </a>;\n            if (socialNetwork === 'facebook')\n                content =\n                    <a href='/auth/facebook' className={classes.link}>\n                        <FacebookLoginButton>{buttonText}</FacebookLoginButton>\n                    </a>;\n        }\n\n        return (\n            <div className={classes.wrapper}>\n                <Typography variant='h6' className={classes.socialNetworkName}>\n                    {capitalize(socialNetwork) + ' account'}\n                </Typography>\n                {content}\n            </div>\n        );\n    }\n}\n\nexport default withStyles(styles)(SocialNetworkInfo);","import React from \"react\"\nimport {withStyles} from \"@material-ui/styles\";\nimport {Button, Dialog, DialogActions, DialogContent, DialogTitle, Typography} from \"@material-ui/core\";\nimport {capitalize} from \"@material-ui/core/utils/helpers\";\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Radio from \"@material-ui/core/Radio\";\n\nconst styles = () => ({});\n\nclass NewPrimaryAccountDialog extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {newPrimaryAccount: 'local'}\n    }\n\n    isLastAccount = () => {\n        const {user} = this.props;\n        let c = 0;\n        if (user.username) c++;\n        if (user.facebookId) c++;\n        if (user.googleId) c++;\n        return c === 1;\n    };\n\n    changeAccount = (event) => {\n        this.setState({newPrimaryAccount: event.target.value});\n    };\n\n    select = () => {\n        this.props.unlink(this.props.unlinkAccount, this.state.newPrimaryAccount)\n            .catch(alert)\n    };\n\n    render() {\n        const {open, unlinkAccount, user, closeNewPrimaryAccountDialog, deleteAccount} = this.props;\n        const {newPrimaryAccount} = this.state;\n\n        if (this.isLastAccount())\n            return (\n                <Dialog\n                    open={open}\n                    fullWidth\n                    maxWidth='sm'\n                    aria-labelledby=\"primary-acc-dialog-title\"\n                >\n                    <DialogTitle id=\"primary-acc-dialog-title\"> Delete account</DialogTitle>\n                    <DialogContent>\n                        <Typography> {capitalize(unlinkAccount)} account is your only way to log in to Manga\n                            Bookmark</Typography>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button variant={\"contained\"} color={\"secondary\"}\n                                onClick={closeNewPrimaryAccountDialog}>Cancel</Button>\n                        <Button variant={\"contained\"} color={\"secondary\"}\n                                onClick={deleteAccount}>Delete</Button>\n                    </DialogActions>\n                </Dialog>\n            );\n\n        const disableLocal = !user.username || unlinkAccount === 'local';\n        const disableFacebook = !user.facebookId || unlinkAccount === 'facebook';\n        const disableGoogle = !user.googleId || unlinkAccount === 'google';\n        \n        return (\n            <Dialog\n                open={open}\n                fullWidth\n                maxWidth='sm'\n                aria-labelledby=\"primary-acc-dialog-title\"\n            >\n                <DialogTitle id=\"primary-acc-dialog-title\"> New primary account</DialogTitle>\n                <DialogContent>\n                    <Typography> {capitalize(unlinkAccount)} account is currently used as your primary\n                        account</Typography>\n                    <Typography>To unlink it, you must select another account as primary account</Typography>\n                    <RadioGroup\n                        aria-label=\"Primary account\"\n                        value={newPrimaryAccount}\n                        onChange={this.changeAccount}\n                    >\n                        <FormControlLabel\n                            value=\"local\"\n                            control={<Radio/>}\n                            label=\"MangaBookmark account\"\n                            disabled={disableLocal}\n                        />\n                        <FormControlLabel\n                            value=\"google\"\n                            control={<Radio/>}\n                            label=\"Google account\"\n                            disabled={disableGoogle}\n                        />\n                        <FormControlLabel\n                            value=\"facebook\"\n                            control={<Radio/>}\n                            label=\"Facebook account\"\n                            disabled={disableFacebook}\n                        />\n                    </RadioGroup>\n                </DialogContent>\n                <DialogActions>\n                    <Button variant={\"contained\"} color={\"secondary\"} onClick={closeNewPrimaryAccountDialog}>Cancel</Button>\n                    <Button variant={\"contained\"} color={\"secondary\"} onClick={this.select}>Select</Button>\n                </DialogActions>\n            </Dialog>\n        );\n    }\n\n}\n\nexport default withStyles(styles)(NewPrimaryAccountDialog);\n","import React from \"react\"\nimport SocialNetworkInfo from './SocialNetworkInfo';\nimport NewPrimaryAccountDialog from \"./NewPrimaryAccountDialog\";\nimport {withStyles} from \"@material-ui/styles\";\nimport {Button} from \"@material-ui/core\";\n\nconst styles = () => ({\n    danger: {\n        border: '1px solid red',\n        borderRadius: 5,\n        marginTop: 80,\n        padding: 20,\n        display: 'flex',\n        justifyContent: 'flex-end'\n    },\n    deleteBtn: {\n        background: '#f00 !important',\n        color: '#fff !important',\n    }\n});\n\nclass LinkedAccounts extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            openDialog: false,\n            unlinkAccount: '',\n        }\n    }\n\n    openNewPrimaryAccountDialog = (unlinkAccount) => {\n        const {user} = this.props;\n\n        if (user.primaryAccount !== unlinkAccount)\n            this.unlink(unlinkAccount, user.primaryAccount)\n                .catch(alert);\n        else\n            this.setState({\n                openDialog: true,\n                unlinkAccount: unlinkAccount\n            });\n    };\n\n    closeNewPrimaryAccountDialog = () => {\n        this.setState({openDialog: false});\n    };\n\n    unlink = async (account, newPrimaryAccount) => {\n        const url = `/auth/${account}/unlink?newPrimaryAccount=${newPrimaryAccount}`;\n        const fetchOptions = {\n            method: 'GET',\n            credentials: \"same-origin\",\n        };\n\n        const response = await fetch(url, fetchOptions);\n        if (response.ok) {\n            this.props.loadUserData();\n            this.setState({openDialog: false})\n        } else\n            throw await response.text()\n    };\n\n    deleteAccount = () => {\n        if (!window.confirm(\"Are you sure to delete MangaBookmark account?\")) return;\n        window.location.replace('/api/user/delete')\n    };\n\n    render() {\n        const {classes, user} = this.props;\n        const {openDialog, unlinkAccount} = this.state;\n\n        return (\n            <div>\n                <SocialNetworkInfo\n                    socialNetwork='facebook'\n                    id={user.facebookId}\n                    pic={user.facebookPic}\n                    name={user.facebookName}\n                    openNewPrimaryAccountDialog={this.openNewPrimaryAccountDialog}\n                />\n                <SocialNetworkInfo\n                    socialNetwork='google'\n                    id={user.googleId}\n                    pic={user.googlePic}\n                    name={user.googleName}\n                    openNewPrimaryAccountDialog={this.openNewPrimaryAccountDialog}\n                />\n\n                <div className={classes.danger}>\n                    <Button variant='contained' className={classes.deleteBtn} onClick={this.deleteAccount}>\n                        Delete account\n                    </Button>\n                </div>\n\n                <NewPrimaryAccountDialog\n                    open={openDialog}\n                    user={user}\n                    unlink={this.unlink}\n                    unlinkAccount={unlinkAccount}\n                    closeNewPrimaryAccountDialog={this.closeNewPrimaryAccountDialog}\n                    deleteAccount={this.deleteAccount}\n                />\n            </div>\n        )\n    }\n\n}\n\nexport default withStyles(styles)(LinkedAccounts);","import React, {Component} from \"react\"\nimport {withStyles} from \"@material-ui/styles\";\nimport {Paper} from \"@material-ui/core\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nimport BasicInfo from \"./BasicInfo\";\nimport ChangePassword from \"./ChangePassword\";\nimport LinkedAccounts from \"./LinkedAccounts\";\n\nconst styles = () => ({\n    container: {\n        marginTop: 100,\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'flex-start',\n        minHeight: 460\n    },\n    paper: {\n        paddingBottom: 10,\n        width: 700,\n    },\n    paperBody: {\n        padding: '30px 130px 30px 130px'\n    }\n});\n\nclass Account extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            tab: 'basic-info'\n        }\n    }\n\n    onTabChange = (event, value) => {\n        this.setState({tab: value});\n    };\n\n    render() {\n        const {classes, user, loadUserData, redirectToIndex} = this.props;\n        const {tab} = this.state;\n\n        const dummyUser = {\n            username: 'thanh hung duong',\n            email: 'aba@sdfa.coams',\n            facebookId: 0,\n            facebookPic: 'https://platform-lookaside.fbsbx.com/platform/profilepic/?asid=1028439080684410&height=50&width=50&ext=1561185959&hash=AeQIflvU778CxT9f',\n            googleId: 0,\n            googlePic: 'https://lh6.googleusercontent.com/-H32d0Re-OkM/AAAAAAAAAAI/AAAAAAAAAD4/eo50NTPfL3E/photo.jpg',\n        };\n\n        if (!user) { // still loading\n            return (\n                <div className={classes.container}>\n                    <CircularProgress/>\n                </div>\n            )\n        }\n\n        let content;\n        switch (tab) {\n            case 'basic-info':\n                content =\n                    <BasicInfo\n                        user={user}\n                        loadUserData={loadUserData}\n                        redirectToIndex={redirectToIndex}\n                    />;\n                break;\n            case 'change-password':\n                content =\n                    <ChangePassword\n                        username={user.username}\n                        passwordHasBeenSet={user.password}\n                        loadUserData={loadUserData}\n                        redirectToIndex={redirectToIndex}\n                    />;\n                break;\n            default:\n                content =\n                    <LinkedAccounts\n                        user={user}\n                        loadUserData={loadUserData}\n                    />;\n        }\n\n        return (\n            <div className={classes.container}>\n                <Paper className={classes.paper}>\n                    <AppBar position=\"static\" color=\"default\">\n                        <Tabs\n                            value={tab}\n                            onChange={this.onTabChange}\n                            indicatorColor=\"primary\"\n                            textColor=\"primary\"\n                            variant=\"fullWidth\"\n                        >\n                            <Tab value=\"basic-info\" label=\"BASIC INFO\"/>\n                            <Tab value=\"change-password\" label=\"CHANGE PASSWORD\"/>\n                            <Tab value=\"linked-account\" label=\"LINKED ACCOUNT\"/>\n                        </Tabs>\n                    </AppBar>\n\n                    <div className={classes.paperBody}>\n                        {content}\n                    </div>\n                </Paper>\n            </div>\n        )\n    }\n}\n\n\nexport default withStyles(styles)(Account);","import React, {Component} from 'react';\n\nimport MuiThemeProvider from \"@material-ui/core/styles/MuiThemeProvider\";\nimport {BrowserRouter as Router, Link, Route, Switch} from 'react-router-dom'\n\nimport NavBar from \"./NavBar\";\nimport Footer from \"./Footer\";\nimport Content from './Content';\nimport Login from './Login';\nimport NotFound from './NotFound';\n\nimport theme from \"./theme\";\nimport {withStyles} from \"@material-ui/styles\";\nimport Account from \"./Account\";\n\n\nconst styles = () => ({\n    hidden: {\n        display: 'none'\n    },\n    container: {\n        display: 'flex',\n        flexDirection: 'column',\n        minHeight: '100vh',\n    },\n    beforeFooter: {\n        flex: '1 0 auto',\n        padding: 'var(--space) var(--space) 0',\n        width: '100%',\n        '&:after': {\n            content: '\\\\00a0',\n            display: 'block',\n            marginTop: 'var(--space)',\n            height: 0,\n            visibility: 'hidden'\n        }\n    }\n});\n\nclass App extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {user: null}\n    }\n\n    componentDidMount() {\n        this.loadUserData()\n            .catch(() => {\n                if (['/', '/account'].indexOf(window.location.pathname) > -1)\n                    this.redirectToLogin()\n            });\n    }\n\n    loadUserData = async () => {\n        const url = '/api/user';\n        const fetchOptions = {\n            method: 'GET',\n            credentials: \"same-origin\",\n        };\n\n        const response = await fetch(url, fetchOptions);\n        if (response.ok) {\n            const user = await response.json();\n            if (!user) throw new Error('Unauthorized');\n            this.setState({user: user});\n        } else\n            throw await response.text();\n    };\n\n    redirectToLogin = () => {\n        document.getElementById('hidden-login-link').click();\n    };\n\n    redirectToIndex = () => {\n        if (this.state.user)\n            document.getElementById('hidden-index-link').click();\n        else\n            this.redirectToLogin()\n    };\n\n    redirectToAccount = () => {\n        if (this.state.user)\n            document.getElementById('hidden-account-link').click();\n        else\n            this.redirectToLogin()\n    };\n\n    logout = () => {\n        fetch('/auth/logout')\n            .then(() => {\n                this.redirectToLogin();\n                this.setState({user: null});\n            })\n            .catch(alert);\n    };\n\n    render() {\n        const {classes} = this.props;\n        const {user} = this.state;\n\n        const content = <Content isAuthorized={user !== null}/>;\n        const login =\n            <Login\n                loadUserData={this.loadUserData}\n                redirectToIndex={this.redirectToIndex}\n                isLoggedIn={user !== null}\n            />;\n        const account =\n            <Account\n                loadUserData={this.loadUserData}\n                redirectToIndex={this.redirectToIndex}\n                user={user}\n            />;\n        const notfound = <NotFound redirectToIndex={this.redirectToIndex}/>;\n\n        return (\n            <MuiThemeProvider theme={theme}>\n                <Router>\n                    <div className={classes.container}>\n                        <Link to='/' id='hidden-index-link' className={classes.hidden}/>\n                        <Link to='/login' id='hidden-login-link' className={classes.hidden}/>\n                        <Link to='/account' id='hidden-account-link' className={classes.hidden}/>\n                        <NavBar\n                            user={user}\n                            logout={this.logout}\n                            redirectToAccount={this.redirectToAccount}\n                            redirectToIndex={this.redirectToIndex}\n                        />\n\n                        <div className={classes.beforeFooter}>\n                            <Switch>\n                                <Route\n                                    exact path=\"/\"\n                                    render={() => content}\n                                />\n                                <Route\n                                    path=\"/login\"\n                                    render={() => login}\n                                />\n                                <Route\n                                    path=\"/account\"\n                                    render={() => account}\n                                />\n                                <Route\n                                    render={() => notfound}\n                                />\n                            </Switch>\n                        </div>\n\n                        <Footer\n                            isLogin={user !== null}\n                            redirectToIndex={this.redirectToIndex}\n                            redirectToAccount={this.redirectToAccount}\n                            logout={this.logout}\n                        />\n                    </div>\n                </Router>\n            </MuiThemeProvider>\n        )\n    }\n}\n\nexport default withStyles(styles)(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './static/index.css';\nimport App from './App'\n\nReactDOM.render(<App/>, document.getElementById('root'));\n\n"],"sourceRoot":""}