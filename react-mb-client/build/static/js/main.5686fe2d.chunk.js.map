{"version":3,"sources":["static/logo.png","static/iconmonstr-facebook-4-48.png","static/iconmonstr-email-10-48.png","static/iconmonstr-github-1-48.png","NavBar.js","Footer.js","Content/Header/SelectFollowing.js","Content/Row/ChapterList.js","Content/FloatButtons/MangaPreviewInfo.js","Content/FloatButtons/AddDialog.js","Content/FloatButtons/FloatButtons.js","Content/Header/SortBy.js","Content/Header/SearchBar.js","Content/Header/Header.js","Content/Row/MangaActions.js","Content/Row/MangaNote.js","utils.js","Content/Row/MangaInfoCell.js","Content/Row/Row.js","Content/MangaTable.js","Content/Content.js","formControlers.js","Login/formstyles.js","Login/RegisterForm.js","Login/LoginForm.js","Login/Login.js","NotFound.js","theme.js","Account/formstyles.js","Account/BasicInfo.js","Account/ChangePassword.js","Account/SocialNetworkInfo.js","Account/NewPrimaryAccountDialog.js","Account/LinkedAccounts.js","Account/Account.js","App.js","index.js"],"names":["module","exports","__webpack_require__","p","NavBar","displayName","_this$props","this","props","classes","user","logout","redirectToAccount","redirectToIndex","primaryAccount","googleName","facebookName","username","react_default","a","createElement","index_es","color","position","className","flex","logo","src","LOGO","alt","onClick","Badge_default","badgeContent","grow","navBarText","React","Component","withStyles","marginTop","marginBottom","width","cursor","fontWeight","textTransform","paddingRight","paddingLeft","display","justifyContent","flexGrow","FACEBOOK_URL","EMAIL_URL","GITHUB_URL","footer","margin","boxShadow","padding","background","social","socialIcon","height","&:hover","zoom","footerText","fontStyle","footerHr","footerInternalLink","&hover","footerLink","textDecoration","&:visited","noUnderline","nav","isLogin","internalLinkClass","href","GITHUB_ICON","EMAIL_ICON","FACEBOOK_ICON","Typography_default","react_router_dom","to","SelectFollowing","disable","labelClass","label","root","variant","value","following","onChange","input","disabled","alignItems","paddingBottom","filter","MAX_CHAP_NAME_LENGTH","ChapterList","markUpTo","i","event","stopPropagation","_this","onMarkUpTo","_this2","chapters","showNextChapBtn","markAllRead","chapterCount","length","noChap","readChaptersLinks","ch","isRead","map","link","lastChapRead","name","nextChapToRead","undefined","nextChapBtn","actionBtn","title","window","open","ArrowForwardIos_default","markAllReadBtn","every","chap","onMarkAllChaptersRead","BookmarkBorderOutlined_default","select","multiple","onChangeChapter","renderValue","str","slice","key","Checkbox_default","checked","KeyboardArrowDown_default","ListItemText_default","primary","noWrap","whiteSpace","borderRadius","fontSize","MangaPreviewInfo","manga","mangaStatus","mangaInfo","error","Grid_default","container","item","md","mangaImg","image","isCompleted","onCompletedChange","Header_SelectFollowing","onFollowingChange","Row_ChapterList","note","onChangeNote","mangaName","AddDialog","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","onClickOpen","setState","onClose","onChangeLink","_ref","asyncToGenerator","regenerator_default","mark","_callee","url","fetchOptions","response","wrap","_context","prev","next","target","trim","encodeURIComponent","method","credentials","fetch","sent","ok","json","forEach","t0","text","t1","t2","t3","stop","_x","apply","arguments","state","indexOf","addManga","_callee2","_context2","onAddManga","alert","_this$state","addButton","Add_default","fullWidth","maxWidth","aria-labelledby","id","multiline","rows","FloatButtons_MangaPreviewInfo","FloatButtons","updatingMangas","onUpdateManga","updateBtnColor","floatButtonGroup","placement","scrollToTop","size","ArrowUpward_default","concat","Refresh_default","FloatButtons_AddDialog","document","querySelector","scrollIntoView","behavior","bottom","right","flexDirection","SortBy","sortby","on","SearchBar","onSearchTermChange","searchTerm","onKeyPress","search","onSearch","close","closeSearchResult","isSearching","icon","Close_default","Search_default","placeholder","border","transition","outline","&:focus","Header","openSearchBox","dataSource","paddingTop","header","Header_SortBy","onSortByChange","Header_SearchBar","MangaActions","updatingManga","markMangaCompletedBtn","onChangeCompleted","Done_default","updateBtnClass","actionBtnDisabled","updateManga","updateMangaBtn","deleteMangaBtn","deleteManga","DeleteForever_default","onChangeFollowing","MangaNote","onNoteEdited","editNoteClicked","mangaNote","cancelEditNote","saveNote","noteBtnGroup","Edit_default","titleAccess","TextField_default","Save_default","Cancel_default","mangaSourceRegex","Hoc vien truyen tranh","Mangakakalot","Mangarock","Nettruyen","MangaWWW","Otakusan","TruyenQQ","Truyen Tranh 8","Truyen Tranh Tuan","MangaBat","Mangasim","Mangazuki","Thich Truyen Tranh","Ham Truyen Tranh","Say Truyen","Truyen 1","defaultDiacriticsRemovalMap","base","letters","utils","getMangaStatus","allRead","mangaStatuses","getMangaSource","match","removeDiacritics","change","replace","minusArray","arr1","arr2","e","MangaInfoCell","mangaSource","mangaDetails","xs","infoHeader","Row","markChapterReadStatus","action","mangaID","_id","abrupt","headers","Content-Type","body","JSON","stringify","Error","_x2","markChaptersAsRead","_ref2","links","oldValues","markRead","markUnread","Promise","all","status","_x3","_ref3","_callee3","_context3","_x4","onMarkChaptersAsReadUpTo","_ref4","_callee4","upTo","_context4","_x5","_callee5","_context5","_ref6","_callee6","_context6","onEditManga","_x6","confirm","onDeleteManga","_callee7","_context7","_ref8","_callee8","_context8","_x7","_callee9","_context9","t4","t5","colorClass","Finished","F","Many to read","MTR","Last chap reached","LCR","New chap","NC","numberUnreadChap","TableCell_default","max","join","Row_MangaInfoCell","Row_MangaActions","Row_MangaNote","minHeight","MangaTable","fetchManga","page","fetchData","newData","_args","loading","sortMethod","allLoaded","searchManga","data","searchData","updatedValues","hasOwnProperty","m","loadMore","dataToRows","d","Content_Row_Row","isAuthorized","catch","prevProps","prevState","snapshot","newManga","find","unshift","_this$props2","_this$state2","tableClass","table","push","colSpan","waiting","tableHeader","tableHeaderCell","showMore","ArrowDropDown","blur","textAlign","Content","console","log","result","success","total","mangaTableKey","Date","sortByStatus","sortByName","latest","sortByLatest","many","sortByManyToRead","content","Content_Header_Header","Content_MangaTable","Content_FloatButtons_FloatButtons","mangas","sort","b","toLowerCase","latestChap","date","createAt","onUsernameChange","onPasswordChange","password","u","includes","onConfirmChange","onEmailChange","email","handleError","enableSubmit","values","v","errorMessage","announce","onSubmit","keys","k","encodeURI","loadUserData","formstyles","textField","rightAlign","RegisterForm","bind","assertThisInitialized","_this$handleError","type","styles","LoginForm","Login","onTabChange","tab","isLoggedIn","Login_LoginForm","Login_RegisterForm","paper","AppBar_default","Tabs_default","indicatorColor","textColor","Tab_default","paperBody","loginOptions","lib","loginBtn","otherOptions","createMuiTheme","typography","useNextVariants","palette","main","secondary","overrides","MuiTableCell","head","MuiTableRow","MuiInputBase","MuiTabs","indicator","MuiTab","selected","Account_formstyles","ChangePassword","onCurrentPasswordChange","currentPassword","lastUpdated","passwordHasBeenSet","lastUpdateMessage","toString","SocialNetworkInfo","openNewPrimaryAccountDialog","socialNetwork","pic","socialInfoContainer","account","socialInfoPic","deleteBtn","buttonText","wrapper","socialNetworkName","capitalize","flexWrap","NewPrimaryAccountDialog","isLastAccount","c","facebookId","googleId","changeAccount","newPrimaryAccount","unlink","unlinkAccount","closeNewPrimaryAccountDialog","deleteAccount","disableLocal","disableFacebook","disableGoogle","RadioGroup_default","aria-label","FormControlLabel_default","control","Radio_default","LinkedAccounts","openDialog","location","Account_SocialNetworkInfo","facebookPic","googlePic","danger","Account_NewPrimaryAccountDialog","Account","CircularProgress_default","BasicInfo","Account_ChangePassword","Account_LinkedAccounts","App","redirectToLogin","getElementById","click","then","pathname","src_Content_Content","login","src_Login_Login","src_Account_Account","notfound","src_NotFound","MuiThemeProvider_default","theme","hidden","src_NavBar","beforeFooter","react_router","exact","path","render","src_Footer","&:after","visibility","ReactDOM","src_App"],"mappings":"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","file":"static/js/main.5686fe2d.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.b7a65b42.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAA7EAAAOxAGVKw4bAAACmklEQVRo3tWaMUsdQRSFv7kEE2xsxCJoYhcQuxS2/oWAnQH9BVZ2gr2/IFWIjdjmJwRSWYQIipDOmFRiFVCD8M5NsaMu6z597+3svszp3jLvzjl3Zu/uPbOBBJD0ClgGloAFYB6YASbjkCvgHDgFToAD4IuZnaWYf1TS05I2JX2X5MNCksf/bkqa7pL4rKQPkq6HZt1fzHWMOdsm8QlJ25IuUxGvEXIZ55hITX5R0lFbxGuEHElaTEV+pc2sP7EaK03Jb0jqdU2+JKInaaMJ+XFxL4vwoUXEbTO2zNeI6PXbTqHuhgUOQgiTTyrtEO5+BSyZ2XH5ulXITwD7Tcm7O+7+2d3fufucuz8PFQwbM3Laf7TEStpOtNzvBxA5avztfuRnU5RLSR8HXKVR41+Wn9jlLbSVaN9/ShCjLyLHrbvfMfvTwK8QwoumE7j7lJn9GWCcN5jjLzBnZhe3K7CegjzAIOSbInJdh/sttNr2pL1e72v5wZgg5CpAiM3IzxEqW7/s1AaS5KnmgKJUA68NWE4Z+BFhbcRbNoo2MFcsGUUP2yQTAz1hy2PcfSqRgAWjaMC7RqrWcd4o3IOu8TJRnBnj3vrIUcDks6YRqjW9332QqPY/gFGYTrniyigcs1xxbhR2X644NQqvMlecGIXRmisOOnuZS12F7l7mosV92HKm2sChmZ3d9gN742YzAvaghZayiy30oKU0swtgt/2kJcNu5HzvzEWr4kdTZ6LtFfDCoXtjZr+hZKvECzut5645dm7JQ8UbjbbdtxDCyIcLba6Aux8Db83splZAFJGvuQsQB6y5u8ZNukRewFqV/KPI+oCjIiLPI6aSiHwP+Uoi8j1mLYnI96C7IiTPTw1qhPwXH3sk6WLG+bnNP1xmq9hfQ0tLAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAD60lEQVRo3s2az2uURxjHvzPsIYQSREKQkEMqNrRFhAa0F5HSgyfxIF4EEQ8xB08e9iAIgvTUQ4Xi2UMFydk/wFoPRSSHilRbW0LiQdDiD2yaxhDmMz04L85uN/vOuzvv7j6w7PLOzDOf7/s+8zDzvGuUwYBJSV9J+lLS55JmJU1JGg9d/pX0l6Q1SY8l3Zf0k7X2ZY75e4XeBZwHfgacr2iAC2PPA7sGCT4FfAesV4XuImY9+JyqE7wBNIG3ucA7CHkb5mjkhp8DlusC7yBkGZjLBX+szrte8jSO9Qu/0MsCzSjCAQu9wi8OE75NxGJV+OOjAN8m4ngnVtNpwUpaNsZMZFlEmcx7/7ekg9baP+Lrtg2+IWlp1OAlKTAttadY29avaYyZHzZsFxHzkpot14ofwB5JfxpjPho2aDfz3v8j6RNr7XOp9QlcGnV4SQqMl1ouAruBjW6ZwDl3HRirGxAYc85dL8lKG8DueNCFxHR2D5iuEX4auJfIciEeWLrPAYrvZ8ChGuAPAc/iuUp4lmPVpQOcc4vAVhi8CZzNCH8W2Ay+t5xziyk3FJgWcDrlkYWJDgMvCgfOue/72foCjeCjgHoBHJakxDA6LeBaqoAw6UwccsDtcKSsCj8J3I5DApgp2hMFXBNwp4qAMPkYcDNytAIcqAB/AFiJxt9sz3CJAu4IWK0qoDDnXBPYDs7WgZMJ8CeL4yiw7ZxrduqXKGBVqWfbLkBHgVfBoXPOfQPYDv1saHOh7yvg6E5+EwWsKyUDdRMQ4PYBjyLHt4CJqH0CuBW1PwL2dfOZKMBnEdAFci58dhSXQ8BGSueyCaMwuRKFyRvgTRReVzqFVx8CNgQ8zSUgEnIiXlthgZ+o4iNRwFMBd3MLCCL2h/S6AuyvOj5RwN2G3tcqj1SdoMystb8CB8Pv17n9B3ts9b7QWotZa1/XCC9J9w0wK2nVGNO1pynrkNnKwjY0f2yttWuSHg4SLpM9tNauFSltadg0PdgHZmBPsdfPlYX6tZLssxWKEGpIkrX2OXBD0kI3h4O/yTvajaIqEZdVZiX9Zoyp/eDej3nv30n6LKzdD2WVcOHqsAET7GoBL7XVRsOh4hdjzKfDpuxk3vvfJX1hrX1XXGvZWIWGU+ExjZQFplMx/P8EBBEPvPfnRmnNBpZz1toHyYOccxdTzwp1Wqh+XOxJ+bBF9AUfiThTFJ0GDL/pnDuTJQaBeeDJAOGfAHnfUwDjwLdlW44+wbfCHOP9E+8sZC/wQ1EPygS+HXzurQ28g5AZ4HI/oRVC5XJcUqxqWQ4p4c3m12r9u82kMcZKkvceSS/V+nebH9vfOPZi/wFhUawrZLNwZQAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAD/ElEQVRo3s2az2seRRzGn5lAKC8ipYTgIcQiJYeQQ5FiPNUgUkrOxUsRchYJCMFTecE/QEr1kKNnaaWH4slDVGghKASM5BYoVpC2UhWalIjzGQ87q8ub3Znd993d1y+8l3e/P55ndva7M8+sUQsGLEpak7QqaVnSeUnzkgbB5VjSE0kPJR1I2pX0jbX25zbqjwt6DtgC9gDf1AAfYreAuT6BLwDbwIvGqKvJvAg5F7oEPgsMgaO2gJcQOQo1ZtsGvwLsdwW8hMg+sNIW+GtdjnriblybFPwm4PoGXyDhgM1JwE8Le5GEb0wiTJupjXwJCVc1nUzZAytp1xgzGL3mvX8uScaYlyaamxUWy++9P5a0aq39KTbys7FuA1wKfsvAx8DjFkb3cci1HHJfivjuR1ssMIwEPy3xHwA38i4V5usj4FvgNvB5+N0O/z3Kn6vQZW4Ag5K8TyM4hlXgF2LtEtiJEH8NWAfOpqYJcBa4ClyI+OxEcByVvrGB7cStvjvm1G5swN0Elu3c14aAOUkbibwv90VAUqpJbOQLQJv/YYw5kwhaAaw6tlAjuowIWDeKBK7XyP2X/lvfd2kDSX/X8LueM15MvXHDi+RyD+BzTJdTL9LQ8RatpDVjTCrnHWvtd30RCLXuxHwC5jWrbBuYss/6At+w5qpVtoetNO/9H5IeTIHAg1A7ZstW2QY8ZgfWWvpGH2oeJNzOW2XqQcye9Q2+Qe15q3Rr7Lz3T1B7UAdccn3ToSVrW2WiU8wWp0ggVfvYKlPMYrYAnOsbeVjrpHSiJ1aZ3Fdp4YXxTt8EJL1d4wX70CrdqiTpvSkQqFPzwCoTWlO2DrzeF/JQa72G626txVxYPO0BqSV3G+DPAHs18Pigikt1AkLQvS5JhD32vZpY9oqBW3WCCnfiYgfgL9YdyIBjqxg8NyqXByVhI8jeRyPXXLh+ZRIlOcg4V4EvmwhpQY6fH022PeL0fb77B5aAw4pkfwJfA5/UedCBN4BbwM64onFxU19MvFAy0r8DbxZIxGSXwzKNp2KeH6ZhVtYpl1VC8mFJwK+5AuCc24wk/qDB1Hl/XALOuWEscam0CPy7O3LOfQScjFw/AZYaEFgac/RPSYu1xF2fia6vWmufBZ9XJF2RdE7SL8pOHH9rQGDWGHNS1z9gSIu7hQKn5HXgizZ1oYYj74B3GxUoO+AAvoppml0QALxzrvKAI7rcc85tGmNuGmNsoTCSfpD0o6TnyiTHC9bat5oSqOGD9/7DmZmZT8ceqbqHfG3fgdAum02bCInkMWubBFo9Zi2QiB50t0Ggs4PuESKnPjUA3Bh5XCG++08NSgDkH3vcd87dHCP+FnC/9489/m/2D6WmgOYosLqYAAAAAElFTkSuQmCC\"","import React from \"react\"\n\nimport {AppBar, Toolbar, Typography} from \"@material-ui/core\";\nimport {withStyles} from \"@material-ui/styles\";\nimport Badge from \"@material-ui/core/Badge\";\n\nimport LOGO from './static/logo.png'\n\n\nconst styles = () => ({\n    logo: {\n        marginTop: 5,\n        marginBottom: 5,\n        width: 190,\n        cursor: 'pointer'\n    },\n    navBarText: {\n        color: '#fff',\n        fontWeight: 800,\n        textTransform: 'uppercase',\n        paddingRight: 0,\n        paddingLeft: 15,\n        cursor: 'pointer'\n    },\n    flex: {\n        display: 'flex',\n        justifyContent: 'space-between'\n    },\n    grow: {\n        display: 'flex',\n        flexGrow: 1\n    },\n});\n\nclass NavBar extends React.Component {\n\n    render() {\n        const {classes, user, logout, redirectToAccount, redirectToIndex} = this.props;\n        let displayName;\n        if (user)\n            switch (user.primaryAccount) {\n                case \"google\":\n                    displayName = user.googleName;\n                    break;\n                case \"facebook\":\n                    displayName = user.facebookName;\n                    break;\n                default:\n                    displayName = user.username;\n            }\n\n        return (\n            <div>\n                <AppBar color=\"primary\" position=\"fixed\">\n                    <Toolbar className={classes.flex}>\n                        <img\n                            className={classes.logo}\n                            src={LOGO} alt=\"MangaBookmark\"\n                            onClick={redirectToIndex}\n                        />\n                        <Badge badgeContent={<span>v1.5</span>}>\n                            &nbsp;&nbsp;&nbsp;&nbsp;\n                        </Badge>\n                        <span className={classes.grow}/>\n                        {(!user) ? '' :\n                            <Typography className={classes.navBarText} onClick={redirectToAccount}>\n                                Hello, {displayName}\n                            </Typography>\n                        }\n                        {(!user) ? '' :\n                            <Typography className={classes.navBarText} onClick={logout}>\n                                Logout\n                            </Typography>\n                        }\n                    </Toolbar>\n                </AppBar>\n            </div>\n        )\n    }\n\n}\n\nexport default withStyles(styles)(NavBar);","import React from \"react\"\nimport {withStyles} from \"@material-ui/styles\";\nimport Typography from \"@material-ui/core/Typography\";\n\nimport FACEBOOK_ICON from \"./static/iconmonstr-facebook-4-48.png\";\nimport EMAIL_ICON from \"./static/iconmonstr-email-10-48.png\";\nimport GITHUB_ICON from \"./static/iconmonstr-github-1-48.png\";\nimport {Link} from \"react-router-dom\";\n\nconst FACEBOOK_URL = 'https://www.facebook.com/thanhhung.duong.18';\nconst EMAIL_URL = 'mailto:dthung1602@gmail.com';\nconst GITHUB_URL = 'https://github.com/dthung1602';\n\nconst styles = () => ({\n    footer: {\n        margin: '50px 0 0 0',\n        boxShadow: '0 -5px 7px #aaa',\n        padding: '20px 30px 30px 30px',\n        background: '#00bea6',\n        color: '#fff'\n    },\n    social: {\n        display: 'flex',\n        justifyContent: 'center',\n    },\n    socialIcon: {\n        width: 32,\n        height: 32,\n        margin: '5px 20px',\n        '&:hover': {\n            zoom: '110%'\n        }\n    },\n    footerText: {\n        color: '#fff !important',\n        fontStyle: 'italic'\n    },\n    footerHr: {\n        color: '#fff'\n    },\n    footerInternalLink: {\n        textTransform: 'capitalize',\n        cursor: 'pointer',\n        padding: 10,\n        '&hover': {\n            fontWeight: 'bold'\n        }\n    },\n    footerLink: {\n        color: '#fff !important',\n        textDecoration: 'none',\n        '&:visited': {\n            color: '#fff',\n        },\n        '&:hover': {\n            color: '#fff',\n            fontWeight: 'bold',\n            textDecoration: 'underline'\n        }\n    },\n    noUnderline: {\n        textDecoration: 'none',\n    },\n    nav: {\n        display: 'flex',\n        justifyContent: 'center'\n    }\n});\n\nfunction Footer(props) {\n    const {classes, isLogin, redirectToIndex, redirectToAccount, logout} = props;\n\n    const internalLinkClass = classes.footerLink + ' ' + classes.footerInternalLink;\n\n    return (\n        <footer className={classes.footer}>\n\n            <div className={classes.social}>\n                <a href={GITHUB_URL}>\n                    <img className={classes.socialIcon} src={GITHUB_ICON} alt='GITHUB'/>\n                </a>\n                <a href={EMAIL_URL}>\n                    <img className={classes.socialIcon} src={EMAIL_ICON} alt='EMAIL'/>\n                </a>\n                <a href={FACEBOOK_URL}>\n                    <img className={classes.socialIcon} src={FACEBOOK_ICON} alt='FACEBOOK'/>\n                </a>\n            </div>\n\n            <div className={classes.nav}>\n                <Typography className={internalLinkClass} onClick={redirectToIndex}>HOME</Typography>\n                <Link to='/about' className={classes.noUnderline}>\n                    <Typography className={internalLinkClass}>ABOUT</Typography>\n                </Link>\n                <Link to='/legalnotice' className={classes.noUnderline}>\n                    <Typography className={internalLinkClass}>LEGAL NOTICE</Typography>\n                </Link>\n                {(isLogin)\n                    ? <Typography className={internalLinkClass} onClick={redirectToAccount}>ACCOUNT</Typography>\n                    : <Typography className={internalLinkClass} onClick={logout}>LOGOUT</Typography>\n                }\n            </div>\n\n            <hr className={classes.footerHr}/>\n\n            <div>\n                <Typography className={classes.footerText}>\n                    Build with <a className={classes.footerLink} href='https://expressjs.com/'>ExpressJS</a>&nbsp;\n                    and <a className={classes.footerLink} href='https://material-ui.com/'>Material UI</a>\n                </Typography>\n                <Typography className={classes.footerText}>\n                    with images from <a className={classes.footerLink} href='https://looka.com/'>Looka</a>&nbsp;\n                    and <a className={classes.footerLink} href='https://iconmonstr.com'>iconmonstr</a>\n                </Typography>\n            </div>\n\n        </footer>\n    )\n}\n\nexport default withStyles(styles)(Footer);","import React from \"react\"\nimport {Input, MenuItem, Select, Typography} from \"@material-ui/core\";\nimport {withStyles} from \"@material-ui/styles\";\n\nconst styles = () => ({\n    root: {\n        display: 'flex',\n        alignItems: 'flex-end',\n        justifyContent: 'space-between',\n    },\n    label: {\n        paddingRight: 15,\n        paddingBottom: 3\n    },\n    disable: {\n        filter: 'opacity(50%)'\n    }\n});\n\nclass SelectFollowing extends React.Component {\n\n    render() {\n        const {classes, disable} = this.props;\n        let labelClass = classes.label;\n        if (disable) labelClass += ' ' + classes.disable;\n\n        return (\n            <div className={classes.root}>\n                <Typography variant={\"subtitle1\"}>\n                    <span className={labelClass}>Following status</span>\n                </Typography>\n                <Select\n                    value={this.props.following}\n                    onChange={this.props.onChange}\n                    input={<Input disabled={disable}/>}\n                >\n                    <MenuItem value=\"toread\">To read</MenuItem>\n                    <MenuItem value=\"following\">Following</MenuItem>\n                    <MenuItem value=\"waiting\">Waiting</MenuItem>\n                    <MenuItem value=\"dropped\">Dropped</MenuItem>\n                    <MenuItem value=\"finished\">Finished</MenuItem>\n                </Select>\n            </div>\n        )\n    }\n}\n\n\nexport default withStyles(styles)(SelectFollowing);","import React from \"react\"\nimport {MenuItem, Select} from \"@material-ui/core\";\nimport {withStyles} from \"@material-ui/styles\";\nimport Checkbox from \"@material-ui/core/Checkbox/index\";\nimport ListItemText from \"@material-ui/core/ListItemText/index\";\nimport ReadIcon from \"@material-ui/icons/ArrowForwardIos\";\nimport ReadAll from \"@material-ui/icons/BookmarkBorderOutlined\"\nimport ReadUpTo from \"@material-ui/icons/KeyboardArrowDown\"\n\nconst styles = () => ({\n    noWrap: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'flex-start',\n        whiteSpace: 'nowrap'\n    },\n    actionBtn: {\n        padding: 2,\n        margin: '3px 8px 0px 8px',\n        borderRadius: 3,\n        display: 'inline-block',\n        '&:hover': {\n            cursor: 'pointer',\n            background: '#efa230',\n            color: '#fff'\n        }\n    },\n    noChap: {\n        fontSize: '125%',\n        fontStyle: 'italic'\n    }\n});\n\nconst MAX_CHAP_NAME_LENGTH = 20;\n\nclass ChapterList extends React.Component {\n\n    markUpTo = (i) => (event) => {\n        event.stopPropagation();\n        this.props.onMarkUpTo(i)\n    };\n\n    render() {\n        const {classes, chapters, showNextChapBtn, markAllRead} = this.props;\n        const chapterCount = chapters.length;\n\n        if (chapterCount === 0)\n            return <div className={classes.noChap}>No chapter available</div>;\n\n        const readChaptersLinks = chapters.filter(ch => ch.isRead).map(ch => ch.link);\n\n        let lastChapRead = {name: '-----'};\n        for (let i = 0; i < chapterCount; i++)\n            if (chapters[i].isRead) {\n                lastChapRead = chapters[i];\n                break;\n            }\n\n        const displayLastChapRead = () => <span>{shortenString(lastChapRead.name)}</span>;\n\n        let nextChapToRead;\n        for (let i = 0; i < chapterCount - 1; i++)\n            if (!chapters[i].isRead && chapters[i + 1].isRead) {\n                nextChapToRead = chapters[i];\n                break;\n            }\n        if (nextChapToRead === undefined && !chapters[chapterCount - 1].isRead)\n            nextChapToRead = chapters[chapterCount - 1];\n\n        let nextChapBtn = '';\n        if (showNextChapBtn && nextChapToRead !== undefined)\n            nextChapBtn =\n                <div className={classes.actionBtn}\n                     title={\"Read \" + nextChapToRead.name}\n                     onClick={() => window.open(nextChapToRead.link, '_blank')}>\n                    <ReadIcon/>\n                </div>;\n\n\n        let markAllReadBtn = '';\n        if (markAllRead !== undefined && !chapters.every(chap => chap.isRead))\n            markAllReadBtn =\n                <div\n                    className={classes.actionBtn}\n                    title=\"Mark all chapters as read\"\n                    onClick={this.props.onMarkAllChaptersRead}\n                >\n                    <ReadAll/>\n                </div>;\n\n        const select =\n            <Select\n                multiple\n                value={readChaptersLinks}\n                onChange={this.props.onChangeChapter}\n                renderValue={displayLastChapRead}\n            >\n                {chapters.map((chap, i) => (\n                    <MenuItem key={chap.link} value={chap.link}>\n                        <Checkbox checked={chap.isRead}/>\n                        <ReadUpTo onClick={this.markUpTo(i)}/>\n                        <ListItemText primary={<a href={chap.link}>{chap.name}</a>}/>\n                    </MenuItem>\n                ))}\n            </Select>;\n\n\n        if (markAllRead === 'before')\n            return (\n                <div className={classes.noWrap}>\n                    {markAllReadBtn}\n                    {select}\n                    {nextChapBtn}\n                </div>\n            );\n\n        return (\n            <div className={classes.noWrap}>\n                {select}\n                <div>\n                    {markAllReadBtn}\n                    {nextChapBtn}\n                </div>\n            </div>\n        )\n    }\n\n}\n\n\nfunction shortenString(str) {\n    if (str.length <= MAX_CHAP_NAME_LENGTH)\n        return str;\n    return str.slice(0, MAX_CHAP_NAME_LENGTH) + \" ...\"\n}\n\nexport default withStyles(styles)(ChapterList);","import React from \"react\";\nimport {Input, Switch, Typography} from \"@material-ui/core\";\nimport Grid from \"@material-ui/core/Grid/index\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\n\nimport SelectFollowing from \"../Header/SelectFollowing\"\nimport ChapterList from \"../Row/ChapterList\";\n\nconst styles = () => ({\n    mangaImg: {\n        width: 150\n    },\n    mangaInfo: {\n        padding: '30px 20px 0 20px'\n    },\n    error: {\n        padding: '30px 20px 0 0',\n        color: '#f00'\n    },\n    mangaName: {\n        color: '#009d8a'\n    },\n    flex: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'baseline'\n    },\n    label: {\n        paddingRight: 15,\n        paddingBottom: 3\n    },\n});\n\nclass MangaPreviewInfo extends React.Component {\n\n    render() {\n        const {classes, manga, mangaStatus} = this.props;\n\n        if (mangaStatus === 'none')\n            return '';\n\n        if (mangaStatus === 'waiting')\n            return (\n                <Typography className={classes.mangaInfo}>{manga}</Typography>\n            );\n\n        if (mangaStatus === 'error')\n            return (\n                <Typography className={classes.error}>{manga}</Typography>\n            );\n\n        const {chapters} = manga;\n\n        if (mangaStatus === 'ok')\n            return (\n                <Grid className={classes.mangaInfo} container>\n                    <Grid item md={4}>\n                        <img className={classes.mangaImg} src={manga.image} alt={manga.name}/>\n                    </Grid>\n                    <Grid item md={8}>\n                        <Typography variant={\"h5\"}><b>{manga.name}</b></Typography>\n                        <div className={classes.flex}>\n                            <Typography variant={\"subtitle1\"}>Is completed: {'' + manga.isCompleted}</Typography>\n                            <Switch\n                                checked={manga.isCompleted}\n                                onChange={this.props.onCompletedChange}\n                                color={\"secondary\"}\n                            />\n                        </div>\n                        <SelectFollowing\n                            following={manga.following}\n                            onChange={this.props.onFollowingChange}\n                        />\n                        <div className={classes.flex}>\n                            <Typography className={classes.label} variant={\"subtitle1\"}>Chapter list</Typography>\n                            <ChapterList\n                                chapters={chapters}\n                                onChangeChapter={this.props.onChangeChapter}\n                                onMarkAllChaptersRead={this.props.onMarkAllChaptersRead}\n                                showNextChapBtn={false}\n                                markAllRead='before'\n                            />\n                        </div>\n                        <div className={classes.flex}>\n                            <Typography className={classes.label} variant={\"subtitle1\"}>Note</Typography>\n                            <Input\n                                value={manga.note}\n                                onChange={this.props.onChangeNote}\n                            />\n                        </div>\n                    </Grid>\n                </Grid>\n            );\n    }\n\n}\n\nexport default withStyles(styles)(MangaPreviewInfo);","import React from \"react\"\n\nimport AddIcon from \"@material-ui/icons/Add\";\nimport {withStyles} from \"@material-ui/styles\";\nimport {Button, Dialog, DialogActions, DialogContent, DialogTitle, TextField} from \"@material-ui/core\";\n\nimport MangaPreviewInfo from \"./MangaPreviewInfo\"\n\nconst styles = () => ({});\n\nconst dummyAddData = {\n    _id: \"1\",\n    chapters: [\n        {\n            _id: \"5cd3cb713615403f7bdc0e9d\",\n            isRead: false,\n            createAt: '2020-05-16',\n            \"name\": \"Chapter 3B\",\n            \"link\": \"http://www.nettruyen.com/truyen-tranh/the-shocking-reality-of-a-loan-shark-collecting-money/chap-3/465979\",\n        },\n        {\n            _id: \"5cd3cb713615403f7bdc0e9e\",\n            isRead: true,\n            createAt: '2015-05-16',\n            \"name\": \"this is a chapter name with very long linesss\",\n            \"link\": \"http://www.nettruyen.com/truyen-tranh/the-shocking-reality-of-a-loan-shark-collecting-money/chap-2/465978\",\n        },\n        {\n            _id: \"5cd3cb713615403f7bdc0e9f\",\n            isRead: true,\n            createAt: '2014-05-16',\n            \"name\": \"Chapter 1B\",\n            \"link\": \"http://www.nettruyen.com/truyen-tranh/the-shocking-reality-of-a-loan-shark-collecting-money/chap-1/465210\",\n        }\n    ],\n    following: 'following',\n    isCompleted: true,\n    note: 'A looooooooooong long sdkfj sdlfjlskdj flksdjlkfjsdlkjf klsd fsadjfsd note sadf asdfs',\n    name: \"AAA The Shocking Reality Of A Loan Shark Collecting Money\",\n    link: \"http://www.nettruyen.com/truyen-tranh/the-shocking-reality-of-a-loan-shark-collecting-money\",\n    image: \"http://st.nettruyen.com/data/comics/203/the-shocking-reality-of-a-loan-shark-col-6168.jpg\",\n\n};\n\nclass AddDialog extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            open: false,\n            link: '',\n            mangaStatus: 'none', // none, waiting, ok, error\n        }\n    }\n\n    onClickOpen = () => {\n        this.setState({open: true});\n    };\n\n    onClose = () => {\n        this.setState({open: false})\n    };\n\n    onChangeLink = async (event) => {\n        const link = event.target.value.trim();\n\n        // TODO\n        // if (link !== '')\n        //     this.setState({\n        //         link: link,\n        //         manga: dummyAddData,\n        //         mangaStatus: 'ok'\n        //     });\n        // return;\n\n        if (link !== '') {\n            this.setState({\n                link: link,\n                mangaStatus: 'waiting',\n                manga: 'Loading manga info ...'\n            });\n\n            const url = '/api/manga/info?link=' + encodeURIComponent(link);\n            const fetchOptions = {\n                method: 'GET',\n                credentials: \"same-origin\",\n            };\n            try {\n                const response = await fetch(url, fetchOptions);\n                if (response.ok) {\n                    const manga = await response.json();\n                    // set default values\n                    manga.following = 'following';\n                    manga.chapters.forEach(chap => chap.isRead = false);\n                    this.setState({\n                        mangaStatus: 'ok',\n                        manga: manga\n                    });\n                } else\n                    this.setState({\n                        mangaStatus: 'error',\n                        manga: await response.text(),\n                    });\n            } catch (e) {\n                this.setState({\n                    mangaStatus: 'error',\n                    manga: 'ERROR: ' + e\n                });\n            }\n        } else {\n            this.setState({\n                link: link,\n                mangaStatus: 'none'\n            });\n        }\n    };\n\n    onCompletedChange = (event) => {\n        const {manga} = this.state;\n        manga.isCompleted = event.target.checked;\n        this.setState({manga: manga});\n    };\n\n    onFollowingChange = (event) => {\n        const {manga} = this.state;\n        manga.following = event.target.value;\n        this.setState({manga: manga});\n    };\n\n    onChangeChapter = (event) => {\n        const readChaptersLinks = event.target.value;\n        const {manga} = this.state;\n        const {chapters} = this.state.manga;\n        chapters.forEach(chap => chap.isRead = readChaptersLinks.indexOf(chap.link) > -1);\n        this.setState({manga: manga});\n    };\n\n    onMarkAllChaptersRead = () => {\n        const {manga} = this.state;\n        const {chapters} = this.state.manga;\n        chapters.forEach(chap => chap.isRead = true);\n        this.setState({manga: manga});\n    };\n\n    onChangeNote = (event) => {\n        const {manga} = this.state;\n        manga.note = event.target.value;\n        this.setState({manga: manga});\n    };\n\n    addManga = async () => {\n        const {manga} = this.state;\n\n        try {\n            this.setState({\n                mangaStatus: 'waiting',\n                manga: 'Adding manga ...'\n            });\n            await this.props.onAddManga(manga);\n            this.setState({\n                open: false,\n                link: '',\n                mangaStatus: 'none',\n                manga: undefined\n            });\n        } catch (e) {\n            alert(\"ERROR: \" + e);\n        }\n    };\n\n    render() {\n        const {manga, mangaStatus, open, link} = this.state;\n\n        let addButton = '';\n        if (mangaStatus === 'ok')\n            addButton =\n                <DialogActions>\n                    <Button variant={\"contained\"} color={\"secondary\"} onClick={this.addManga}>Add</Button>\n                </DialogActions>;\n\n        return (\n            <div>\n                <AddIcon onClick={this.onClickOpen}/>\n                <Dialog\n                    open={open}\n                    onClose={this.onClose}\n                    fullWidth\n                    maxWidth='sm'\n                    aria-labelledby=\"add-form-dialog-title\"\n                >\n                    <DialogTitle id=\"add-form-dialog-title\"> Add new manga </DialogTitle>\n                    <DialogContent>\n                        <TextField\n                            fullWidth\n                            multiline\n                            rows={2}\n                            label={\"Manga link\"}\n                            onChange={this.onChangeLink}\n                            value={link}/>\n                        <MangaPreviewInfo\n                            mangaStatus={mangaStatus}\n                            manga={manga}\n                            onFollowingChange={this.onFollowingChange}\n                            onChangeChapter={this.onChangeChapter}\n                            onChangeNote={this.onChangeNote}\n                            onCompletedChange={this.onCompletedChange}\n                            onMarkAllChaptersRead={this.onMarkAllChaptersRead}\n                        />\n                    </DialogContent>\n                    {addButton}\n                </Dialog>\n            </div>\n        )\n    }\n\n}\n\nexport default withStyles(styles)(AddDialog);\n","import React from \"react\"\n\nimport ArrowUpwardIcon from \"@material-ui/icons/ArrowUpward\";\nimport UpdateIcon from \"@material-ui/icons/Refresh\";\n\nimport {Fab, Tooltip} from \"@material-ui/core\";\nimport {withStyles} from \"@material-ui/styles\";\n\nimport AddDialog from \"./AddDialog\";\n\nconst styles = () => ({\n    floatButtonGroup: {\n        position: \"fixed\",\n        bottom: 30,\n        right: 10,\n        display: 'flex',\n        flexDirection: 'column',\n        height: 135,\n        justifyContent: 'space-between'\n    }\n});\n\nclass FloatButtons extends React.Component {\n\n    render() {\n        const {classes, following, onAddManga, updatingMangas} = this.props;\n        const onUpdateManga = (updatingMangas) ? () => {\n        } : this.props.onUpdateManga;\n        const updateBtnColor = (updatingMangas) ? \"default\" : \"secondary\";\n\n        return (\n            <div className={classes.floatButtonGroup}>\n                <Tooltip title=\"Top of page\" placement=\"left\">\n                    <Fab onClick={scrollToTop} size=\"small\" color=\"secondary\">\n                        <ArrowUpwardIcon/>\n                    </Fab>\n                </Tooltip>\n                <Tooltip title={`Update \"${following}\" mangas`} placement=\"left\">\n                    <Fab onClick={onUpdateManga} size=\"small\" color={updateBtnColor}>\n                        <UpdateIcon/>\n                    </Fab>\n                </Tooltip>\n                <Tooltip title=\"Add manga\" placement=\"left\">\n                    <Fab size=\"small\" color=\"secondary\">\n                        <AddDialog onAddManga={onAddManga}/>\n                    </Fab>\n                </Tooltip>\n            </div>\n        )\n    }\n\n}\n\nfunction scrollToTop() {\n    document.querySelector(\"#page-top\").scrollIntoView({behavior: \"smooth\"})\n}\n\nexport default withStyles(styles)(FloatButtons);\n","import React from \"react\"\nimport {MenuItem, Select, Typography} from \"@material-ui/core\";\nimport {withStyles} from \"@material-ui/styles\";\n\nconst styles = () => ({\n    root: {\n        display: 'flex',\n        alignItems: 'flex-end'\n    },\n    label: {\n        paddingRight: 15,\n        paddingBottom: 3\n    }\n});\n\nclass SortBy extends React.Component {\n\n    render() {\n        const {classes} = this.props;\n        const onChange = this.props.onChange;\n        const sortby = this.props.sortby;\n\n        return (\n            <div className={classes.root}>\n                <Typography className={classes.label} variant={\"subtitle1\"}>\n                    Sort by\n                </Typography>\n                <Select value={sortby} onChange={onChange} variant={\"filled\"} on >\n                    <MenuItem value=\"status\">Status</MenuItem>\n                    <MenuItem value=\"name\">Name</MenuItem>\n                    <MenuItem value=\"latest\">Latest</MenuItem>\n                    <MenuItem value=\"many\">Many to read</MenuItem>\n                </Select>\n            </div>\n        )\n    }\n}\n\n\nexport default withStyles(styles)(SortBy);","import React from \"react\"\nimport {withStyles} from \"@material-ui/styles\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport CloseIcon from \"@material-ui/icons/Close\";\n\nconst styles = () => ({\n    search: {\n        border: '1px solid #00bea6',\n        borderRadius: 5,\n        paddingLeft: 15,\n        display: 'flex'\n    },\n    icon: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        paddingLeft: 5,\n        paddingRight: 5,\n    },\n    input: {\n        width: 100,\n        border: 'none',\n        transition: 'width 0.5s',\n        fontSize: '90%',\n        outline: 'none',\n        '&:focus': {\n            border: 'none',\n            width: 250,\n        },\n    }\n});\n\nclass SearchBar extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {searchTerm: ''}\n    }\n\n    onSearchTermChange = (event) => {\n        this.setState({searchTerm: event.target.value})\n    };\n\n    onKeyPress = (event) => {\n        if (event.key === 'Enter')\n            this.search();\n    };\n\n    search = () => {\n        this.props.onSearch(this.state.searchTerm);\n    };\n\n    close = () => {\n        this.setState({searchTerm: ''});\n        this.props.closeSearchResult();\n    };\n\n    render() {\n        const {classes, isSearching} = this.props;\n        const {searchTerm} = this.state;\n\n        let icon = (isSearching)\n            ? (<CloseIcon onClick={this.close}/>)\n            : (<SearchIcon onClick={this.search}/>);\n\n        // let inputClass = classes.input\n\n        return (\n            <div className={classes.search}>\n                <input\n                    className={classes.input}\n                    placeholder=\"Search\"\n                    value={searchTerm}\n                    onChange={this.onSearchTermChange}\n                    onKeyPress={this.onKeyPress}\n                />\n                <span className={classes.icon}>\n                    {icon}\n                </span>\n            </div>\n        )\n    }\n\n}\n\nexport default withStyles(styles)(SearchBar);","import React from \"react\"\nimport {withStyles} from \"@material-ui/styles\";\nimport SelectFollowing from \"./SelectFollowing\";\nimport SortBy from \"./SortBy\";\nimport SearchBar from \"./SearchBar\";\n\nconst styles = () => ({\n    header: {\n        display: 'flex',\n        justifyContent: 'space-between'\n    },\n    paddingTop: {\n        paddingTop: 100\n    }\n});\n\nclass Header extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            openSearchBox: false\n        }\n    }\n\n    render() {\n        const {classes, dataSource} = this.props;\n        const isSearching = (dataSource === 'search');\n\n        return (\n            <div>\n                <div className={classes.paddingTop} id={'page-top'}/>\n                <div className={classes.header}>\n                    <SelectFollowing\n                        following={this.props.following}\n                        onChange={this.props.onFollowingChange}\n                        disable={isSearching}\n                    />\n                    <SortBy\n                        sortby={this.props.sortby}\n                        onChange={this.props.onSortByChange}\n                    />\n                    <SearchBar\n                        onSearch={this.props.onSearch}\n                        closeSearchResult={this.props.closeSearchResult}\n                        isSearching={isSearching}\n                    />\n                </div>\n            </div>\n        );\n    }\n\n}\n\nexport default withStyles(styles)(Header);","import React from \"react\"\nimport {MenuItem, Select} from \"@material-ui/core\";\nimport {withStyles} from \"@material-ui/styles\";\nimport DeleteIcon from \"@material-ui/icons/DeleteForever\"\nimport DoneIcon from \"@material-ui/icons/Done\"\nimport UpdateIcon from \"@material-ui/icons/Refresh\"\n\nconst styles = () => ({\n    noWrap: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'flex-start',\n        whiteSpace: 'nowrap'\n    },\n    actionBtn: {\n        padding: 2,\n        margin: '3px 8px 0px 8px',\n        borderRadius: 3,\n        display: 'inline-block',\n        '&:hover': {\n            cursor: 'pointer',\n            background: '#efa230',\n            color: '#fff'\n        }\n    },\n    actionBtnDisabled: {\n        padding: 2,\n        margin: '3px 8px 0px 8px',\n        borderRadius: 3,\n        display: 'inline-block',\n        color: '#919191',\n        '&:hover': {\n            cursor: 'progress',\n            color: '#919191'\n        }\n    },\n});\n\nclass MangaActions extends React.Component {\n\n    render() {\n        const {classes, manga, updatingManga} = this.props;\n\n        let markMangaCompletedBtn = '';\n        if (!manga.isCompleted)\n            markMangaCompletedBtn =\n                <div className={classes.actionBtn}\n                     title=\"Mark manga as completed\"\n                     onClick={this.props.onChangeCompleted}\n                >\n                    <DoneIcon/>\n                </div>;\n\n        const updateBtnClass = updatingManga ? classes.actionBtnDisabled: classes.actionBtn;\n        const updateManga = updatingManga ? () => null : this.props.updateManga;\n        const updateMangaBtn =\n            <div className={updateBtnClass}\n                 title=\"Update manga\"\n                 onClick={updateManga}\n            >\n                <UpdateIcon/>\n            </div>;\n\n        const deleteMangaBtn =\n            <div className={classes.actionBtn}\n                 title=\"Delete manga\"\n                 onClick={this.props.deleteManga}\n            >\n                <DeleteIcon/>\n            </div>;\n\n        return (\n            <div className={classes.noWrap}>\n                <Select\n                    value={manga.following}\n                    onChange={this.props.onChangeFollowing}\n                >\n                    <MenuItem value=\"toread\">toread</MenuItem>\n                    <MenuItem value=\"following\">following</MenuItem>\n                    <MenuItem value=\"waiting\">waiting</MenuItem>\n                    <MenuItem value=\"dropped\">dropped</MenuItem>\n                    <MenuItem value=\"finished\">finished</MenuItem>\n                </Select>\n\n                <div>\n                    {markMangaCompletedBtn}\n                    {updateMangaBtn}\n                    {deleteMangaBtn}\n                </div>\n            </div>\n        )\n    }\n\n}\n\nexport default withStyles(styles)(MangaActions);","import React from \"react\"\nimport {withStyles} from \"@material-ui/styles\";\nimport TextField from \"@material-ui/core/TextField/index\";\nimport SaveIcon from \"@material-ui/icons/Save\"\nimport CancelIcon from \"@material-ui/icons/Cancel\"\nimport EditIcon from \"@material-ui/icons/Edit\"\n\nconst styles = () => ({\n    actionBtn: {\n        padding: 2,\n        margin: '3px 8px 0px 8px',\n        borderRadius: 3,\n        display: 'inline-block',\n        '&:hover': {\n            cursor: 'pointer',\n            background: '#efa230',\n            color: '#fff'\n        }\n    },\n\n    noteBtnGroup: {\n        display: 'flex',\n        justifyContent: 'flex-end',\n        margin: '10px 0 15px 0'\n    }\n});\n\nclass MangaNote extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {note: null};\n    }\n\n    onNoteEdited = (event) => {\n        this.setState({note: event.target.value})\n    };\n\n    editNoteClicked = () => {\n        this.setState({note: this.props.mangaNote})\n    };\n\n    cancelEditNote = () => {\n        this.setState({note: null});\n    };\n\n    saveNote = () => {\n        this.props.saveNote(this.state.note);\n        this.setState({note: null});\n    };\n\n    render() {\n        const {classes} = this.props;\n        const mangaNote = this.props.mangaNote;\n        const note = this.state.note;\n\n        if (note == null)\n            return (\n                <div>\n                    <div>\n                        {(mangaNote === '') ? (<i>Nothing to show</i>) : mangaNote}\n                    </div>\n                    <div className={classes.noteBtnGroup} onClick={this.editNoteClicked}>\n                        <EditIcon className={classes.actionBtn} fontSize={\"small\"} titleAccess='Edit'/>\n                    </div>\n                </div>\n            );\n\n        return (\n            <div>\n                <TextField\n                    fullWidth\n                    value={note}\n                    onChange={this.onNoteEdited}\n                />\n                <div className={classes.noteBtnGroup}>\n                    <SaveIcon\n                        className={classes.actionBtn}\n                        titleAccess='Save'\n                        onClick={this.saveNote}\n                    />\n                    <CancelIcon\n                        className={classes.actionBtn}\n                        titleAccess='Cancel'\n                        onClick={this.cancelEditNote}\n                    />\n                </div>\n            </div>\n        )\n    }\n\n}\n\nexport default withStyles(styles)(MangaNote);","function getMangaStatus(manga) {\n    const allRead = manga.chapters.every(ch => ch.isRead);\n\n    if (manga.isCompleted)\n        if (allRead)\n            return 'Finished';\n        else\n            return 'Many to read';\n\n    else if (allRead)\n        return 'Last chap reached';\n    else\n        return 'New chap';\n}\n\nconst mangaStatuses = [\n    'New chap', 'Many to read',\n    'Last chap reached', 'Finished'\n];\n\nconst mangaSourceRegex = {\n    'Hoc vien truyen tranh': /^https?:\\/\\/hocvientruyentranh\\.(com|net)\\/(index.php\\/)?truyen\\/[0-9]+\\/.+$/,\n    'Mangakakalot': /^https?:\\/\\/mangakakalot\\.com\\/manga\\/.+$/,\n    'Mangarock': /^https?:\\/\\/mangarock\\.com\\/manga\\/mrs-serie-[0-9]+$/,\n    'Nettruyen': /^https?:\\/\\/www\\.nettruyen\\.com\\/truyen-tranh\\/.+$/,\n    'MangaWWW': /^https?:\\/\\/mangawww\\.club\\/manga\\/.+$/,\n    'Otakusan': /^https?:\\/\\/otakusan\\.net\\/MangaDetail\\/[0-9]+\\/.+$/,\n    'TruyenQQ': /^https?:\\/\\/truyenqq\\.com\\/truyen-tranh\\/.+$/,\n    'Truyen Tranh 8': /^https?:\\/\\/truyentranh869\\.com\\/.+$/,\n    'Truyen Tranh Tuan': /^https?:\\/\\/truyentranhtuan\\.com\\/.+$/,\n    'MangaBat': /^https?:\\/\\/mangabat\\.com\\/manga\\/.+$/,\n    'Mangasim': /^https?:\\/\\/mangasim\\.com\\/manga\\/.+$/,\n    'Mangazuki': /^https?:\\/\\/mangazuki\\.me\\/manga\\/.+$/,\n    'Thich Truyen Tranh': /^https?:\\/\\/thichtruyentranh\\.com\\/.+\\/[0-9]+\\.html$/,\n    'Ham Truyen Tranh': /^http:\\/\\/www\\.hamtruyentranh\\.net\\/truyen\\/.+$/,\n    'Say Truyen': /^https?:\\/\\/saytruyen\\.com\\/truyen\\/.+$/,\n    'Truyen 1': /^https?:\\/\\/truyen1\\.net\\/TruyenTranh\\/.+$/,\n};\n\nfunction getMangaSource(link) {\n    for (let src in mangaSourceRegex)\n        if (link.match(mangaSourceRegex[src]))\n            return src;\n    return null;\n}\n\n/**\n * https://stackoverflow.com/a/5960592/7342188\n */\nconst defaultDiacriticsRemovalMap = [\n    {\n        'base': 'A',\n        'letters': /[\\u0041\\u24B6\\uFF21\\u00C0\\u00C1\\u00C2\\u1EA6\\u1EA4\\u1EAA\\u1EA8\\u00C3\\u0100\\u0102\\u1EB0\\u1EAE\\u1EB4\\u1EB2\\u0226\\u01E0\\u00C4\\u01DE\\u1EA2\\u00C5\\u01FA\\u01CD\\u0200\\u0202\\u1EA0\\u1EAC\\u1EB6\\u1E00\\u0104\\u023A\\u2C6F]/g\n    }, {\n        'base': 'AA',\n        'letters': /[\\uA732]/g\n    }, {\n        'base': 'AE',\n        'letters': /[\\u00C6\\u01FC\\u01E2]/g\n    }, {\n        'base': 'AO',\n        'letters': /[\\uA734]/g\n    }, {\n        'base': 'AU',\n        'letters': /[\\uA736]/g\n    }, {\n        'base': 'AV',\n        'letters': /[\\uA738\\uA73A]/g\n    }, {\n        'base': 'AY',\n        'letters': /[\\uA73C]/g\n    }, {\n        'base': 'B',\n        'letters': /[\\u0042\\u24B7\\uFF22\\u1E02\\u1E04\\u1E06\\u0243\\u0182\\u0181]/g\n    }, {\n        'base': 'C',\n        'letters': /[\\u0043\\u24B8\\uFF23\\u0106\\u0108\\u010A\\u010C\\u00C7\\u1E08\\u0187\\u023B\\uA73E]/g\n    }, {\n        'base': 'D',\n        'letters': /[\\u0044\\u24B9\\uFF24\\u1E0A\\u010E\\u1E0C\\u1E10\\u1E12\\u1E0E\\u0110\\u018B\\u018A\\u0189\\uA779]/g\n    }, {\n        'base': 'DZ',\n        'letters': /[\\u01F1\\u01C4]/g\n    }, {\n        'base': 'Dz',\n        'letters': /[\\u01F2\\u01C5]/g\n    }, {\n        'base': 'E',\n        'letters': /[\\u0045\\u24BA\\uFF25\\u00C8\\u00C9\\u00CA\\u1EC0\\u1EBE\\u1EC4\\u1EC2\\u1EBC\\u0112\\u1E14\\u1E16\\u0114\\u0116\\u00CB\\u1EBA\\u011A\\u0204\\u0206\\u1EB8\\u1EC6\\u0228\\u1E1C\\u0118\\u1E18\\u1E1A\\u0190\\u018E]/g\n    }, {\n        'base': 'F',\n        'letters': /[\\u0046\\u24BB\\uFF26\\u1E1E\\u0191\\uA77B]/g\n    }, {\n        'base': 'G',\n        'letters': /[\\u0047\\u24BC\\uFF27\\u01F4\\u011C\\u1E20\\u011E\\u0120\\u01E6\\u0122\\u01E4\\u0193\\uA7A0\\uA77D\\uA77E]/g\n    }, {\n        'base': 'H',\n        'letters': /[\\u0048\\u24BD\\uFF28\\u0124\\u1E22\\u1E26\\u021E\\u1E24\\u1E28\\u1E2A\\u0126\\u2C67\\u2C75\\uA78D]/g\n    }, {\n        'base': 'I',\n        'letters': /[\\u0049\\u24BE\\uFF29\\u00CC\\u00CD\\u00CE\\u0128\\u012A\\u012C\\u0130\\u00CF\\u1E2E\\u1EC8\\u01CF\\u0208\\u020A\\u1ECA\\u012E\\u1E2C\\u0197]/g\n    }, {\n        'base': 'J',\n        'letters': /[\\u004A\\u24BF\\uFF2A\\u0134\\u0248]/g\n    }, {\n        'base': 'K',\n        'letters': /[\\u004B\\u24C0\\uFF2B\\u1E30\\u01E8\\u1E32\\u0136\\u1E34\\u0198\\u2C69\\uA740\\uA742\\uA744\\uA7A2]/g\n    }, {\n        'base': 'L',\n        'letters': /[\\u004C\\u24C1\\uFF2C\\u013F\\u0139\\u013D\\u1E36\\u1E38\\u013B\\u1E3C\\u1E3A\\u0141\\u023D\\u2C62\\u2C60\\uA748\\uA746\\uA780]/g\n    }, {\n        'base': 'LJ',\n        'letters': /[\\u01C7]/g\n    }, {\n        'base': 'Lj',\n        'letters': /[\\u01C8]/g\n    }, {\n        'base': 'M',\n        'letters': /[\\u004D\\u24C2\\uFF2D\\u1E3E\\u1E40\\u1E42\\u2C6E\\u019C]/g\n    }, {\n        'base': 'N',\n        'letters': /[\\u004E\\u24C3\\uFF2E\\u01F8\\u0143\\u00D1\\u1E44\\u0147\\u1E46\\u0145\\u1E4A\\u1E48\\u0220\\u019D\\uA790\\uA7A4]/g\n    }, {\n        'base': 'NJ',\n        'letters': /[\\u01CA]/g\n    }, {\n        'base': 'Nj',\n        'letters': /[\\u01CB]/g\n    }, {\n        'base': 'O',\n        'letters': /[\\u004F\\u24C4\\uFF2F\\u00D2\\u00D3\\u00D4\\u1ED2\\u1ED0\\u1ED6\\u1ED4\\u00D5\\u1E4C\\u022C\\u1E4E\\u014C\\u1E50\\u1E52\\u014E\\u022E\\u0230\\u00D6\\u022A\\u1ECE\\u0150\\u01D1\\u020C\\u020E\\u01A0\\u1EDC\\u1EDA\\u1EE0\\u1EDE\\u1EE2\\u1ECC\\u1ED8\\u01EA\\u01EC\\u00D8\\u01FE\\u0186\\u019F\\uA74A\\uA74C]/g\n    }, {\n        'base': 'OI',\n        'letters': /[\\u01A2]/g\n    }, {\n        'base': 'OO',\n        'letters': /[\\uA74E]/g\n    }, {\n        'base': 'OU',\n        'letters': /[\\u0222]/g\n    }, {\n        'base': 'P',\n        'letters': /[\\u0050\\u24C5\\uFF30\\u1E54\\u1E56\\u01A4\\u2C63\\uA750\\uA752\\uA754]/g\n    }, {\n        'base': 'Q',\n        'letters': /[\\u0051\\u24C6\\uFF31\\uA756\\uA758\\u024A]/g\n    }, {\n        'base': 'R',\n        'letters': /[\\u0052\\u24C7\\uFF32\\u0154\\u1E58\\u0158\\u0210\\u0212\\u1E5A\\u1E5C\\u0156\\u1E5E\\u024C\\u2C64\\uA75A\\uA7A6\\uA782]/g\n    }, {\n        'base': 'S',\n        'letters': /[\\u0053\\u24C8\\uFF33\\u1E9E\\u015A\\u1E64\\u015C\\u1E60\\u0160\\u1E66\\u1E62\\u1E68\\u0218\\u015E\\u2C7E\\uA7A8\\uA784]/g\n    }, {\n        'base': 'T',\n        'letters': /[\\u0054\\u24C9\\uFF34\\u1E6A\\u0164\\u1E6C\\u021A\\u0162\\u1E70\\u1E6E\\u0166\\u01AC\\u01AE\\u023E\\uA786]/g\n    }, {\n        'base': 'TZ',\n        'letters': /[\\uA728]/g\n    }, {\n        'base': 'U',\n        'letters': /[\\u0055\\u24CA\\uFF35\\u00D9\\u00DA\\u00DB\\u0168\\u1E78\\u016A\\u1E7A\\u016C\\u00DC\\u01DB\\u01D7\\u01D5\\u01D9\\u1EE6\\u016E\\u0170\\u01D3\\u0214\\u0216\\u01AF\\u1EEA\\u1EE8\\u1EEE\\u1EEC\\u1EF0\\u1EE4\\u1E72\\u0172\\u1E76\\u1E74\\u0244]/g\n    }, {\n        'base': 'V',\n        'letters': /[\\u0056\\u24CB\\uFF36\\u1E7C\\u1E7E\\u01B2\\uA75E\\u0245]/g\n    }, {\n        'base': 'VY',\n        'letters': /[\\uA760]/g\n    }, {\n        'base': 'W',\n        'letters': /[\\u0057\\u24CC\\uFF37\\u1E80\\u1E82\\u0174\\u1E86\\u1E84\\u1E88\\u2C72]/g\n    }, {\n        'base': 'X',\n        'letters': /[\\u0058\\u24CD\\uFF38\\u1E8A\\u1E8C]/g\n    }, {\n        'base': 'Y',\n        'letters': /[\\u0059\\u24CE\\uFF39\\u1EF2\\u00DD\\u0176\\u1EF8\\u0232\\u1E8E\\u0178\\u1EF6\\u1EF4\\u01B3\\u024E\\u1EFE]/g\n    }, {\n        'base': 'Z',\n        'letters': /[\\u005A\\u24CF\\uFF3A\\u0179\\u1E90\\u017B\\u017D\\u1E92\\u1E94\\u01B5\\u0224\\u2C7F\\u2C6B\\uA762]/g\n    }, {\n        'base': 'a',\n        'letters': /[\\u0061\\u24D0\\uFF41\\u1E9A\\u00E0\\u00E1\\u00E2\\u1EA7\\u1EA5\\u1EAB\\u1EA9\\u00E3\\u0101\\u0103\\u1EB1\\u1EAF\\u1EB5\\u1EB3\\u0227\\u01E1\\u00E4\\u01DF\\u1EA3\\u00E5\\u01FB\\u01CE\\u0201\\u0203\\u1EA1\\u1EAD\\u1EB7\\u1E01\\u0105\\u2C65\\u0250]/g\n    }, {\n        'base': 'aa',\n        'letters': /[\\uA733]/g\n    }, {\n        'base': 'ae',\n        'letters': /[\\u00E6\\u01FD\\u01E3]/g\n    }, {\n        'base': 'ao',\n        'letters': /[\\uA735]/g\n    }, {\n        'base': 'au',\n        'letters': /[\\uA737]/g\n    }, {\n        'base': 'av',\n        'letters': /[\\uA739\\uA73B]/g\n    }, {\n        'base': 'ay',\n        'letters': /[\\uA73D]/g\n    }, {\n        'base': 'b',\n        'letters': /[\\u0062\\u24D1\\uFF42\\u1E03\\u1E05\\u1E07\\u0180\\u0183\\u0253]/g\n    }, {\n        'base': 'c',\n        'letters': /[\\u0063\\u24D2\\uFF43\\u0107\\u0109\\u010B\\u010D\\u00E7\\u1E09\\u0188\\u023C\\uA73F\\u2184]/g\n    }, {\n        'base': 'd',\n        'letters': /[\\u0064\\u24D3\\uFF44\\u1E0B\\u010F\\u1E0D\\u1E11\\u1E13\\u1E0F\\u0111\\u018C\\u0256\\u0257\\uA77A]/g\n    }, {\n        'base': 'dz',\n        'letters': /[\\u01F3\\u01C6]/g\n    }, {\n        'base': 'e',\n        'letters': /[\\u0065\\u24D4\\uFF45\\u00E8\\u00E9\\u00EA\\u1EC1\\u1EBF\\u1EC5\\u1EC3\\u1EBD\\u0113\\u1E15\\u1E17\\u0115\\u0117\\u00EB\\u1EBB\\u011B\\u0205\\u0207\\u1EB9\\u1EC7\\u0229\\u1E1D\\u0119\\u1E19\\u1E1B\\u0247\\u025B\\u01DD]/g\n    }, {\n        'base': 'f',\n        'letters': /[\\u0066\\u24D5\\uFF46\\u1E1F\\u0192\\uA77C]/g\n    }, {\n        'base': 'g',\n        'letters': /[\\u0067\\u24D6\\uFF47\\u01F5\\u011D\\u1E21\\u011F\\u0121\\u01E7\\u0123\\u01E5\\u0260\\uA7A1\\u1D79\\uA77F]/g\n    }, {\n        'base': 'h',\n        'letters': /[\\u0068\\u24D7\\uFF48\\u0125\\u1E23\\u1E27\\u021F\\u1E25\\u1E29\\u1E2B\\u1E96\\u0127\\u2C68\\u2C76\\u0265]/g\n    }, {\n        'base': 'hv',\n        'letters': /[\\u0195]/g\n    }, {\n        'base': 'i',\n        'letters': /[\\u0069\\u24D8\\uFF49\\u00EC\\u00ED\\u00EE\\u0129\\u012B\\u012D\\u00EF\\u1E2F\\u1EC9\\u01D0\\u0209\\u020B\\u1ECB\\u012F\\u1E2D\\u0268\\u0131]/g\n    }, {\n        'base': 'j',\n        'letters': /[\\u006A\\u24D9\\uFF4A\\u0135\\u01F0\\u0249]/g\n    }, {\n        'base': 'k',\n        'letters': /[\\u006B\\u24DA\\uFF4B\\u1E31\\u01E9\\u1E33\\u0137\\u1E35\\u0199\\u2C6A\\uA741\\uA743\\uA745\\uA7A3]/g\n    }, {\n        'base': 'l',\n        'letters': /[\\u006C\\u24DB\\uFF4C\\u0140\\u013A\\u013E\\u1E37\\u1E39\\u013C\\u1E3D\\u1E3B\\u017F\\u0142\\u019A\\u026B\\u2C61\\uA749\\uA781\\uA747]/g\n    }, {\n        'base': 'lj',\n        'letters': /[\\u01C9]/g\n    }, {\n        'base': 'm',\n        'letters': /[\\u006D\\u24DC\\uFF4D\\u1E3F\\u1E41\\u1E43\\u0271\\u026F]/g\n    }, {\n        'base': 'n',\n        'letters': /[\\u006E\\u24DD\\uFF4E\\u01F9\\u0144\\u00F1\\u1E45\\u0148\\u1E47\\u0146\\u1E4B\\u1E49\\u019E\\u0272\\u0149\\uA791\\uA7A5]/g\n    }, {\n        'base': 'nj',\n        'letters': /[\\u01CC]/g\n    }, {\n        'base': 'o',\n        'letters': /[\\u006F\\u24DE\\uFF4F\\u00F2\\u00F3\\u00F4\\u1ED3\\u1ED1\\u1ED7\\u1ED5\\u00F5\\u1E4D\\u022D\\u1E4F\\u014D\\u1E51\\u1E53\\u014F\\u022F\\u0231\\u00F6\\u022B\\u1ECF\\u0151\\u01D2\\u020D\\u020F\\u01A1\\u1EDD\\u1EDB\\u1EE1\\u1EDF\\u1EE3\\u1ECD\\u1ED9\\u01EB\\u01ED\\u00F8\\u01FF\\u0254\\uA74B\\uA74D\\u0275]/g\n    }, {\n        'base': 'oi',\n        'letters': /[\\u01A3]/g\n    }, {\n        'base': 'ou',\n        'letters': /[\\u0223]/g\n    }, {\n        'base': 'oo',\n        'letters': /[\\uA74F]/g\n    }, {\n        'base': 'p',\n        'letters': /[\\u0070\\u24DF\\uFF50\\u1E55\\u1E57\\u01A5\\u1D7D\\uA751\\uA753\\uA755]/g\n    }, {\n        'base': 'q',\n        'letters': /[\\u0071\\u24E0\\uFF51\\u024B\\uA757\\uA759]/g\n    }, {\n        'base': 'r',\n        'letters': /[\\u0072\\u24E1\\uFF52\\u0155\\u1E59\\u0159\\u0211\\u0213\\u1E5B\\u1E5D\\u0157\\u1E5F\\u024D\\u027D\\uA75B\\uA7A7\\uA783]/g\n    }, {\n        'base': 's',\n        'letters': /[\\u0073\\u24E2\\uFF53\\u00DF\\u015B\\u1E65\\u015D\\u1E61\\u0161\\u1E67\\u1E63\\u1E69\\u0219\\u015F\\u023F\\uA7A9\\uA785\\u1E9B]/g\n    }, {\n        'base': 't',\n        'letters': /[\\u0074\\u24E3\\uFF54\\u1E6B\\u1E97\\u0165\\u1E6D\\u021B\\u0163\\u1E71\\u1E6F\\u0167\\u01AD\\u0288\\u2C66\\uA787]/g\n    }, {\n        'base': 'tz',\n        'letters': /[\\uA729]/g\n    }, {\n        'base': 'u',\n        'letters': /[\\u0075\\u24E4\\uFF55\\u00F9\\u00FA\\u00FB\\u0169\\u1E79\\u016B\\u1E7B\\u016D\\u00FC\\u01DC\\u01D8\\u01D6\\u01DA\\u1EE7\\u016F\\u0171\\u01D4\\u0215\\u0217\\u01B0\\u1EEB\\u1EE9\\u1EEF\\u1EED\\u1EF1\\u1EE5\\u1E73\\u0173\\u1E77\\u1E75\\u0289]/g\n    }, {\n        'base': 'v',\n        'letters': /[\\u0076\\u24E5\\uFF56\\u1E7D\\u1E7F\\u028B\\uA75F\\u028C]/g\n    }, {\n        'base': 'vy',\n        'letters': /[\\uA761]/g\n    }, {\n        'base': 'w',\n        'letters': /[\\u0077\\u24E6\\uFF57\\u1E81\\u1E83\\u0175\\u1E87\\u1E85\\u1E98\\u1E89\\u2C73]/g\n    }, {\n        'base': 'x',\n        'letters': /[\\u0078\\u24E7\\uFF58\\u1E8B\\u1E8D]/g\n    }, {\n        'base': 'y',\n        'letters': /[\\u0079\\u24E8\\uFF59\\u1EF3\\u00FD\\u0177\\u1EF9\\u0233\\u1E8F\\u00FF\\u1EF7\\u1E99\\u1EF5\\u01B4\\u024F\\u1EFF]/g\n    }, {\n        'base': 'z',\n        'letters': /[\\u007A\\u24E9\\uFF5A\\u017A\\u1E91\\u017C\\u017E\\u1E93\\u1E95\\u01B6\\u0225\\u0240\\u2C6C\\uA763]/g\n    }\n];\n\nfunction removeDiacritics(str) {\n    defaultDiacriticsRemovalMap.forEach(change => {\n        str = str.replace(change.letters, change.base);\n    });\n    return str;\n}\n\nfunction minusArray(arr1, arr2) {\n    return arr1.filter(e => arr2.indexOf(e) === -1);\n}\n\nexport default {\n    getMangaStatus,\n    mangaStatuses,\n    getMangaSource,\n    removeDiacritics,\n    minusArray\n}","import React from \"react\"\nimport {withStyles} from \"@material-ui/styles\";\nimport Grid from \"@material-ui/core/Grid\";\nimport utils from \"../../utils\"\n\nconst styles = () => ({\n    infoHeader: {\n        fontWeight: 550,\n    },\n    mangaName: {\n        color: '#525252',\n        fontSize: '130%',\n        fontWeight: 900,\n        textDecoration: 'none',\n        '&:hover': {\n            textDecoration: 'underline',\n            color: '#000'\n        }\n    },\n    mangaDetails: {\n        marginTop: 20\n    },\n});\n\nclass MangaInfoCell extends React.Component {\n\n    render() {\n        const {classes} = this.props;\n        const manga = this.props.manga;\n        const mangaSource = utils.getMangaSource(manga.link);\n\n        return (\n            <div>\n                <div>\n                    <a className={classes.mangaName} href={manga.link}>{manga.name}</a>\n                </div>\n                <Grid container  className={classes.mangaDetails}>\n\n                    <Grid item xs={4} className={classes.infoHeader}>Source</Grid>\n                    <Grid item xs={8}>{mangaSource}</Grid>\n\n                    <Grid item xs={4} className={classes.infoHeader}>Total chapters</Grid>\n                    <Grid item xs={8}>{manga.chapters.length}</Grid>\n\n                </Grid>\n            </div>\n        )\n    }\n\n}\n\nexport default withStyles(styles)(MangaInfoCell);","import React from \"react\"\n\nimport {Badge, TableRow} from \"@material-ui/core\";\nimport TableCell from \"@material-ui/core/TableCell/index\";\nimport {withStyles} from \"@material-ui/styles\";\n\nimport ChapterList from \"./ChapterList\";\nimport MangaActions from \"./MangaActions\";\nimport MangaNote from \"./MangaNote\";\nimport utils from \"../../utils\"\nimport MangaInfoCell from \"./MangaInfoCell\";\n\nconst styles = () => ({\n    F: {\n        color: '#999999'\n    },\n    MTR: {\n        color: '#efa230'\n    },\n    LCR: {\n        color: 'rgba(37,68,111,0.95)'\n    },\n    NC: {\n        color: '#07853a'\n    },\n\n    mangaStatus: {\n        margin: '5px 12px',\n        fontWeight: 900,\n        fontSize: '120%',\n        textTransform: 'capitalize'\n    },\n\n    mangaImg: {\n        width: 100,\n        minHeight: 100\n    }\n});\n\nclass Row extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            updatingManga: false,\n            manga: props.manga,\n            note: null\n        }\n    }\n\n    markChapterReadStatus = async (chapters, action) => {\n        const mangaID = this.state.manga._id;\n\n        if (chapters.length === 0) return;\n        const url = `/api/chapter/${action}`;\n        const fetchOptions = {\n            method: 'POST',\n            credentials: \"same-origin\",\n            headers: {'Content-Type': 'application/json'},\n            body: JSON.stringify({\n                manga: mangaID,\n                chapters: chapters\n            })\n        };\n\n        const response = await fetch(url, fetchOptions);\n        if (!response.ok)\n            throw new Error(await response.text())\n    };\n\n    markChaptersAsRead = async (links) => {\n        const {manga} = this.state;\n        const {chapters} = manga;\n\n        let oldValues = chapters.filter(ch => ch.isRead).map(ch => ch.link);\n\n        const markRead = utils.minusArray(links, oldValues);\n        const markUnread = utils.minusArray(oldValues, links);\n\n        try {\n            await Promise.all([\n                this.markChapterReadStatus(markRead, 'read'),\n                this.markChapterReadStatus(markUnread, 'unread')\n            ]);\n\n            chapters.forEach(chap => chap.isRead = links.indexOf(chap.link) > -1);\n            manga.status = utils.getMangaStatus(manga);\n            this.setState({manga: manga});\n\n        } catch (e) {\n            alert('ERROR ' + e);\n        }\n    };\n\n    onChangeChapter = async (event) => {\n        await this.markChaptersAsRead(event.target.value)\n    };\n\n    onMarkChaptersAsReadUpTo = async (upTo) => {\n        const links = this.state.manga.chapters\n            .map((ch, i) => (i >= upTo) ? ch.link : null) // get links of chapters with i >= upTo\n            .filter(link => link !== null); // remove null\n\n        await this.markChaptersAsRead(links);\n    };\n\n    onMarkAllChaptersRead = async () => {\n        const {manga} = this.state;\n        const {chapters} = manga;\n        const markRead = chapters.filter(ch => !ch.isRead).map(ch => ch.link);\n        try {\n            await this.markChapterReadStatus(markRead, 'read');\n            chapters.forEach(ch => ch.isRead = true);\n            manga.status = utils.getMangaStatus(manga);\n            this.setState({manga: manga})\n        } catch (e) {\n            alert('ERROR ' + e);\n        }\n    };\n\n    saveNote = async (note) => {\n        const {manga} = this.state;\n\n        try {\n            await this.props.onEditManga(manga._id, {note: note});\n            manga.note = note;\n            this.setState({manga: manga, note: null});\n        } catch (e) {\n            alert('ERROR: ' + e);\n        }\n    };\n\n    deleteManga = () => {\n        if (!window.confirm('Are you sure to delete this manga?'))\n            return;\n        this.props.onDeleteManga(this.state.manga._id)\n    };\n\n    onChangeCompleted = async () => {\n        const {manga} = this.state;\n\n        try {\n            await this.props.onEditManga(manga._id, {isCompleted: true});\n            manga.isCompleted = true;\n            manga.status = utils.getMangaStatus(manga);\n            this.setState({manga: manga});\n        } catch (e) {\n            alert('ERROR: ' + e);\n        }\n    };\n\n    onChangeFollowing = async (event) => {\n        const {manga} = this.state;\n        const following = event.target.value;\n\n        try {\n            await this.props.onEditManga(manga._id, {following: following});\n            manga.following = following;\n            this.setState({manga: manga});\n        } catch (e) {\n            alert('ERROR: ' + e);\n        }\n    };\n\n    updateManga = async () => {\n        this.setState({updatingManga: true});\n\n        let {manga} = this.state;\n\n        const url = `/api/manga/update`;\n        const fetchOptions = {\n            method: 'POST',\n            credentials: \"same-origin\",\n            headers: {'Content-Type': 'application/json'},\n            body: JSON.stringify({'manga': manga._id})\n        };\n\n        const response = await fetch(url, fetchOptions);\n        if (!response.ok) {\n            this.setState({updatingManga: false});\n            alert('ERROR ' + await response.text());\n            return\n        }\n\n        this.setState({\n            manga: await response.json(),\n            updatingManga: false\n        });\n        alert(`Manga \"${manga.name}\" updated successfully!`);\n    };\n\n    render() {\n        const {classes} = this.props;\n        const {manga, updatingManga} = this.state;\n        const chapters = manga.chapters;\n\n        const {status} = manga;\n        const colorClass = {\n            'Finished': classes.F,\n            'Many to read': classes.MTR,\n            'Last chap reached': classes.LCR,\n            'New chap': classes.NC\n        }[status];\n\n        const numberUnreadChap = chapters.filter(ch => !ch.isRead).length;\n\n        return (\n            <TableRow>\n\n                <TableCell>\n                    <Badge badgeContent={numberUnreadChap} color=\"error\" max={10}>\n                        <div className={[colorClass, classes.mangaStatus].join(' ')}>{status}</div>\n                    </Badge>\n                </TableCell>\n\n                <TableCell>\n                    <div className={classes.mangaImg}>\n                        <img src={manga.image} alt='img' className={classes.mangaImg}/>\n                    </div>\n                </TableCell>\n\n                <TableCell>\n                    <MangaInfoCell manga={manga}/>\n                </TableCell>\n\n                <TableCell>\n                    <ChapterList\n                        chapters={chapters}\n                        onChangeChapter={this.onChangeChapter}\n                        onMarkUpTo={this.onMarkChaptersAsReadUpTo}\n                        onMarkAllChaptersRead={this.onMarkAllChaptersRead}\n                        showNextChapBtn={true}\n                        markAllRead='after'\n                    />\n                </TableCell>\n\n                <TableCell>\n                    <MangaActions\n                        updatingManga={updatingManga}\n                        manga={manga}\n                        onChangeCompleted={this.onChangeCompleted}\n                        onChangeFollowing={this.onChangeFollowing}\n                        updateManga={this.updateManga}\n                        deleteManga={this.deleteManga}\n                    />\n                </TableCell>\n\n                <TableCell>\n                    <MangaNote\n                        mangaNote={manga.note}\n                        saveNote={this.saveNote}\n                    />\n                </TableCell>\n\n            </TableRow>\n        )\n    }\n\n}\n\nexport default withStyles(styles)(Row);","import React from 'react';\nimport withStyles from \"@material-ui/core/styles/withStyles\";\n\nimport {\n    CircularProgress,\n    Fab,\n    Table,\n    TableBody,\n    TableCell,\n    TableHead,\n    TableRow,\n    Typography,\n    Tooltip\n} from \"@material-ui/core\";\n\nimport ArrowDropDown from \"@material-ui/core/es/internal/svg-icons/ArrowDropDown\";\n\n\nimport Row from \"./Row\";\n\nconst styles = () => ({\n    table: {\n        marginTop: 45,\n    },\n    tableHeader: {\n        background: '#00bea6',\n        '&:hover': {\n            background: '#00bea6'\n        }\n    },\n    tableHeaderCell: {\n        fontSize: '110%',\n        fontWeight: 800,\n        color: 'rgba(51,51,51,0.89)'\n    },\n    blur: {\n        filter: 'opacity(50%) blur(0.25px)'\n    },\n    waiting: {\n        padding: 20,\n        textAlign: 'center'\n    },\n    showMore: {\n        marginTop: 30,\n        display: 'flex',\n        justifyContent: 'center'\n    }\n});\n\nconst dummy = [\n    {\n        _id: \"0\",\n        chapters: [\n            // {\n            //     _id: \"5cd3cb713615403f7bdc0e9d\",\n            //     isRead: false,\n            //     createAt: '2020-05-16',\n            //     \"name\": \"Chapter 3B\",\n            //     \"link\": \"http://www.nettruyen.com/truyen-tranh/the-shocking-reality-of-a-loan-shark-collecting-money/chap-3/465979\",\n            // },\n            // {\n            //     _id: \"5cd3cb713615403f7bdc0e9e\",\n            //     isRead: false,\n            //     createAt: '2015-05-16',\n            //     \"name\": \"Chapter 2B\",\n            //     \"link\": \"http://www.nettruyen.com/truyen-tranh/the-shocking-reality-of-a-loan-shark-collecting-money/chap-2/465978\",\n            // },\n            // {\n            //     _id: \"5cd3cb713615403f7bdc0e9f\",\n            //     isRead: false,\n            //     createAt: '2014-05-16',\n            //     \"name\": \"Chapter 1B\",\n            //     \"link\": \"http://www.nettruyen.com/truyen-tranh/the-shocking-reality-of-a-loan-shark-collecting-money/chap-1/465210\",\n            // }\n        ],\n        following: 'following',\n        isCompleted: false,\n        note: 'This is a note',\n        name: \"AAA The Shocking Reality Of A Loan Shark Collecting Money\",\n        link: \"http://www.nettruyen.com/truyen-tranh/the-shocking-reality-of-a-loan-shark-collecting-money\",\n        image: \"http://st.nettruyen.com/data/comics/203/the-shocking-reality-of-a-loan-shark-col-6168.jpg\",\n    },\n    {\n        _id: \"1\",\n        chapters: [\n            {\n                _id: \"5cd3cb713615403f7bdc0e9d\",\n                isRead: false,\n                createAt: '2020-05-16',\n                \"name\": \"Chapter 3B\",\n                \"link\": \"http://www.nettruyen.com/truyen-tranh/the-shocking-reality-of-a-loan-shark-collecting-money/chap-3/465979\",\n            },\n            {\n                _id: \"5cd3cb713615403f7bdc0e9e\",\n                isRead: true,\n                createAt: '2015-05-16',\n                \"name\": \"this is a chapter name with very long linesss\",\n                \"link\": \"http://www.nettruyen.com/truyen-tranh/the-shocking-reality-of-a-loan-shark-collecting-money/chap-2/465978\",\n            },\n            {\n                _id: \"5cd3cb713615403f7bdc0e9f\",\n                isRead: true,\n                createAt: '2014-05-16',\n                \"name\": \"Chapter 1B\",\n                \"link\": \"http://www.nettruyen.com/truyen-tranh/the-shocking-reality-of-a-loan-shark-collecting-money/chap-1/465210\",\n            }\n        ],\n        following: 'following',\n        isCompleted: true,\n        note: 'A looooooooooong long sdkfj sdlfjlskdj flksdjlkfjsdlkjf klsd fsadjfsd note sadf asdfs',\n        name: \"AAA The Shocking Reality Of A Loan Shark Collecting Money\",\n        link: \"http://www.nettruyen.com/truyen-tranh/the-shocking-reality-of-a-loan-shark-collecting-money\",\n        image: \"http://st.nettruyen.com/data/comics/203/the-shocking-reality-of-a-loan-shark-col-6168.jpg\",\n\n    },\n    {\n        _id: \"2\",\n        chapters: [\n            {\n                _id: \"5cd3cb713615403f7bdc0e9d\",\n                isRead: true,\n                createAt: '2020-05-16',\n                \"name\": \"Chapter 3B\",\n                \"link\": \"http://www.nettruyen.com/truyen-tranh/the-shocking-reality-of-a-loan-shark-collecting-money/chap-3/465979\",\n            },\n            {\n                _id: \"5cd3cb713615403f7bdc0e9e\",\n                isRead: true,\n                createAt: '2015-05-16',\n                \"name\": \"Chapter 2B\",\n                \"link\": \"http://www.nettruyen.com/truyen-tranh/the-shocking-reality-of-a-loan-shark-collecting-money/chap-2/465978\",\n            },\n            {\n                _id: \"5cd3cb713615403f7bdc0e9f\",\n                isRead: true,\n                createAt: '2014-05-16',\n                \"name\": \"Chapter 1B\",\n                \"link\": \"http://www.nettruyen.com/truyen-tranh/the-shocking-reality-of-a-loan-shark-collecting-money/chap-1/465210\",\n            }\n        ],\n        following: 'following',\n        isCompleted: false,\n        note: '',\n        name: \"AAA The Shocking Reality Of A Loan Shark Collecting Money\",\n        link: \"http://www.nettruyen.com/truyen-tranh/the-shocking-reality-of-a-loan-shark-collecting-money\",\n        image: \"http://st.nettruyen.com/data/comics/203/the-shocking-reality-of-a-loan-shark-col-6168.jpg\",\n\n    },\n    {\n        _id: \"3\",\n        chapters: [\n            {\n                _id: \"5cd3cb713615403f7bdc0e9d\",\n                isRead: true,\n                createAt: '2020-05-16',\n                \"name\": \"Chapter 3B\",\n                \"link\": \"http://www.nettruyen.com/truyen-tranh/the-shocking-reality-of-a-loan-shark-collecting-money/chap-3/465979\",\n            },\n            {\n                _id: \"5cd3cb713615403f7bdc0e9e\",\n                isRead: true,\n                createAt: '2015-05-16',\n                \"name\": \"Chapter 2B\",\n                \"link\": \"http://www.nettruyen.com/truyen-tranh/the-shocking-reality-of-a-loan-shark-collecting-money/chap-2/465978\",\n            },\n            {\n                _id: \"5cd3cb713615403f7bdc0e9f\",\n                isRead: true,\n                createAt: '2014-05-16',\n                \"name\": \"Chapter 1B\",\n                \"link\": \"http://www.nettruyen.com/truyen-tranh/the-shocking-reality-of-a-loan-shark-collecting-money/chap-1/465210\",\n            }\n        ],\n        following: 'following',\n        isCompleted: true,\n        note: '',\n        name: \"AAA The Shocking Reality Of A Loan Shark Collecting Money\",\n        link: \"http://www.nettruyen.com/truyen-tranh/the-shocking-reality-of-a-loan-shark-collecting-money\",\n        image: \"http://st.nettruyen.com/data/comics/203/the-shocking-reality-of-a-loan-shark-col-6168.jpg\",\n\n    },\n];\n\nclass MangaTable extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            page: 1,\n            allLoaded: false,\n            fetchData: [],\n            searchData: [],\n            loading: true\n        }\n    }\n\n    componentDidMount() {\n        if (this.props.isAuthorized)\n            this.fetchManga()\n                .catch(alert)\n        // this.setState({fetchData: dummy})\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        const {fetchData, searchData} = this.state;\n        const {newManga} = this.props;\n\n        if (newManga !== prevProps.newManga\n            && newManga !== null\n            && !fetchData.find(manga => manga.link === newManga.link)) {\n            fetchData.unshift(newManga);\n            this.setState({fetchData: fetchData})\n        }\n\n        if (this.props.sortMethod !== prevProps.sortMethod) {\n            this.props.sortMethod(fetchData);\n            this.props.sortMethod(searchData);\n            this.setState({fetchData: fetchData, searchData: searchData});\n        }\n\n        const {dataSource, isAuthorized} = this.props;\n        if (isAuthorized) {\n            if (dataSource !== prevProps.dataSource) {\n                if (dataSource === 'fetch' && this.props.following !== prevProps.following)\n                    this.fetchManga().catch(alert);\n                if (dataSource === 'search' && this.props.searchTerm !== prevProps.searchTerm)\n                    this.searchManga().catch(alert);\n                return\n            }\n\n            if (this.props.following !== prevProps.following && dataSource === 'fetch') {\n                this.fetchManga().catch(alert)\n            }\n\n            if (this.props.searchTerm !== prevProps.searchTerm && dataSource === 'search') {\n                this.searchManga().catch(alert);\n            }\n\n            if (this.props.isAuthorized !== prevProps.isAuthorized) {\n                if (dataSource === 'fetch')\n                    this.fetchManga().catch(alert);\n                if (dataSource === 'search')\n                    this.searchManga().catch(alert);\n            }\n        }\n    }\n\n    fetchManga = async (page = 1) => {\n        const {following} = this.props;\n        let {fetchData} = this.state;\n\n        const url = `/api/manga?following=${following}&page=${page}`;\n\n        const fetchOptions = {\n            method: 'GET',\n            credentials: \"same-origin\",\n        };\n\n        this.setState({loading: true});\n        const response = await fetch(url, fetchOptions);\n\n        if (response.ok) {\n            const newData = await response.json();\n            this.props.sortMethod(newData);\n            fetchData = (page === 1) ? newData : fetchData.concat(newData);\n            this.setState({\n                fetchData: fetchData,\n                loading: false,\n                page: page,\n                allLoaded: newData.length === 0\n            });\n            return;\n        }\n\n        throw await response.text();\n    };\n\n    searchManga = async () => {\n        const searchTerm = encodeURIComponent(this.props.searchTerm.trim());\n        if (searchTerm === '')\n            return;\n\n        const url = '/api/manga/search?term=' + searchTerm;\n        const fetchOptions = {\n            method: 'GET',\n            credentials: \"same-origin\",\n        };\n\n        this.setState({loading: true});\n        const response = await fetch(url, fetchOptions);\n\n        if (response.ok) {\n            const data = await response.json();\n            this.props.sortMethod(data);\n            this.setState({searchData: data, loading: false});\n            return;\n        }\n\n        throw await response.text();\n    };\n\n    onEditManga = async (mangaID, updatedValues) => {\n        updatedValues.manga = mangaID;\n        const url = `/api/manga/edit`;\n        const fetchOptions = {\n            method: 'POST',\n            credentials: \"same-origin\",\n            headers: {'Content-Type': 'application/json'},\n            body: JSON.stringify(updatedValues)\n        };\n        const response = await fetch(url, fetchOptions);\n\n        if (!response.ok)\n            throw await response.text();\n\n        let {fetchData} = this.state;\n\n        // filter out fetched mangas that do not have matching following attribute\n        if (updatedValues.hasOwnProperty('following'))\n            fetchData = fetchData.filter((m) => (m._id !== mangaID || m.following === updatedValues.following));\n\n        this.setState({fetchData: fetchData});\n    };\n\n    onDeleteManga = async (mangaID) => {\n        try {\n            const url = `/api/manga/delete`;\n            const fetchOptions = {\n                method: 'POST',\n                credentials: \"same-origin\",\n                headers: {'Content-Type': 'application/json'},\n                body: JSON.stringify({manga: mangaID})\n            };\n            const response = await fetch(url, fetchOptions);\n\n            if (!response.ok) {\n                const text = await response.text();\n                alert(\"ERROR: \" + text);\n                return\n            }\n\n            const fetchData = this.state.fetchData.filter(m => m._id !== mangaID);\n            const searchData = this.state.searchData.filter(m => m._id !== mangaID);\n            this.setState({fetchData: fetchData, searchData: searchData});\n\n        } catch (e) {\n            alert(\"ERROR: \" + e);\n        }\n    };\n\n    loadMore = async () => {\n        const {page} = this.state;\n        await this.fetchManga(page + 1);\n    };\n\n    dataToRows = (data) => {\n        return data.map(d =>\n            <Row manga={d}\n                 key={d._id}\n                 onEditManga={this.onEditManga}\n                 onDeleteManga={this.onDeleteManga}\n            />\n        );\n    };\n\n    render() {\n        const {classes, dataSource} = this.props;\n        const {loading, allLoaded} = this.state;\n        const data = (dataSource === 'fetch')\n            ? this.state.fetchData\n            : this.state.searchData;\n\n        let tableClass = classes.table;\n\n        let rows;\n        if (loading) {\n            rows = this.dataToRows(data);\n            rows.push(\n                <TableRow>\n                    <TableCell colSpan={6} className={classes.waiting}><CircularProgress/></TableCell>\n                </TableRow>\n            );\n        } else if (data.length === 0)\n            rows =\n                <TableRow>\n                    <TableCell colSpan={6}><Typography>Nothing to show</Typography></TableCell>\n                </TableRow>;\n        else\n            rows = this.dataToRows(data);\n\n        return (\n            <div>\n                <Table className={tableClass}>\n                    <TableHead>\n                        <TableRow className={classes.tableHeader}>\n                            <TableCell className={classes.tableHeaderCell}> Status </TableCell>\n                            <TableCell className={classes.tableHeaderCell} colSpan={2}> Name </TableCell>\n                            <TableCell className={classes.tableHeaderCell}> Chapters </TableCell>\n                            <TableCell className={classes.tableHeaderCell}> Action </TableCell>\n                            <TableCell className={classes.tableHeaderCell}> Note </TableCell>\n                        </TableRow>\n                    </TableHead>\n                    <TableBody>\n                        {rows}\n                    </TableBody>\n                </Table>\n\n                {(loading || allLoaded) ? '' :\n                    <div className={classes.showMore}>\n                        <Tooltip title=\"Show more\" placement=\"bottom\">\n                            <Fab onClick={this.loadMore} size={\"small\"} color={\"secondary\"}>\n                                <ArrowDropDown/>\n                            </Fab>\n                        </Tooltip>\n                    </div>\n                }\n            </div>\n        );\n    }\n\n}\n\nexport default withStyles(styles)(MangaTable);\n","import React from 'react';\n\nimport withStyles from \"@material-ui/core/styles/withStyles\";\n\nimport FloatButtons from \"./FloatButtons\";\nimport Header from \"./Header\";\nimport MangaTable from \"./MangaTable\";\nimport utils from \"../utils\";\n\nconst styles = () => ({\n    content: {\n        paddingLeft: 24,\n        paddingRight: 24\n    },\n    header: {\n        display: 'flex',\n        justifyContent: 'space-between'\n    }\n});\n\nclass Content extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            sortby: 'status',\n            dataSource: 'fetch', // fetch or search\n            following: 'following',\n            searchTerm: '',\n            updatingMangas: false,\n            newManga: null,\n            mangaTableKey: new Date()\n        };\n    }\n\n    onSortByChange = (event) => {\n        console.log(event.target.value);\n        this.setState({\n            sortby: event.target.value\n        })\n    };\n\n    onFollowingChange = (event) => {\n        this.setState({\n            dataSource: 'fetch',\n            following: event.target.value\n        });\n    };\n\n    onSearch = (searchTerm) => {\n        this.setState({\n            dataSource: 'search',\n            searchTerm: searchTerm,\n        })\n    };\n\n    closeSearchResult = () => {\n        this.setState({\n            dataSource: 'fetch',\n            searchTerm: ''\n        })\n    };\n\n    onAddManga = async (manga) => {\n        const url = '/api/manga/add';\n        const fetchOptions = {\n            method: 'POST',\n            credentials: \"same-origin\",\n            headers: {'Content-Type': 'application/json'},\n            body: JSON.stringify(manga)\n        };\n\n        const response = await fetch(url, fetchOptions);\n\n        if (!response.ok)\n            throw await response.text();\n\n        this.setState({\n            dataSource: 'fetch',\n            following: manga.following,\n            newManga: await response.json()\n        });\n    };\n\n    onUpdateManga = async () => {\n        this.setState({updatingMangas: true});\n\n        const {following} = this.state;\n\n        const url = '/api/manga/update-multiple';\n        const fetchOptions = {\n            method: 'POST',\n            credentials: \"same-origin\",\n            headers: {'Content-Type': 'application/json'},\n            body: JSON.stringify({following: following})\n        };\n\n        const response = await fetch(url, fetchOptions);\n\n        if (!response.ok) {\n            this.setState({updatingMangas: false});\n            alert('ERROR ' + await response.text());\n            return\n        }\n\n        const result = await response.json();\n        let text = `Update successfully ${result.success.length}/${result.total} mangas:`;\n        result.success.forEach(mangaName => text += `\\n-  ${mangaName}`);\n        alert(text);\n\n        this.setState({\n            updatingMangas: false,\n            dataSource: 'fetch',\n            following: following,\n            mangaTableKey: new Date() // force re-generate\n        });\n    };\n\n    render() {\n        const {classes, isAuthorized} = this.props;\n        const {following, sortby, dataSource, searchTerm, mangaTableKey, newManga, updatingMangas} = this.state;\n\n        const sortMethod = {\n            'status': sortByStatus,\n            'name': sortByName,\n            'latest': sortByLatest,\n            'many': sortByManyToRead\n        }[sortby];\n\n        return (\n            <div className={classes.content}>\n                <Header\n                    dataSource={dataSource}\n                    following={following}\n                    onFollowingChange={this.onFollowingChange}\n                    sortby={sortby}\n                    onSortByChange={this.onSortByChange}\n                    onSearch={this.onSearch}\n                    closeSearchResult={this.closeSearchResult}\n                />\n                <MangaTable\n                    key={mangaTableKey}\n                    newManga={newManga}\n                    sortMethod={sortMethod}\n                    following={following}\n                    searchTerm={searchTerm}\n                    dataSource={dataSource}\n                    isAuthorized={isAuthorized}\n                />\n                <FloatButtons\n                    onAddManga={this.onAddManga}\n                    onUpdateManga={this.onUpdateManga}\n                    updatingMangas={updatingMangas}\n                    following={following}\n                />\n            </div>\n        );\n    }\n\n}\n\nfunction sortByStatus(mangas) {\n    mangas.sort((a, b) => {\n        a = utils.mangaStatuses.indexOf(utils.getMangaStatus(a));\n        b = utils.mangaStatuses.indexOf(utils.getMangaStatus(b));\n        return (a > b) ? 1 : ((a < b) ? -1 : 0);\n    });\n}\n\nfunction sortByName(mangas) {\n    mangas.sort((a, b) => {\n        a = utils.removeDiacritics(a.name.toLowerCase().trim());\n        b = utils.removeDiacritics(b.name.toLowerCase().trim());\n        return (a > b) ? 1 : ((a < b) ? -1 : 0)\n    });\n}\n\nfunction sortByLatest(mangas) {\n    const latestChap = (manga) => {\n        let latest = new Date('2000-01-01');\n        for (let i = 0; i < manga.chapters.length; i++) {\n            const date = new Date(manga.chapters[i].createAt);\n            if (date > latest)\n                latest = date;\n        }\n        return latest;\n    };\n\n    mangas.sort((a, b) => {\n        a = latestChap(a);\n        b = latestChap(b);\n        return (a > b) ? -1 : ((a < b) ? 1 : 0);\n    });\n}\n\nfunction sortByManyToRead(mangas) {\n    mangas.sort((a, b) => {\n        a = a.chapters.filter(ch => !ch.isRead).length;\n        b = b.chapters.filter(ch => !ch.isRead).length;\n        return (a > b) ? -1 : ((a < b) ? 1 : 0);\n    });\n}\n\nexport default withStyles(styles)(Content);\n","import Typography from \"@material-ui/core/Typography\";\nimport React from \"react\";\n\nfunction onTabChange(event, value) {\n    this.setState({tab: value});\n}\n\nfunction onUsernameChange(event) {\n    const {error} = this.state;\n    const username = event.target.value;\n    error.username = undefined;\n\n    if (username === '')\n        error.username = 'Missing username';\n\n    this.setState({username: username, error: error})\n}\n\nfunction onPasswordChange(event) {\n    const username = this.props.username || this.state.username;\n    const {error, confirm} = this.state;\n    const password = event.target.value;\n    error.password = undefined;\n\n    if (password.length < 8)\n        error.password = 'Password is too short';\n\n    const p = password.toLowerCase();\n    const u = username.toLowerCase();\n    if (u.includes(p) || p.includes(u))\n        error.password = 'Password and username are too similar';\n\n    if (confirm !== undefined && confirm !== password)\n        error.confirm = 'Confirm does not match password';\n\n    this.setState({password: password, error: error})\n}\n\nfunction onConfirmChange(event) {\n    const confirm = event.target.value;\n    const {error, password} = this.state;\n    error.confirm = undefined;\n\n    if (confirm !== password)\n        error.confirm = 'Confirm does not match password';\n\n    this.setState({confirm: confirm, error: error})\n}\n\nfunction onEmailChange(event) {\n    const emailRegex = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    const email = event.target.value;\n    const {error} = this.state;\n    error.email = undefined;\n\n    if (!email.match(emailRegex))\n        error.email = 'Invalid email';\n\n    this.setState({email: email, error: error})\n}\n\nfunction handleError() {\n    const {classes} = this.props;\n    const {error} = this.state;\n\n    const enableSubmit = Object.values(error).every(v => v === undefined);\n    const errorMessage = (enableSubmit) ? '' :\n        <div className={classes.announce}>\n            {Object.values(error)\n                .filter(v => v !== undefined)\n                .map(v => <Typography className={classes.error}>{v}</Typography>)}\n        </div>;\n\n    return {enableSubmit, errorMessage}\n}\n\nasync function onSubmit(url, data, method = 'GET') {\n    const fetchOptions = {\n        method: method,\n        credentials: \"same-origin\",\n    };\n\n    if (method === 'POST') {\n        fetchOptions.headers = {'Content-Type': 'application/json'};\n        fetchOptions.body = JSON.stringify(data);\n    } else {\n        url += '?';\n        Object.keys(data).forEach((k => {\n            url += `${k}=${data[k]}&`\n        }));\n        url = encodeURI(url.slice(0, url.length - 1));\n    }\n\n    try {\n        const response = await fetch(url, fetchOptions);\n        if (response.ok) {\n            await this.props.loadUserData();\n            this.props.redirectToIndex();\n        } else {\n            this.setState({error: await response.json()})\n        }\n    } catch (e) {\n        alert(e)\n    }\n}\n\nexport {\n    onTabChange,\n    onUsernameChange,\n    onPasswordChange,\n    onConfirmChange,\n    onEmailChange,\n    handleError,\n    onSubmit\n}","export default () => ({\n    textField: {\n        marginTop: 30,\n        marginBottom: 30\n    },\n    rightAlign: {\n        display: 'flex',\n        justifyContent: 'flex-end'\n    },\n    announce: {\n        margin: '25px 0'\n    },\n    error: {\n        color: 'red !important'\n    },\n    success: {\n        color: 'green !important'\n    },\n});","import React from \"react\"\nimport {Button, TextField} from \"@material-ui/core\";\nimport {withStyles} from \"@material-ui/styles\";\n\nimport {\n    handleError,\n    onConfirmChange,\n    onEmailChange,\n    onPasswordChange,\n    onSubmit,\n    onUsernameChange\n} from \"../formControlers\"\nimport styles from \"./formstyles\"\n\nclass RegisterForm extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            username: '',\n            password: '',\n            confirm: '',\n            email: '',\n            error: {}\n        }\n    }\n\n    onSubmit = () => {\n        const url = '/auth/local/register';\n        const data = {\n            username: this.state.username,\n            password: this.state.password,\n            email: this.state.email\n        };\n\n        onSubmit.bind(this)(url, data, 'GET');\n    };\n\n    onUsernameChange = onUsernameChange.bind(this);\n\n    onPasswordChange = onPasswordChange.bind(this);\n\n    onConfirmChange = onConfirmChange.bind(this);\n\n    onEmailChange = onEmailChange.bind(this);\n\n    handleError = handleError.bind(this);\n\n    render() {\n        const {classes} = this.props;\n        const {username, password, confirm, email, error} = this.state;\n        const {enableSubmit, errorMessage} = this.handleError();\n\n        return (\n            <div>\n                <div className={classes.textField}>\n                    <TextField\n                        fullWidth\n                        variant='outlined'\n                        label='Username'\n                        value={username}\n                        onChange={this.onUsernameChange}\n                        error={error.username !== undefined}\n                    />\n                </div>\n                <div className={classes.textField}>\n                    <TextField\n                        fullWidth\n                        variant='outlined'\n                        label='Password'\n                        type='password'\n                        value={password}\n                        onChange={this.onPasswordChange}\n                        error={error.password !== undefined}\n                    />\n                </div>\n                <div>\n                    <div className={classes.textField}>\n                        <TextField\n                            fullWidth\n                            variant='outlined'\n                            label='Confirm password'\n                            type='password'\n                            value={confirm}\n                            onChange={this.onConfirmChange}\n                            error={error.confirm !== undefined}\n                        />\n                    </div>\n                    <div className={classes.textField}>\n                        <TextField\n                            fullWidth\n                            variant='outlined'\n                            label='Email'\n                            value={email}\n                            onChange={this.onEmailChange}\n                            error={error.email !== undefined}\n                        />\n                    </div>\n                </div>\n\n                {errorMessage}\n\n                <div className={classes.rightAlign}>\n                    <Button\n                        variant={\"contained\"}\n                        color={\"secondary\"}\n                        onClick={this.onSubmit}\n                        disabled={!enableSubmit}\n                    >\n                        Register\n                    </Button>\n                </div>\n            </div>\n        )\n    }\n\n}\n\nexport default withStyles(styles)(RegisterForm);","import React from \"react\"\nimport {Button, TextField} from \"@material-ui/core\";\nimport {withStyles} from \"@material-ui/styles\";\n\nimport styles from \"./formstyles\";\nimport {handleError, onPasswordChange, onSubmit, onUsernameChange} from \"../formControlers\";\n\nclass LoginForm extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            username: '',\n            password: '',\n            error: {}\n        }\n    }\n\n    onSubmit = () => {\n        const url = '/auth/local';\n        const data = {\n            username: this.state.username,\n            password: this.state.password\n        };\n\n        onSubmit.bind(this)(url, data, 'GET');\n    };\n\n    onUsernameChange = onUsernameChange.bind(this);\n\n    onPasswordChange = onPasswordChange.bind(this);\n\n    handleError = handleError.bind(this);\n\n    render() {\n        const {classes} = this.props;\n        const {username, password, error} = this.state;\n        const {enableSubmit, errorMessage} = this.handleError();\n\n        return (\n            <div>\n                <div className={classes.textField}>\n                    <TextField\n                        fullWidth\n                        variant='outlined'\n                        label='Username'\n                        type='text'\n                        value={username}\n                        onChange={this.onUsernameChange}\n                        error={error.username !== undefined}\n                    />\n                </div>\n                <div className={classes.textField}>\n                    <TextField\n                        fullWidth\n                        variant='outlined'\n                        label='Password'\n                        type='password'\n                        value={password}\n                        onChange={this.onPasswordChange}\n                        error={error.password !== undefined}\n                    />\n                </div>\n                {errorMessage}\n                <div className={classes.rightAlign}>\n                    <Button\n                        variant={\"contained\"}\n                        color={\"secondary\"}\n                        onClick={this.onSubmit}\n                        disabled={!enableSubmit}\n                    >\n                        Login\n                    </Button>\n                </div>\n            </div>\n        )\n    }\n\n}\n\nexport default withStyles(styles)(LoginForm);","import React, {Component} from 'react';\nimport RegiterForm from './RegisterForm';\nimport LoginForm from './LoginForm';\nimport {Paper} from \"@material-ui/core\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport {withStyles} from \"@material-ui/styles\";\nimport {GoogleLoginButton, FacebookLoginButton} from \"react-social-login-buttons\";\nimport Typography from \"@material-ui/core/Typography\";\n\nconst styles = () => ({\n    container: {\n        marginTop: 100,\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'flex-start',\n        minHeight: 460\n    },\n    paper: {\n        paddingBottom: 10,\n        width: 400,\n    },\n    paperBody: {\n        padding: '30px 40px 30px 40px'\n    },\n    loginOptions: {\n        display: 'block',\n        margin: '20px 0',\n        padding: 0,\n        textDecoration: 'none',\n        color: '#fff',\n        '&:visited': {\n            color: '#fff'\n        }\n    },\n    loginBtn: {\n        color: '#fff !important'\n    },\n    otherOptions: {\n        marginTop: 65\n    },\n});\n\nclass Login extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            tab: 'login'\n        }\n    }\n\n    onTabChange = (event, value) => {\n        this.setState({tab: value});\n    };\n\n    render() {\n        const {classes, loadUserData, redirectToIndex, isLoggedIn} = this.props;\n        const {tab} = this.state;\n\n        let content;\n        if (tab === 'login')\n            content = <LoginForm loadUserData={loadUserData} redirectToIndex={redirectToIndex}/>;\n        else\n            content = <RegiterForm loadUserData={loadUserData} redirectToIndex={redirectToIndex}/>;\n\n        return (\n            <div className={classes.container}>\n                <Paper className={classes.paper}>\n                    <AppBar position=\"static\" color=\"default\">\n                        <Tabs\n                            value={tab}\n                            onChange={this.onTabChange}\n                            indicatorColor=\"primary\"\n                            textColor=\"primary\"\n                            variant=\"fullWidth\"\n                        >\n                            <Tab value=\"login\" label=\"LOGIN\"/>\n                            <Tab value=\"register\" label=\"REGISTER\" disabled={isLoggedIn}/>\n                        </Tabs>\n                    </AppBar>\n\n                    <div className={classes.paperBody}>\n                        {content}\n                        <br/><br/>\n                        <a className={classes.loginOptions} href='/auth/google'>\n                            <GoogleLoginButton>\n                                <Typography variant='button' className={classes.loginBtn}>\n                                    {tab} with Google\n                                </Typography>\n                            </GoogleLoginButton>\n                        </a>\n                        <a className={classes.loginOptions} href='/auth/facebook'>\n                            <FacebookLoginButton>\n                                <Typography variant='button' className={classes.loginBtn}>\n                                    {tab} with Facebook\n                                </Typography>\n                            </FacebookLoginButton>\n                        </a>\n                    </div>\n                </Paper>\n            </div>\n        )\n    }\n}\n\nexport default withStyles(styles)(Login);","import React from \"react\"\nimport {withStyles} from \"@material-ui/styles\";\nimport {Typography} from \"@material-ui/core\";\n\nconst styles = () => ({\n    container: {\n        margin: '100px 150px 0 150px'\n    },\n    link: {\n        cursor: 'pointer'\n    }\n});\n\nfunction NotFound(props) {\n    const {classes, redirectToIndex} = props;\n\n    return (\n        <div className={classes.container}>\n            <Typography variant=\"h4\">404 - Not found</Typography>\n            <hr/>\n\n            <Typography\n                className={classes.link}\n                variant=\"body2\"\n                onClick={redirectToIndex}\n            >\n                Go to home page\n            </Typography>\n        </div>\n    )\n}\n\nexport default withStyles(styles)(NotFound);","import createMuiTheme from \"@material-ui/core/styles/createMuiTheme\";\n\nexport default createMuiTheme({\n    typography: {\n        useNextVariants: true,\n    },\n    palette: {\n        primary: {\n            main: '#00bea6'\n        },\n        secondary: {\n            main: '#efa230'\n        }\n    },\n    overrides: {\n        MuiTableCell: {\n            head: {\n                paddingRight: 25,\n                paddingLeft: 15\n            },\n            body: {\n                paddingRight: 25,\n                paddingLeft: 15,\n                // verticalAlign: \"top\"\n            }\n        },\n        MuiTableRow: {\n            root: {\n                '&:hover': {\n                    background: 'rgba(240,240,240,0.47)'\n                }\n            }\n        },\n        MuiInputBase: {\n            root: {\n                // minWidth: 175,\n            }\n        },\n        MuiTabs: {\n            indicator: {\n                background: '#00eed0'\n            }\n        },\n        MuiTab: {\n            selected: {\n                background: '#00bea6',\n                color: '#fff !important',\n                fontWeight: 'bold'\n            }\n        }\n    }\n});","export default () => ({\n    textField: {\n        marginTop: 30,\n        marginBottom: 30\n    },\n    rightAlign: {\n        display: 'flex',\n        justifyContent: 'flex-end'\n    },\n    announce: {\n        margin: '25px 0'\n    },\n    error: {\n        color: 'red !important'\n    },\n    success: {\n        color: 'green !important'\n    },\n});","import React from \"react\"\nimport {Button, TextField} from \"@material-ui/core\";\nimport {withStyles} from \"@material-ui/styles\";\n\nimport {handleError, onEmailChange, onSubmit, onUsernameChange} from \"../formControlers\"\nimport styles from \"./formstyles\"\n\nclass ChangePassword extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            username: props.user.username,\n            email: props.user.email,\n            error: {}\n        }\n    }\n\n    onUsernameChange = onUsernameChange.bind(this);\n\n    onEmailChange = onEmailChange.bind(this);\n\n    handleError = handleError.bind(this);\n\n    onSubmit = () => {\n        const url = '/api/user/edit';\n        const data = {\n            username: this.state.username,\n            email: this.state.email\n        };\n        onSubmit.bind(this)(url, data);\n    };\n\n\n    render() {\n        const {classes} = this.props;\n        const {username, email, error} = this.state;\n        const {enableSubmit, errorMessage} = this.handleError();\n\n        return (\n            <div>\n                <div className={classes.textField}>\n                    <TextField\n                        fullWidth\n                        variant='outlined'\n                        label='Username'\n                        type='text'\n                        value={username}\n                        onChange={this.onUsernameChange}\n                        error={error.username !== undefined}\n                    />\n                </div>\n                <div className={classes.textField}>\n                    <TextField\n                        fullWidth\n                        variant='outlined'\n                        label='Email'\n                        type='email'\n                        value={email}\n                        onChange={this.onEmailChange}\n                        error={error.email !== undefined}\n                    />\n                </div>\n                {errorMessage}\n                <div className={classes.rightAlign}>\n                    <Button\n                        variant={\"contained\"}\n                        color={\"secondary\"}\n                        onClick={this.onSubmit}\n                        disabled={!enableSubmit}\n                    >\n                        Save\n                    </Button>\n                </div>\n            </div>\n        )\n    }\n\n}\n\nexport default withStyles(styles)(ChangePassword);","import React from \"react\"\nimport {Button, TextField} from \"@material-ui/core\";\nimport {withStyles} from \"@material-ui/styles\";\nimport Typography from \"@material-ui/core/Typography\";\n\nimport {handleError, onConfirmChange, onPasswordChange, onSubmit} from \"../formControlers\";\nimport styles from \"./formstyles\"\n\nclass ChangePassword extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            currentPassword: '',\n            password: '',\n            confirm: '',\n            lastUpdated: undefined,\n            error: {}\n        }\n    }\n\n    onCurrentPasswordChange = (event) => {\n        const {error} = this.state;\n        const currentPassword = event.target.value;\n        error.currentPassword = undefined;\n        if (currentPassword.length < 8)\n            error.currentPassword = 'Invalid current password';\n        this.setState({currentPassword: currentPassword, error: error})\n    };\n\n    onPasswordChange = onPasswordChange.bind(this);\n\n    onConfirmChange = onConfirmChange.bind(this);\n\n    handleError = handleError.bind(this);\n\n    onSubmit = () => {\n        const url = '/api/user/changepass';\n        const data = {\n            currentPassword: this.state.currentPassword,\n            password: this.state.password\n        };\n        onSubmit.bind(this)(url, data);\n    };\n\n    render() {\n        const {classes, username, passwordHasBeenSet} = this.props;\n        const {currentPassword, password, confirm, error, lastUpdated} = this.state;\n\n        if (!username)\n            return (\n                <Typography className={classes.announce}>\n                    You must have a username and email before setting password\n                </Typography>\n            );\n\n        const {enableSubmit, errorMessage} = this.handleError();\n        const lastUpdateMessage = (lastUpdated === undefined || enableSubmit) ? '' :\n            <div className={classes.announce}>\n                <Typography className={classes.success}>Password changed at {lastUpdated.toString()}</Typography>\n            </div>;\n\n        return (\n            <div>\n                {!passwordHasBeenSet ? '' :\n                    <div className={classes.textField}>\n                        <TextField\n                            fullWidth\n                            variant='outlined'\n                            label='Current password'\n                            type='password'\n                            value={currentPassword}\n                            onChange={this.onCurrentPasswordChange}\n                            error={error.currentPassword !== undefined}\n                        />\n                    </div>\n                }\n                <div className={classes.textField}>\n                    <TextField\n                        fullWidth\n                        variant='outlined'\n                        label='New password'\n                        type='password'\n                        value={password}\n                        onChange={this.onPasswordChange}\n                        error={error.password !== undefined}\n                    />\n                </div>\n                <div className={classes.textField}>\n                    <TextField\n                        fullWidth\n                        variant='outlined'\n                        label='Confirm password'\n                        type='password'\n                        value={confirm}\n                        onChange={this.onConfirmChange}\n                        error={error.confirm !== undefined}\n                    />\n                </div>\n\n                {errorMessage}\n                {lastUpdateMessage}\n\n                <div className={classes.rightAlign}>\n                    <Button\n                        variant={\"contained\"}\n                        color={\"secondary\"}\n                        onClick={this.onSubmit}\n                        disabled={!enableSubmit}\n                    >\n                        Change password\n                    </Button>\n                </div>\n            </div>\n        )\n    }\n\n}\n\nexport default withStyles(styles)(ChangePassword);","import React, {Component} from \"react\";\nimport {withStyles} from \"@material-ui/styles\";\nimport {Typography} from \"@material-ui/core\";\nimport {capitalize} from \"@material-ui/core/utils/helpers\";\nimport DeleteIcon from \"@material-ui/icons/Close\";\nimport {FacebookLoginButton, GoogleLoginButton} from \"react-social-login-buttons\";\n\nconst styles = () => ({\n    socialInfoContainer: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        marginTop: 20\n    },\n    socialNetworkName: {\n        color: '#666 !important',\n        fontWeight: 'bold !important'\n    },\n    socialInfoPic: {\n        width: 50,\n        height: 50\n    },\n    name: {\n        padding: '0 30px 0 8px',\n        fontSize: '120% !important',\n        color: 'grey'\n    },\n    account: {\n        display: 'flex',\n        flexWrap: 'nowrap'\n    },\n    deleteBtn: {\n        padding: 2,\n        margin: 0,\n        borderRadius: 3,\n        display: 'inline-block',\n        '&:hover': {\n            cursor: 'pointer',\n            background: '#f00',\n            color: '#fff'\n        }\n    },\n    link: {\n        textDecoration: 'none',\n        color: '#fff',\n        '&:visited': {\n            color: '#fff'\n        }\n    },\n    buttonText: {\n        color: '#fff !important'\n    },\n    wrapper: {\n        marginBottom: 30\n    }\n});\n\nclass SocialNetworkInfo extends Component {\n\n    openNewPrimaryAccountDialog = () => {\n        this.props.openNewPrimaryAccountDialog(this.props.socialNetwork);\n    };\n\n    render() {\n        const {id, socialNetwork, pic, name, classes} = this.props;\n        let content;\n        if (id)\n            content =\n                <div className={classes.socialInfoContainer}>\n                    <span/>\n                    <div className={classes.account}>\n                        <img className={classes.socialInfoPic} src={pic} alt='pic'/>\n                        <Typography className={classes.name}>{name}</Typography>\n                    </div>\n                    <span className={classes.deleteBtn} onClick={this.openNewPrimaryAccountDialog}>\n                        <DeleteIcon/>\n                    </span>\n                </div>;\n        else {\n            let buttonText =\n                <Typography className={classes.buttonText} variant={\"button\"}>\n                    Link with {socialNetwork} account\n                </Typography>;\n\n            if (socialNetwork === 'google')\n                content =\n                    <a href='/auth/google' className={classes.link}>\n                        <GoogleLoginButton>{buttonText}</GoogleLoginButton>\n                    </a>;\n            if (socialNetwork === 'facebook')\n                content =\n                    <a href='/auth/facebook' className={classes.link}>\n                        <FacebookLoginButton>{buttonText}</FacebookLoginButton>\n                    </a>;\n        }\n\n        return (\n            <div className={classes.wrapper}>\n                <Typography variant='h6' className={classes.socialNetworkName}>\n                    {capitalize(socialNetwork) + ' account'}\n                </Typography>\n                {content}\n            </div>\n        );\n    }\n}\n\nexport default withStyles(styles)(SocialNetworkInfo);","import React from \"react\"\nimport {withStyles} from \"@material-ui/styles\";\nimport {Button, Dialog, DialogActions, DialogContent, DialogTitle, Typography} from \"@material-ui/core\";\nimport {capitalize} from \"@material-ui/core/utils/helpers\";\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Radio from \"@material-ui/core/Radio\";\n\nconst styles = () => ({});\n\nclass NewPrimaryAccountDialog extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {newPrimaryAccount: 'local'}\n    }\n\n    isLastAccount = () => {\n        const {user} = this.props;\n        let c = 0;\n        if (user.username) c++;\n        if (user.facebookId) c++;\n        if (user.googleId) c++;\n        return c === 1;\n    };\n\n    changeAccount = (event) => {\n        this.setState({newPrimaryAccount: event.target.value});\n    };\n\n    select = () => {\n        this.props.unlink(this.props.unlinkAccount, this.state.newPrimaryAccount)\n            .catch(alert)\n    };\n\n    render() {\n        const {open, unlinkAccount, user, closeNewPrimaryAccountDialog, deleteAccount} = this.props;\n        const {newPrimaryAccount} = this.state;\n\n        if (this.isLastAccount())\n            return (\n                <Dialog\n                    open={open}\n                    fullWidth\n                    maxWidth='sm'\n                    aria-labelledby=\"primary-acc-dialog-title\"\n                >\n                    <DialogTitle id=\"primary-acc-dialog-title\"> Delete account</DialogTitle>\n                    <DialogContent>\n                        <Typography> {capitalize(unlinkAccount)} account is your only way to log in to Manga\n                            Bookmark</Typography>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button variant={\"contained\"} color={\"secondary\"}\n                                onClick={closeNewPrimaryAccountDialog}>Cancel</Button>\n                        <Button variant={\"contained\"} color={\"secondary\"}\n                                onClick={deleteAccount}>Delete</Button>\n                    </DialogActions>\n                </Dialog>\n            );\n\n        const disableLocal = !user.username || unlinkAccount === 'local';\n        const disableFacebook = !user.facebookId || unlinkAccount === 'facebook';\n        const disableGoogle = !user.googleId || unlinkAccount === 'google';\n        \n        return (\n            <Dialog\n                open={open}\n                fullWidth\n                maxWidth='sm'\n                aria-labelledby=\"primary-acc-dialog-title\"\n            >\n                <DialogTitle id=\"primary-acc-dialog-title\"> New primary account</DialogTitle>\n                <DialogContent>\n                    <Typography> {capitalize(unlinkAccount)} account is currently used as your primary\n                        account</Typography>\n                    <Typography>To unlink it, you must select another account as primary account</Typography>\n                    <RadioGroup\n                        aria-label=\"Primary account\"\n                        value={newPrimaryAccount}\n                        onChange={this.changeAccount}\n                    >\n                        <FormControlLabel\n                            value=\"local\"\n                            control={<Radio/>}\n                            label=\"MangaBookmark account\"\n                            disabled={disableLocal}\n                        />\n                        <FormControlLabel\n                            value=\"google\"\n                            control={<Radio/>}\n                            label=\"Google account\"\n                            disabled={disableGoogle}\n                        />\n                        <FormControlLabel\n                            value=\"facebook\"\n                            control={<Radio/>}\n                            label=\"Facebook account\"\n                            disabled={disableFacebook}\n                        />\n                    </RadioGroup>\n                </DialogContent>\n                <DialogActions>\n                    <Button variant={\"contained\"} color={\"secondary\"} onClick={closeNewPrimaryAccountDialog}>Cancel</Button>\n                    <Button variant={\"contained\"} color={\"secondary\"} onClick={this.select}>Select</Button>\n                </DialogActions>\n            </Dialog>\n        );\n    }\n\n}\n\nexport default withStyles(styles)(NewPrimaryAccountDialog);\n","import React from \"react\"\nimport SocialNetworkInfo from './SocialNetworkInfo';\nimport NewPrimaryAccountDialog from \"./NewPrimaryAccountDialog\";\nimport {withStyles} from \"@material-ui/styles\";\nimport {Button} from \"@material-ui/core\";\n\nconst styles = () => ({\n    danger: {\n        border: '1px solid red',\n        borderRadius: 5,\n        marginTop: 80,\n        padding: 20,\n        display: 'flex',\n        justifyContent: 'flex-end'\n    },\n    deleteBtn: {\n        background: '#f00 !important',\n        color: '#fff !important',\n    }\n});\n\nclass LinkedAccounts extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            openDialog: false,\n            unlinkAccount: '',\n        }\n    }\n\n    openNewPrimaryAccountDialog = (unlinkAccount) => {\n        const {user} = this.props;\n\n        if (user.primaryAccount !== unlinkAccount)\n            this.unlink(unlinkAccount, user.primaryAccount)\n                .catch(alert);\n        else\n            this.setState({\n                openDialog: true,\n                unlinkAccount: unlinkAccount\n            });\n    };\n\n    closeNewPrimaryAccountDialog = () => {\n        this.setState({openDialog: false});\n    };\n\n    unlink = async (account, newPrimaryAccount) => {\n        const url = `/auth/${account}/unlink?newPrimaryAccount=${newPrimaryAccount}`;\n        const fetchOptions = {\n            method: 'GET',\n            credentials: \"same-origin\",\n        };\n\n        const response = await fetch(url, fetchOptions);\n        if (response.ok) {\n            this.props.loadUserData();\n            this.setState({openDialog: false})\n        } else\n            throw await response.text()\n    };\n\n    deleteAccount = () => {\n        if (!window.confirm(\"Are you sure to delete MangaBookmark account?\")) return;\n        window.location.replace('/api/user/delete')\n    };\n\n    render() {\n        const {classes, user} = this.props;\n        const {openDialog, unlinkAccount} = this.state;\n\n        return (\n            <div>\n                <SocialNetworkInfo\n                    socialNetwork='facebook'\n                    id={user.facebookId}\n                    pic={user.facebookPic}\n                    name={user.facebookName}\n                    openNewPrimaryAccountDialog={this.openNewPrimaryAccountDialog}\n                />\n                <SocialNetworkInfo\n                    socialNetwork='google'\n                    id={user.googleId}\n                    pic={user.googlePic}\n                    name={user.googleName}\n                    openNewPrimaryAccountDialog={this.openNewPrimaryAccountDialog}\n                />\n\n                <div className={classes.danger}>\n                    <Button variant='contained' className={classes.deleteBtn} onClick={this.deleteAccount}>\n                        Delete account\n                    </Button>\n                </div>\n\n                <NewPrimaryAccountDialog\n                    open={openDialog}\n                    user={user}\n                    unlink={this.unlink}\n                    unlinkAccount={unlinkAccount}\n                    closeNewPrimaryAccountDialog={this.closeNewPrimaryAccountDialog}\n                    deleteAccount={this.deleteAccount}\n                />\n            </div>\n        )\n    }\n\n}\n\nexport default withStyles(styles)(LinkedAccounts);","import React, {Component} from \"react\"\nimport {withStyles} from \"@material-ui/styles\";\nimport {Paper} from \"@material-ui/core\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nimport BasicInfo from \"./BasicInfo\";\nimport ChangePassword from \"./ChangePassword\";\nimport LinkedAccounts from \"./LinkedAccounts\";\n\nconst styles = () => ({\n    container: {\n        marginTop: 100,\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'flex-start',\n        minHeight: 460\n    },\n    paper: {\n        paddingBottom: 10,\n        width: 700,\n    },\n    paperBody: {\n        padding: '30px 130px 30px 130px'\n    }\n});\n\nclass Account extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            tab: 'basic-info'\n        }\n    }\n\n    onTabChange = (event, value) => {\n        this.setState({tab: value});\n    };\n\n    render() {\n        const {classes, user, loadUserData, redirectToIndex} = this.props;\n        const {tab} = this.state;\n\n        const dummyUser = {\n            username: 'thanh hung duong',\n            email: 'aba@sdfa.coams',\n            facebookId: 0,\n            facebookPic: 'https://platform-lookaside.fbsbx.com/platform/profilepic/?asid=1028439080684410&height=50&width=50&ext=1561185959&hash=AeQIflvU778CxT9f',\n            googleId: 0,\n            googlePic: 'https://lh6.googleusercontent.com/-H32d0Re-OkM/AAAAAAAAAAI/AAAAAAAAAD4/eo50NTPfL3E/photo.jpg',\n        };\n\n        if (!user) { // still loading\n            return (\n                <div className={classes.container}>\n                    <CircularProgress/>\n                </div>\n            )\n        }\n\n        let content;\n        switch (tab) {\n            case 'basic-info':\n                content =\n                    <BasicInfo\n                        user={user}\n                        loadUserData={loadUserData}\n                        redirectToIndex={redirectToIndex}\n                    />;\n                break;\n            case 'change-password':\n                content =\n                    <ChangePassword\n                        username={user.username}\n                        passwordHasBeenSet={user.password}\n                        loadUserData={loadUserData}\n                        redirectToIndex={redirectToIndex}\n                    />;\n                break;\n            default:\n                content =\n                    <LinkedAccounts\n                        user={user}\n                        loadUserData={loadUserData}\n                    />;\n        }\n\n        return (\n            <div className={classes.container}>\n                <Paper className={classes.paper}>\n                    <AppBar position=\"static\" color=\"default\">\n                        <Tabs\n                            value={tab}\n                            onChange={this.onTabChange}\n                            indicatorColor=\"primary\"\n                            textColor=\"primary\"\n                            variant=\"fullWidth\"\n                        >\n                            <Tab value=\"basic-info\" label=\"BASIC INFO\"/>\n                            <Tab value=\"change-password\" label=\"CHANGE PASSWORD\"/>\n                            <Tab value=\"linked-account\" label=\"LINKED ACCOUNT\"/>\n                        </Tabs>\n                    </AppBar>\n\n                    <div className={classes.paperBody}>\n                        {content}\n                    </div>\n                </Paper>\n            </div>\n        )\n    }\n}\n\n\nexport default withStyles(styles)(Account);","import React, {Component} from 'react';\n\nimport MuiThemeProvider from \"@material-ui/core/styles/MuiThemeProvider\";\nimport {BrowserRouter as Router, Link, Route, Switch} from 'react-router-dom'\n\nimport NavBar from \"./NavBar\";\nimport Footer from \"./Footer\";\nimport Content from './Content';\nimport Login from './Login';\nimport NotFound from './NotFound';\n\nimport theme from \"./theme\";\nimport {withStyles} from \"@material-ui/styles\";\nimport Account from \"./Account\";\n\n\nconst styles = () => ({\n    hidden: {\n        display: 'none'\n    },\n    container: {\n        display: 'flex',\n        flexDirection: 'column',\n        minHeight: '100vh',\n    },\n    beforeFooter: {\n        flex: '1 0 auto',\n        padding: 'var(--space) var(--space) 0',\n        width: '100%',\n        '&:after': {\n            content: '\\\\00a0',\n            display: 'block',\n            marginTop: 'var(--space)',\n            height: 0,\n            visibility: 'hidden'\n        }\n    }\n});\n\nclass App extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {user: null}\n    }\n\n    componentDidMount() {\n        this.loadUserData()\n            .catch(() => {\n                if (['/', '/account'].indexOf(window.location.pathname) > -1)\n                    this.redirectToLogin()\n            });\n    }\n\n    loadUserData = async () => {\n        const url = '/api/user';\n        const fetchOptions = {\n            method: 'GET',\n            credentials: \"same-origin\",\n        };\n\n        const response = await fetch(url, fetchOptions);\n        if (response.ok) {\n            const user = await response.json();\n            if (!user) throw new Error('Unauthorized');\n            this.setState({user: user});\n        } else\n            throw await response.text();\n    };\n\n    redirectToLogin = () => {\n        document.getElementById('hidden-login-link').click();\n    };\n\n    redirectToIndex = () => {\n        if (this.state.user)\n            document.getElementById('hidden-index-link').click();\n        else\n            this.redirectToLogin()\n    };\n\n    redirectToAccount = () => {\n        if (this.state.user)\n            document.getElementById('hidden-account-link').click();\n        else\n            this.redirectToLogin()\n    };\n\n    logout = () => {\n        fetch('/auth/logout')\n            .then(() => {\n                this.redirectToLogin();\n                this.setState({user: null});\n            })\n            .catch(alert);\n    };\n\n    render() {\n        const {classes} = this.props;\n        const {user} = this.state;\n\n        const content = <Content isAuthorized={user !== null}/>;\n        const login =\n            <Login\n                loadUserData={this.loadUserData}\n                redirectToIndex={this.redirectToIndex}\n                isLoggedIn={user !== null}\n            />;\n        const account =\n            <Account\n                loadUserData={this.loadUserData}\n                redirectToIndex={this.redirectToIndex}\n                user={user}\n            />;\n        const notfound = <NotFound redirectToIndex={this.redirectToIndex}/>;\n\n        return (\n            <MuiThemeProvider theme={theme}>\n                <Router>\n                    <div className={classes.container}>\n                        <Link to='/' id='hidden-index-link' className={classes.hidden}/>\n                        <Link to='/login' id='hidden-login-link' className={classes.hidden}/>\n                        <Link to='/account' id='hidden-account-link' className={classes.hidden}/>\n                        <NavBar\n                            user={user}\n                            logout={this.logout}\n                            redirectToAccount={this.redirectToAccount}\n                            redirectToIndex={this.redirectToIndex}\n                        />\n\n                        <div className={classes.beforeFooter}>\n                            <Switch>\n                                <Route\n                                    exact path=\"/\"\n                                    render={() => content}\n                                />\n                                <Route\n                                    path=\"/login\"\n                                    render={() => login}\n                                />\n                                <Route\n                                    path=\"/account\"\n                                    render={() => account}\n                                />\n                                <Route\n                                    render={() => notfound}\n                                />\n                            </Switch>\n                        </div>\n\n                        <Footer\n                            isLogin={user !== null}\n                            redirectToIndex={this.redirectToIndex}\n                            redirectToAccount={this.redirectToAccount}\n                            logout={this.logout}\n                        />\n                    </div>\n                </Router>\n            </MuiThemeProvider>\n        )\n    }\n}\n\nexport default withStyles(styles)(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './static/index.css';\nimport App from './App'\n\nReactDOM.render(<App/>, document.getElementById('root'));\n\n"],"sourceRoot":""}