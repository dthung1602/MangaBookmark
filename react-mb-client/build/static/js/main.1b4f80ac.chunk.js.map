{"version":3,"sources":["logo.png","NavBar.js","Footer.js","Content/Header/SelectFollowing.js","Content/Row/ChapterList.js","Content/FloatButtons/MangaPreviewInfo.js","Content/FloatButtons/Add.js","Content/FloatButtons/FloatButtons.js","Content/Header/SortBy.js","Content/Header/SearchBar.js","Content/Header/Header.js","Content/Row/MangaActions.js","Content/Row/MangaNote.js","utils.js","Content/Row/MangaInfoCell.js","Content/Row/Row.js","Content/MangaTable.js","Content/Content.js","Login.js","NotFound.js","theme.js","App.js","index.js"],"names":["module","exports","__webpack_require__","p","NavBar","_this$props","this","props","classes","user","logout","react_default","a","createElement","index_es","color","position","className","flex","logo","src","LOGO","alt","grow","navBarText","username","onClick","React","Component","withStyles","marginTop","marginBottom","width","fontWeight","textTransform","paddingRight","paddingLeft","cursor","display","justifyContent","flexGrow","SelectFollowing","disable","labelClass","label","root","variant","value","following","onChange","input","disabled","alignItems","paddingBottom","filter","MAX_CHAP_NAME_LENGTH","ChapterList","chapters","showNextChapBtn","markAllRead","chapterCount","length","noChap","readChaptersLinks","ch","isRead","map","link","lastChapRead","name","i","nextChapToRead","undefined","nextChapBtn","actionBtn","title","window","open","ArrowForwardIos_default","markAllReadBtn","every","chap","onMarkAllChaptersRead","BookmarkBorderOutlined_default","select","multiple","onChangeChapter","renderValue","str","slice","key","Checkbox_default","checked","ListItemText_default","primary","href","noWrap","whiteSpace","padding","margin","borderRadius","&:hover","background","fontSize","fontStyle","MangaPreviewInfo","manga","mangaStatus","mangaInfo","error","Grid_default","container","item","md","mangaImg","image","isCompleted","onCompletedChange","Header_SelectFollowing","onFollowingChange","Row_ChapterList","note","onChangeNote","mangaName","Add","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","onClickOpen","setState","onClose","onChangeLink","_ref","asyncToGenerator","regenerator_default","mark","_callee","event","url","fetchOptions","response","wrap","_context","prev","next","target","trim","encodeURIComponent","method","credentials","fetch","sent","ok","json","forEach","t0","text","t1","t2","t3","stop","_x","apply","arguments","state","indexOf","addManga","_callee2","_context2","onAddManga","alert","_this$state","addButton","Add_default","fullWidth","maxWidth","aria-labelledby","id","multiline","rows","FloatButtons_MangaPreviewInfo","FloatButtons","floatButtonGroup","scrollToTop","size","ArrowUpward_default","FloatButtons_Add","document","querySelector","scrollIntoView","behavior","bottom","right","flexDirection","height","SortBy","sortby","SearchBar","onSearchTermChange","searchTerm","onKeyPress","search","onSearch","close","closeSearchResult","isSearching","icon","Close_default","Search_default","placeholder","border","transition","outline","&:focus","Header","openSearchBox","dataSource","paddingTop","header","Header_SortBy","onSortByChange","Header_SearchBar","MangaActions","markMangaCompletedBtn","onChangeCompleted","Done_default","deleteMangaBtn","deleteManga","DeleteForever_default","onChangeFollowing","MangaNote","onNoteEdited","editNoteClicked","mangaNote","cancelEditNote","saveNote","noteBtnGroup","Edit_default","titleAccess","TextField_default","Save_default","Cancel_default","mangaSourceRegex","Hoc vien truyen tranh","Mangakakalot","Mangarock","Nettruyen","MangaWWW","Otakusan","TruyenQQ","defaultDiacriticsRemovalMap","base","letters","utils","getMangaStatus","allRead","mangaStatuses","getMangaSource","match","removeDiacritics","change","replace","minusArray","arr1","arr2","e","MangaInfoCell","mangaSource","mangaDetails","xs","infoHeader","textDecoration","Row","markChapterReadStatus","action","mangaID","_id","console","log","concat","headers","Content-Type","body","JSON","stringify","newValues","oldValues","markRead","markUnread","Promise","all","_ref3","_callee3","_context3","onEditManga","_x2","confirm","onDeleteManga","_callee4","_context4","_ref5","_callee5","_context5","_x3","status","colorClass","Finished","F","Many to read","MTR","Last chap reached","LCR","New chap","NC","numberUnreadChap","TableCell_default","badgeContent","max","join","Row_MangaInfoCell","Row_MangaActions","Row_MangaNote","minHeight","MangaTable","fetchManga","data","sortMethod","fetchData","abrupt","searchManga","searchData","updatedValues","hasOwnProperty","m","_ref4","loadData","catch","prevProps","prevState","snapshot","_this2","_this$props2","tableClass","table","colSpan","d","Content_Row_Row","tableHeader","tableHeaderCell","blur","Content","mangaTableKey","Date","sortByStatus","sortByName","latest","sortByLatest","many","sortByManyToRead","content","Content_Header_Header","Content_MangaTable","Content_FloatButtons_FloatButtons","mangas","sort","b","toLowerCase","latestChap","date","createAt","Login","onTextFieldChange","field","defineProperty","onModeChange","mode","onSubmit","password","email","keys","toString","loadUserData","redirectToIndex","isValid","_this$state2","string","_this$state3","capMode","charAt","toUpperCase","login","paper","AppBar_default","Tabs_default","indicatorColor","textColor","Tab_default","paperBody","textField","type","rightAlign","otherOptions","loginOptions","lib","&:visited","createMuiTheme","typography","useNextVariants","palette","main","secondary","overrides","MuiTableCell","head","MuiTableRow","MuiInputBase","App","redirectToLogin","getElementById","click","then","src_Content_Content","src_Login","MuiThemeProvider_default","theme","react_router_dom","to","hidden","src_NavBar","react_router","exact","path","render","component","NotFound","src_Footer","ReactDOM","src_App"],"mappings":"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","file":"static/js/main.1b4f80ac.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.b7a65b42.png\";","import React from \"react\"\n\nimport {AppBar, Toolbar, Typography} from \"@material-ui/core\";\nimport {withStyles} from \"@material-ui/styles\";\nimport LOGO from './logo.png'\n\nconst styles = () => ({\n    logo: {\n        marginTop: 5,\n        marginBottom: 5,\n        width: 190,\n    },\n    navBarText: {\n        color: '#555',\n        fontWeight: 800,\n        textTransform: 'uppercase',\n        paddingRight: 0,\n        paddingLeft: 15,\n        cursor: 'pointer'\n    },\n    flex: {\n        display: 'flex',\n        justifyContent: 'space-between'\n    },\n    grow: {\n        display: 'flex',\n        flexGrow: 1\n    }\n});\n\nclass NavBar extends React.Component {\n\n    render() {\n        const {classes, user, logout} = this.props;\n\n        return (\n            <div>\n                <AppBar color=\"primary\" position=\"fixed\">\n                    <Toolbar className={classes.flex}>\n                        <img className={classes.logo} src={LOGO} alt=\"MangaBookmark\"/>\n                        <span className={classes.grow}/>\n                        {(!user) ? '' :\n                            <Typography className={classes.navBarText}>\n                                Hello, {user.username}\n                            </Typography>\n                        }\n                        {(!user) ? '' :\n                            <Typography className={classes.navBarText} onClick={logout}>\n                                Logout\n                            </Typography>\n                        }\n\n                    </Toolbar>\n                </AppBar>\n            </div>\n        )\n    }\n\n}\n\nexport default withStyles(styles)(NavBar);","import React from \"react\"\nimport {withStyles} from \"@material-ui/styles\";\n\nconst styles = () => ({});\n\nfunction Footer() {\n    return (\n        <footer/>\n    )\n}\n\nexport default withStyles(styles)(Footer);","import React from \"react\"\nimport {Input, MenuItem, Select, Typography} from \"@material-ui/core\";\nimport {withStyles} from \"@material-ui/styles\";\n\nconst styles = () => ({\n    root: {\n        display: 'flex',\n        alignItems: 'flex-end',\n        justifyContent: 'space-between',\n    },\n    label: {\n        paddingRight: 15,\n        paddingBottom: 3\n    },\n    disable: {\n        filter: 'opacity(50%)'\n    }\n});\n\nclass SelectFollowing extends React.Component {\n\n    render() {\n        const {classes, disable} = this.props;\n        let labelClass = classes.label;\n        if (disable) labelClass += ' ' + classes.disable;\n\n        return (\n            <div className={classes.root}>\n                <Typography variant={\"subtitle1\"}>\n                    <span className={labelClass}>Following status</span>\n                </Typography>\n                <Select\n                    value={this.props.following}\n                    onChange={this.props.onChange}\n                    input={<Input disabled={disable}/>}\n                >\n                    <MenuItem value=\"toread\">To read</MenuItem>\n                    <MenuItem value=\"following\">Following</MenuItem>\n                    <MenuItem value=\"waiting\">Waiting</MenuItem>\n                    <MenuItem value=\"dropped\">Dropped</MenuItem>\n                    <MenuItem value=\"finished\">Finished</MenuItem>\n                </Select>\n            </div>\n        )\n    }\n}\n\n\nexport default withStyles(styles)(SelectFollowing);","import React from \"react\"\nimport {MenuItem, Select} from \"@material-ui/core\";\nimport {withStyles} from \"@material-ui/styles\";\nimport Checkbox from \"@material-ui/core/Checkbox/index\";\nimport ListItemText from \"@material-ui/core/ListItemText/index\";\nimport ReadIcon from \"@material-ui/icons/ArrowForwardIos\";\nimport ReadAll from \"@material-ui/icons/BookmarkBorderOutlined\"\n\nconst styles = () => ({\n    noWrap: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'flex-start',\n        whiteSpace: 'nowrap'\n    },\n    actionBtn: {\n        padding: 2,\n        margin: '3px 8px 0px 8px',\n        borderRadius: 3,\n        display: 'inline-block',\n        '&:hover': {\n            cursor: 'pointer',\n            background: '#efa230',\n            color: '#fff'\n        }\n    },\n    noChap: {\n        fontSize: '125%',\n        fontStyle: 'italic'\n    }\n});\n\nconst MAX_CHAP_NAME_LENGTH = 20;\n\nclass ChapterList extends React.Component {\n\n    render() {\n        const {classes, chapters, showNextChapBtn, markAllRead} = this.props;\n        const chapterCount = chapters.length;\n\n        if (chapterCount === 0)\n            return <div className={classes.noChap}>No chapter available</div>;\n\n        const readChaptersLinks = chapters.filter(ch => ch.isRead).map(ch => ch.link);\n\n        let lastChapRead = {name: '-----'};\n        for (let i = 0; i < chapterCount; i++)\n            if (chapters[i].isRead) {\n                lastChapRead = chapters[i];\n                break;\n            }\n\n        const displayLastChapRead = () => <span>{shortenString(lastChapRead.name)}</span>;\n\n        let nextChapToRead;\n        for (let i = 0; i < chapterCount - 1; i++)\n            if (!chapters[i].isRead && chapters[i + 1].isRead) {\n                nextChapToRead = chapters[i];\n                break;\n            }\n        if (nextChapToRead === undefined && !chapters[chapterCount - 1].isRead)\n            nextChapToRead = chapters[chapterCount - 1];\n\n        let nextChapBtn = '';\n        if (showNextChapBtn && nextChapToRead !== undefined)\n            nextChapBtn =\n                <div className={classes.actionBtn}\n                     title={\"Read \" + nextChapToRead.name}\n                     onClick={() => window.open(nextChapToRead.link, '_blank')}>\n                    <ReadIcon/>\n                </div>;\n\n\n        let markAllReadBtn = '';\n        if (markAllRead !== undefined && !chapters.every(chap => chap.isRead))\n            markAllReadBtn =\n                <div\n                    className={classes.actionBtn}\n                    title=\"Mark all chapters as read\"\n                    onClick={this.props.onMarkAllChaptersRead}\n                >\n                    <ReadAll/>\n                </div>;\n\n        const select =\n            <Select\n                multiple\n                value={readChaptersLinks}\n                onChange={this.props.onChangeChapter}\n                renderValue={displayLastChapRead}\n            >\n                {chapters.map(chap => (\n                    <MenuItem key={chap.link} value={chap.link}>\n                        <Checkbox checked={chap.isRead}/>\n                        <ListItemText primary={<a href={chap.link}>{chap.name}</a>}/>\n                    </MenuItem>\n                ))}\n            </Select>;\n\n\n        if (markAllRead === 'before')\n            return (\n                <div className={classes.noWrap}>\n                    {markAllReadBtn}\n                    {select}\n                    {nextChapBtn}\n                </div>\n            );\n\n        return (\n            <div className={classes.noWrap}>\n                {select}\n                <div>\n                    {markAllReadBtn}\n                    {nextChapBtn}\n                </div>\n            </div>\n        )\n    }\n\n}\n\n\nfunction shortenString(str) {\n    if (str.length <= MAX_CHAP_NAME_LENGTH)\n        return str;\n    return str.slice(0, MAX_CHAP_NAME_LENGTH) + \" ...\"\n}\n\nexport default withStyles(styles)(ChapterList);","import React from \"react\";\nimport {Input, Switch, Typography} from \"@material-ui/core\";\nimport Grid from \"@material-ui/core/Grid/index\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\n\nimport SelectFollowing from \"../Header/SelectFollowing\"\nimport ChapterList from \"../Row/ChapterList\";\n\nconst styles = () => ({\n    mangaImg: {\n        width: 150\n    },\n    mangaInfo: {\n        padding: '30px 20px 0 20px'\n    },\n    error: {\n        padding: '30px 20px 0 0',\n        color: '#f00'\n    },\n    mangaName: {\n        color: '#009d8a'\n    },\n    flex: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'baseline'\n    },\n    label: {\n        paddingRight: 15,\n        paddingBottom: 3\n    },\n});\n\nclass MangaPreviewInfo extends React.Component {\n\n    render() {\n        const {classes, manga, mangaStatus} = this.props;\n\n        if (mangaStatus === 'none')\n            return '';\n\n        if (mangaStatus === 'waiting')\n            return (\n                <Typography className={classes.mangaInfo}>{manga}</Typography>\n            );\n\n        if (mangaStatus === 'error')\n            return (\n                <Typography className={classes.error}>{manga}</Typography>\n            );\n\n        const {chapters} = manga;\n\n        if (mangaStatus === 'ok')\n            return (\n                <Grid className={classes.mangaInfo} container>\n                    <Grid item md={4}>\n                        <img className={classes.mangaImg} src={manga.image} alt={manga.name}/>\n                    </Grid>\n                    <Grid item md={8}>\n                        <Typography variant={\"h5\"}><b>{manga.name}</b></Typography>\n                        <div className={classes.flex}>\n                            <Typography variant={\"subtitle1\"}>Is completed: {'' + manga.isCompleted}</Typography>\n                            <Switch\n                                checked={manga.isCompleted}\n                                onChange={this.props.onCompletedChange}\n                                color={\"secondary\"}\n                            />\n                        </div>\n                        <SelectFollowing\n                            following={manga.following}\n                            onChange={this.props.onFollowingChange}\n                        />\n                        <div className={classes.flex}>\n                            <Typography className={classes.label} variant={\"subtitle1\"}>Chapter list</Typography>\n                            <ChapterList\n                                chapters={chapters}\n                                onChangeChapter={this.props.onChangeChapter}\n                                onMarkAllChaptersRead={this.props.onMarkAllChaptersRead}\n                                showNextChapBtn={false}\n                                markAllRead='before'\n                            />\n                        </div>\n                        <div className={classes.flex}>\n                            <Typography className={classes.label} variant={\"subtitle1\"}>Note</Typography>\n                            <Input\n                                value={manga.note}\n                                onChange={this.props.onChangeNote}\n                            />\n                        </div>\n                    </Grid>\n                </Grid>\n            );\n    }\n\n}\n\nexport default withStyles(styles)(MangaPreviewInfo);","import React from \"react\"\n\nimport AddIcon from \"@material-ui/icons/Add\";\nimport {withStyles} from \"@material-ui/styles\";\nimport {Button, Dialog, DialogActions, DialogContent, DialogTitle, TextField} from \"@material-ui/core\";\n\nimport MangaPreviewInfo from \"./MangaPreviewInfo\"\n\nconst styles = () => ({});\n\nconst dummyAddData = {\n    _id: \"1\",\n    chapters: [\n        {\n            _id: \"5cd3cb713615403f7bdc0e9d\",\n            isRead: false,\n            createAt: '2020-05-16',\n            \"name\": \"Chapter 3B\",\n            \"link\": \"http://www.nettruyen.com/truyen-tranh/the-shocking-reality-of-a-loan-shark-collecting-money/chap-3/465979\",\n        },\n        {\n            _id: \"5cd3cb713615403f7bdc0e9e\",\n            isRead: true,\n            createAt: '2015-05-16',\n            \"name\": \"this is a chapter name with very long linesss\",\n            \"link\": \"http://www.nettruyen.com/truyen-tranh/the-shocking-reality-of-a-loan-shark-collecting-money/chap-2/465978\",\n        },\n        {\n            _id: \"5cd3cb713615403f7bdc0e9f\",\n            isRead: true,\n            createAt: '2014-05-16',\n            \"name\": \"Chapter 1B\",\n            \"link\": \"http://www.nettruyen.com/truyen-tranh/the-shocking-reality-of-a-loan-shark-collecting-money/chap-1/465210\",\n        }\n    ],\n    following: 'following',\n    isCompleted: true,\n    note: 'A looooooooooong long sdkfj sdlfjlskdj flksdjlkfjsdlkjf klsd fsadjfsd note sadf asdfs',\n    name: \"AAA The Shocking Reality Of A Loan Shark Collecting Money\",\n    link: \"http://www.nettruyen.com/truyen-tranh/the-shocking-reality-of-a-loan-shark-collecting-money\",\n    image: \"http://st.nettruyen.com/data/comics/203/the-shocking-reality-of-a-loan-shark-col-6168.jpg\",\n\n};\n\nclass Add extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            open: false,\n            link: '',\n            mangaStatus: 'none', // none, waiting, ok, error\n        }\n    }\n\n    onClickOpen = () => {\n        this.setState({open: true});\n    };\n\n    onClose = () => {\n        this.setState({open: false})\n    };\n\n    onChangeLink = async (event) => {\n        const link = event.target.value.trim();\n\n        // TODO\n        // if (link !== '')\n        //     this.setState({\n        //         link: link,\n        //         manga: dummyAddData,\n        //         mangaStatus: 'ok'\n        //     });\n        // return;\n\n        if (link !== '') {\n            this.setState({\n                link: link,\n                mangaStatus: 'waiting',\n                manga: 'Loading manga info ...'\n            });\n\n            const url = '/api/manga/info?link=' + encodeURIComponent(link);\n            const fetchOptions = {\n                method: 'GET',\n                credentials: \"same-origin\",\n            };\n            try {\n                const response = await fetch(url, fetchOptions);\n                if (response.ok) {\n                    const manga = await response.json();\n                    // set default values\n                    manga.following = 'following';\n                    manga.chapters.forEach(chap => chap.isRead = false);\n                    this.setState({\n                        mangaStatus: 'ok',\n                        manga: manga\n                    });\n                }\n                else\n                    this.setState({\n                        mangaStatus: 'error',\n                        manga: await response.text(),\n                    });\n            } catch (e) {\n                this.setState({\n                    mangaStatus: 'error',\n                    manga: 'ERROR: Network error ' + e\n                });\n            }\n        } else {\n            this.setState({\n                link: link,\n                mangaStatus: 'none'\n            });\n        }\n    };\n\n    onCompletedChange = (event) => {\n        const {manga} = this.state;\n        manga.isCompleted = event.target.checked;\n        this.setState({manga: manga});\n    };\n\n    onFollowingChange = (event) => {\n        const {manga} = this.state;\n        manga.following = event.target.value;\n        this.setState({manga: manga});\n    };\n\n    onChangeChapter = (event) => {\n        const readChaptersLinks = event.target.value;\n        const {manga} = this.state;\n        const {chapters} = this.state.manga;\n        chapters.forEach(chap => chap.isRead = readChaptersLinks.indexOf(chap.link) > -1);\n        this.setState({manga: manga});\n    };\n\n    onMarkAllChaptersRead = () => {\n        const {manga} = this.state;\n        const {chapters} = this.state.manga;\n        chapters.forEach(chap => chap.isRead = true);\n        this.setState({manga: manga});\n    };\n\n    onChangeNote = (event) => {\n        const {manga} = this.state;\n        manga.note = event.target.value;\n        this.setState({manga: manga});\n    };\n\n    addManga = async () => {\n        const {manga} = this.state;\n\n        try {\n            this.setState({\n                mangaStatus: 'waiting',\n                manga: 'Adding manga ...'\n            });\n            await this.props.onAddManga(manga);\n            this.setState({\n                open: false,\n                link: '',\n                mangaStatus: 'none',\n                manga: undefined\n            });\n        } catch (e) {\n            alert(\"ERROR: \" + e);\n        }\n    };\n\n    render() {\n        const {manga, mangaStatus, open, link} = this.state;\n\n        let addButton = '';\n        if (mangaStatus === 'ok')\n            addButton =\n                <DialogActions>\n                    <Button variant={\"contained\"} color={\"secondary\"} onClick={this.addManga}>Add</Button>\n                </DialogActions>;\n\n        return (\n            <div>\n                <AddIcon onClick={this.onClickOpen}/>\n                <Dialog\n                    open={open}\n                    onClose={this.onClose}\n                    fullWidth\n                    maxWidth='sm'\n                    aria-labelledby=\"add-form-dialog-title\"\n                >\n                    <DialogTitle id=\"add-form-dialog-title\"> Add new manga </DialogTitle>\n                    <DialogContent>\n                        <TextField\n                            fullWidth\n                            multiline\n                            rows={2}\n                            label={\"Manga link\"}\n                            onChange={this.onChangeLink}\n                            value={link}/>\n                        <MangaPreviewInfo\n                            mangaStatus={mangaStatus}\n                            manga={manga}\n                            onFollowingChange={this.onFollowingChange}\n                            onChangeChapter={this.onChangeChapter}\n                            onChangeNote={this.onChangeNote}\n                            onCompletedChange={this.onCompletedChange}\n                            onMarkAllChaptersRead={this.onMarkAllChaptersRead}\n                        />\n                    </DialogContent>\n                    {addButton}\n                </Dialog>\n            </div>\n        )\n    }\n\n}\n\nexport default withStyles(styles)(Add);\n","import React from \"react\"\n\nimport ArrowUpwardIcon from \"@material-ui/icons/ArrowUpward\";\nimport {Fab} from \"@material-ui/core\";\nimport {withStyles} from \"@material-ui/styles\";\n\nimport Add from \"./Add\"\n\nconst styles = () => ({\n    floatButtonGroup: {\n        position: \"fixed\",\n        bottom: 30,\n        right: 10,\n        display: 'flex',\n        flexDirection: 'column',\n        height: 90,\n        justifyContent: 'space-between'\n    }\n});\n\nclass FloatButtons extends React.Component {\n\n    render() {\n        const {classes} = this.props;\n        return (\n            <div className={classes.floatButtonGroup}>\n                <Fab onClick={scrollToTop} size={\"small\"} color={\"secondary\"}>\n                    <ArrowUpwardIcon/>\n                </Fab>\n                <Fab size={\"small\"} color={\"secondary\"}>\n                    <Add onAddManga={this.props.onAddManga}/>\n                </Fab>\n            </div>\n        )\n    }\n\n}\n\nfunction scrollToTop() {\n    document.querySelector(\"#page-top\").scrollIntoView({behavior: \"smooth\"})\n}\n\nexport default withStyles(styles)(FloatButtons);\n","import React from \"react\"\nimport {MenuItem, Select, Typography} from \"@material-ui/core\";\nimport {withStyles} from \"@material-ui/styles\";\n\nconst styles = () => ({\n    root: {\n        display: 'flex',\n        alignItems: 'flex-end'\n    },\n    label: {\n        paddingRight: 15,\n        paddingBottom: 3\n    }\n});\n\nclass SortBy extends React.Component {\n\n    render() {\n        const {classes} = this.props;\n        const onChange = this.props.onChange;\n        const sortby = this.props.sortby;\n\n        return (\n            <div className={classes.root}>\n                <Typography className={classes.label} variant={\"subtitle1\"}>\n                    Sort by\n                </Typography>\n                <Select value={sortby} onChange={onChange} variant={\"filled\"}>\n                    <MenuItem value=\"status\">Status</MenuItem>\n                    <MenuItem value=\"name\">Name</MenuItem>\n                    <MenuItem value=\"latest\">Latest</MenuItem>\n                    <MenuItem value=\"many\">Many to read</MenuItem>\n                </Select>\n            </div>\n        )\n    }\n}\n\n\nexport default withStyles(styles)(SortBy);","import React from \"react\"\nimport {withStyles} from \"@material-ui/styles\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport CloseIcon from \"@material-ui/icons/Close\";\n\nconst styles = () => ({\n    search: {\n        border: '1px solid #00bea6',\n        borderRadius: 5,\n        paddingLeft: 15,\n        display: 'flex'\n    },\n    icon: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        paddingLeft: 5,\n        paddingRight: 5,\n    },\n    input: {\n        width: 100,\n        border: 'none',\n        transition: 'width 0.5s',\n        fontSize: '90%',\n        outline: 'none',\n        '&:focus': {\n            border: 'none',\n            width: 250,\n        },\n    }\n});\n\nclass SearchBar extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {searchTerm: ''}\n    }\n\n    onSearchTermChange = (event) => {\n        this.setState({searchTerm: event.target.value})\n    };\n\n    onKeyPress = (event) => {\n        if (event.key === 'Enter')\n            this.search();\n    };\n\n    search = () => {\n        this.props.onSearch(this.state.searchTerm);\n    };\n\n    close = () => {\n        this.setState({searchTerm: ''});\n        this.props.closeSearchResult();\n    };\n\n    render() {\n        const {classes, isSearching} = this.props;\n        const {searchTerm} = this.state;\n\n        let icon = (isSearching)\n            ? (<CloseIcon onClick={this.close}/>)\n            : (<SearchIcon onClick={this.search}/>);\n\n        // let inputClass = classes.input\n\n        return (\n            <div className={classes.search}>\n                <input\n                    className={classes.input}\n                    placeholder=\"Search…\"\n                    value={searchTerm}\n                    onChange={this.onSearchTermChange}\n                    onKeyPress={this.onKeyPress}\n                />\n                <span className={classes.icon}>\n                    {icon}\n                </span>\n            </div>\n        )\n    }\n\n}\n\nexport default withStyles(styles)(SearchBar);","import React from \"react\"\nimport {withStyles} from \"@material-ui/styles\";\nimport SelectFollowing from \"./SelectFollowing\";\nimport SortBy from \"./SortBy\";\nimport SearchBar from \"./SearchBar\";\n\nconst styles = () => ({\n    header: {\n        display: 'flex',\n        justifyContent: 'space-between'\n    },\n    paddingTop: {\n        paddingTop: 100\n    }\n});\n\nclass Header extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            openSearchBox: false\n        }\n    }\n\n    render() {\n        const {classes, dataSource} = this.props;\n        const isSearching = (dataSource === 'search');\n\n        return (\n            <div>\n                <div className={classes.paddingTop} id={'page-top'}/>\n                <div className={classes.header}>\n                    <SelectFollowing\n                        following={this.props.following}\n                        onChange={this.props.onFollowingChange}\n                        disable={isSearching}\n                    />\n                    <SortBy\n                        sortby={this.props.sortby}\n                        onChange={this.props.onSortByChange}\n                    />\n                    <SearchBar\n                        onSearch={this.props.onSearch}\n                        closeSearchResult={this.props.closeSearchResult}\n                        isSearching={isSearching}\n                    />\n                </div>\n            </div>\n        );\n    }\n\n}\n\nexport default withStyles(styles)(Header);","import React from \"react\"\nimport {MenuItem, Select} from \"@material-ui/core\";\nimport {withStyles} from \"@material-ui/styles\";\nimport DeleteIcon from \"@material-ui/icons/DeleteForever\"\nimport DoneIcon from \"@material-ui/icons/Done\"\n\nconst styles = () => ({\n    noWrap: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'flex-start',\n        whiteSpace: 'nowrap'\n    },\n    actionBtn: {\n        padding: 2,\n        margin: '3px 8px 0px 8px',\n        borderRadius: 3,\n        display: 'inline-block',\n        '&:hover': {\n            cursor: 'pointer',\n            background: '#efa230',\n            color: '#fff'\n        }\n    },\n});\n\nclass MangaActions extends React.Component {\n\n    render() {\n        const {classes, manga} = this.props;\n\n        let markMangaCompletedBtn = '';\n        if (!manga.isCompleted)\n            markMangaCompletedBtn =\n                <div className={classes.actionBtn}\n                     title=\"Mark manga as completed\"\n                     onClick={this.props.onChangeCompleted}\n                >\n                    <DoneIcon/>\n                </div>;\n\n        const deleteMangaBtn =\n            <div className={classes.actionBtn}\n                 title=\"Delete manga\"\n                 onClick={this.props.deleteManga}\n            >\n                <DeleteIcon/>\n            </div>;\n\n        return (\n            <div className={classes.noWrap}>\n                <Select\n                    value={manga.following}\n                    onChange={this.props.onChangeFollowing}\n                >\n                    <MenuItem value=\"toread\">toread</MenuItem>\n                    <MenuItem value=\"following\">following</MenuItem>\n                    <MenuItem value=\"waiting\">waiting</MenuItem>\n                    <MenuItem value=\"dropped\">dropped</MenuItem>\n                    <MenuItem value=\"finished\">finished</MenuItem>\n                </Select>\n\n                <div>\n                    {markMangaCompletedBtn}\n                    {deleteMangaBtn}\n                </div>\n            </div>\n        )\n    }\n\n}\n\nexport default withStyles(styles)(MangaActions);","import React from \"react\"\nimport {withStyles} from \"@material-ui/styles\";\nimport TextField from \"@material-ui/core/TextField/index\";\nimport SaveIcon from \"@material-ui/icons/Save\"\nimport CancelIcon from \"@material-ui/icons/Cancel\"\nimport EditIcon from \"@material-ui/icons/Edit\"\n\nconst styles = () => ({\n    actionBtn: {\n        padding: 2,\n        margin: '3px 8px 0px 8px',\n        borderRadius: 3,\n        display: 'inline-block',\n        '&:hover': {\n            cursor: 'pointer',\n            background: '#efa230',\n            color: '#fff'\n        }\n    },\n\n    noteBtnGroup: {\n        display: 'flex',\n        justifyContent: 'flex-end',\n        margin: '10px 0 15px 0'\n    }\n});\n\nclass MangaNote extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {note: null};\n    }\n\n    onNoteEdited = (event) => {\n        this.setState({note: event.target.value})\n    };\n\n    editNoteClicked = () => {\n        this.setState({note: this.props.mangaNote})\n    };\n\n    cancelEditNote = () => {\n        this.setState({note: null});\n    };\n\n    saveNote = () => {\n        this.props.saveNote(this.state.note);\n        this.setState({note: null});\n    };\n\n    render() {\n        const {classes} = this.props;\n        const mangaNote = this.props.mangaNote;\n        const note = this.state.note;\n\n        if (note == null)\n            return (\n                <div>\n                    <div>\n                        {(mangaNote === '') ? (<i>Nothing to show</i>) : mangaNote}\n                    </div>\n                    <div className={classes.noteBtnGroup} onClick={this.editNoteClicked}>\n                        <EditIcon className={classes.actionBtn} fontSize={\"small\"} titleAccess='Edit'/>\n                    </div>\n                </div>\n            );\n\n        return (\n            <div>\n                <TextField\n                    fullWidth\n                    value={note}\n                    onChange={this.onNoteEdited}\n                />\n                <div className={classes.noteBtnGroup}>\n                    <SaveIcon\n                        className={classes.actionBtn}\n                        titleAccess='Save'\n                        onClick={this.saveNote}\n                    />\n                    <CancelIcon\n                        className={classes.actionBtn}\n                        titleAccess='Cancel'\n                        onClick={this.cancelEditNote}\n                    />\n                </div>\n            </div>\n        )\n    }\n\n}\n\nexport default withStyles(styles)(MangaNote);","function getMangaStatus(manga) {\n    const allRead = manga.chapters.every(ch => ch.isRead);\n\n    if (manga.isCompleted)\n        if (allRead)\n            return 'Finished';\n        else\n            return 'Many to read';\n\n    else if (allRead)\n        return 'Last chap reached';\n    else\n        return 'New chap';\n}\n\nconst mangaStatuses = [\n    'New chap', 'Many to read',\n    'Last chap reached', 'Finished'\n];\n\nconst mangaSourceRegex = {\n    'Hoc vien truyen tranh': /^https?:\\/\\/hocvientruyentranh\\.(com|net)\\/(index.php\\/)?truyen\\/[0-9]+\\/.+$/,\n    'Mangakakalot': /^https?:\\/\\/mangakakalot\\.com\\/manga\\/.+$/,\n    'Mangarock': /^https?:\\/\\/mangarock\\.com\\/manga\\/mrs-serie-[0-9]+$/,\n    'Nettruyen': /^https?:\\/\\/www\\.nettruyen\\.com\\/truyen-tranh\\/.+$/,\n    'MangaWWW': /^https?:\\/\\/mangawww\\.club\\/manga\\/.+$/,\n    'Otakusan':  /^https?:\\/\\/otakusan\\.net\\/MangaDetail\\/[0-9]+\\/.+$/,\n    'TruyenQQ': /^https?:\\/\\/truyenqq\\.com\\/truyen-tranh\\/.+$/,\n};\n\nfunction getMangaSource(link) {\n    for (let src in mangaSourceRegex)\n        if (link.match(mangaSourceRegex[src]))\n            return src;\n    return null;\n}\n\n/**\n * https://stackoverflow.com/a/5960592/7342188\n */\nconst defaultDiacriticsRemovalMap = [\n    {\n        'base': 'A',\n        'letters': /[\\u0041\\u24B6\\uFF21\\u00C0\\u00C1\\u00C2\\u1EA6\\u1EA4\\u1EAA\\u1EA8\\u00C3\\u0100\\u0102\\u1EB0\\u1EAE\\u1EB4\\u1EB2\\u0226\\u01E0\\u00C4\\u01DE\\u1EA2\\u00C5\\u01FA\\u01CD\\u0200\\u0202\\u1EA0\\u1EAC\\u1EB6\\u1E00\\u0104\\u023A\\u2C6F]/g\n    }, {\n        'base': 'AA',\n        'letters': /[\\uA732]/g\n    }, {\n        'base': 'AE',\n        'letters': /[\\u00C6\\u01FC\\u01E2]/g\n    }, {\n        'base': 'AO',\n        'letters': /[\\uA734]/g\n    }, {\n        'base': 'AU',\n        'letters': /[\\uA736]/g\n    }, {\n        'base': 'AV',\n        'letters': /[\\uA738\\uA73A]/g\n    }, {\n        'base': 'AY',\n        'letters': /[\\uA73C]/g\n    }, {\n        'base': 'B',\n        'letters': /[\\u0042\\u24B7\\uFF22\\u1E02\\u1E04\\u1E06\\u0243\\u0182\\u0181]/g\n    }, {\n        'base': 'C',\n        'letters': /[\\u0043\\u24B8\\uFF23\\u0106\\u0108\\u010A\\u010C\\u00C7\\u1E08\\u0187\\u023B\\uA73E]/g\n    }, {\n        'base': 'D',\n        'letters': /[\\u0044\\u24B9\\uFF24\\u1E0A\\u010E\\u1E0C\\u1E10\\u1E12\\u1E0E\\u0110\\u018B\\u018A\\u0189\\uA779]/g\n    }, {\n        'base': 'DZ',\n        'letters': /[\\u01F1\\u01C4]/g\n    }, {\n        'base': 'Dz',\n        'letters': /[\\u01F2\\u01C5]/g\n    }, {\n        'base': 'E',\n        'letters': /[\\u0045\\u24BA\\uFF25\\u00C8\\u00C9\\u00CA\\u1EC0\\u1EBE\\u1EC4\\u1EC2\\u1EBC\\u0112\\u1E14\\u1E16\\u0114\\u0116\\u00CB\\u1EBA\\u011A\\u0204\\u0206\\u1EB8\\u1EC6\\u0228\\u1E1C\\u0118\\u1E18\\u1E1A\\u0190\\u018E]/g\n    }, {\n        'base': 'F',\n        'letters': /[\\u0046\\u24BB\\uFF26\\u1E1E\\u0191\\uA77B]/g\n    }, {\n        'base': 'G',\n        'letters': /[\\u0047\\u24BC\\uFF27\\u01F4\\u011C\\u1E20\\u011E\\u0120\\u01E6\\u0122\\u01E4\\u0193\\uA7A0\\uA77D\\uA77E]/g\n    }, {\n        'base': 'H',\n        'letters': /[\\u0048\\u24BD\\uFF28\\u0124\\u1E22\\u1E26\\u021E\\u1E24\\u1E28\\u1E2A\\u0126\\u2C67\\u2C75\\uA78D]/g\n    }, {\n        'base': 'I',\n        'letters': /[\\u0049\\u24BE\\uFF29\\u00CC\\u00CD\\u00CE\\u0128\\u012A\\u012C\\u0130\\u00CF\\u1E2E\\u1EC8\\u01CF\\u0208\\u020A\\u1ECA\\u012E\\u1E2C\\u0197]/g\n    }, {\n        'base': 'J',\n        'letters': /[\\u004A\\u24BF\\uFF2A\\u0134\\u0248]/g\n    }, {\n        'base': 'K',\n        'letters': /[\\u004B\\u24C0\\uFF2B\\u1E30\\u01E8\\u1E32\\u0136\\u1E34\\u0198\\u2C69\\uA740\\uA742\\uA744\\uA7A2]/g\n    }, {\n        'base': 'L',\n        'letters': /[\\u004C\\u24C1\\uFF2C\\u013F\\u0139\\u013D\\u1E36\\u1E38\\u013B\\u1E3C\\u1E3A\\u0141\\u023D\\u2C62\\u2C60\\uA748\\uA746\\uA780]/g\n    }, {\n        'base': 'LJ',\n        'letters': /[\\u01C7]/g\n    }, {\n        'base': 'Lj',\n        'letters': /[\\u01C8]/g\n    }, {\n        'base': 'M',\n        'letters': /[\\u004D\\u24C2\\uFF2D\\u1E3E\\u1E40\\u1E42\\u2C6E\\u019C]/g\n    }, {\n        'base': 'N',\n        'letters': /[\\u004E\\u24C3\\uFF2E\\u01F8\\u0143\\u00D1\\u1E44\\u0147\\u1E46\\u0145\\u1E4A\\u1E48\\u0220\\u019D\\uA790\\uA7A4]/g\n    }, {\n        'base': 'NJ',\n        'letters': /[\\u01CA]/g\n    }, {\n        'base': 'Nj',\n        'letters': /[\\u01CB]/g\n    }, {\n        'base': 'O',\n        'letters': /[\\u004F\\u24C4\\uFF2F\\u00D2\\u00D3\\u00D4\\u1ED2\\u1ED0\\u1ED6\\u1ED4\\u00D5\\u1E4C\\u022C\\u1E4E\\u014C\\u1E50\\u1E52\\u014E\\u022E\\u0230\\u00D6\\u022A\\u1ECE\\u0150\\u01D1\\u020C\\u020E\\u01A0\\u1EDC\\u1EDA\\u1EE0\\u1EDE\\u1EE2\\u1ECC\\u1ED8\\u01EA\\u01EC\\u00D8\\u01FE\\u0186\\u019F\\uA74A\\uA74C]/g\n    }, {\n        'base': 'OI',\n        'letters': /[\\u01A2]/g\n    }, {\n        'base': 'OO',\n        'letters': /[\\uA74E]/g\n    }, {\n        'base': 'OU',\n        'letters': /[\\u0222]/g\n    }, {\n        'base': 'P',\n        'letters': /[\\u0050\\u24C5\\uFF30\\u1E54\\u1E56\\u01A4\\u2C63\\uA750\\uA752\\uA754]/g\n    }, {\n        'base': 'Q',\n        'letters': /[\\u0051\\u24C6\\uFF31\\uA756\\uA758\\u024A]/g\n    }, {\n        'base': 'R',\n        'letters': /[\\u0052\\u24C7\\uFF32\\u0154\\u1E58\\u0158\\u0210\\u0212\\u1E5A\\u1E5C\\u0156\\u1E5E\\u024C\\u2C64\\uA75A\\uA7A6\\uA782]/g\n    }, {\n        'base': 'S',\n        'letters': /[\\u0053\\u24C8\\uFF33\\u1E9E\\u015A\\u1E64\\u015C\\u1E60\\u0160\\u1E66\\u1E62\\u1E68\\u0218\\u015E\\u2C7E\\uA7A8\\uA784]/g\n    }, {\n        'base': 'T',\n        'letters': /[\\u0054\\u24C9\\uFF34\\u1E6A\\u0164\\u1E6C\\u021A\\u0162\\u1E70\\u1E6E\\u0166\\u01AC\\u01AE\\u023E\\uA786]/g\n    }, {\n        'base': 'TZ',\n        'letters': /[\\uA728]/g\n    }, {\n        'base': 'U',\n        'letters': /[\\u0055\\u24CA\\uFF35\\u00D9\\u00DA\\u00DB\\u0168\\u1E78\\u016A\\u1E7A\\u016C\\u00DC\\u01DB\\u01D7\\u01D5\\u01D9\\u1EE6\\u016E\\u0170\\u01D3\\u0214\\u0216\\u01AF\\u1EEA\\u1EE8\\u1EEE\\u1EEC\\u1EF0\\u1EE4\\u1E72\\u0172\\u1E76\\u1E74\\u0244]/g\n    }, {\n        'base': 'V',\n        'letters': /[\\u0056\\u24CB\\uFF36\\u1E7C\\u1E7E\\u01B2\\uA75E\\u0245]/g\n    }, {\n        'base': 'VY',\n        'letters': /[\\uA760]/g\n    }, {\n        'base': 'W',\n        'letters': /[\\u0057\\u24CC\\uFF37\\u1E80\\u1E82\\u0174\\u1E86\\u1E84\\u1E88\\u2C72]/g\n    }, {\n        'base': 'X',\n        'letters': /[\\u0058\\u24CD\\uFF38\\u1E8A\\u1E8C]/g\n    }, {\n        'base': 'Y',\n        'letters': /[\\u0059\\u24CE\\uFF39\\u1EF2\\u00DD\\u0176\\u1EF8\\u0232\\u1E8E\\u0178\\u1EF6\\u1EF4\\u01B3\\u024E\\u1EFE]/g\n    }, {\n        'base': 'Z',\n        'letters': /[\\u005A\\u24CF\\uFF3A\\u0179\\u1E90\\u017B\\u017D\\u1E92\\u1E94\\u01B5\\u0224\\u2C7F\\u2C6B\\uA762]/g\n    }, {\n        'base': 'a',\n        'letters': /[\\u0061\\u24D0\\uFF41\\u1E9A\\u00E0\\u00E1\\u00E2\\u1EA7\\u1EA5\\u1EAB\\u1EA9\\u00E3\\u0101\\u0103\\u1EB1\\u1EAF\\u1EB5\\u1EB3\\u0227\\u01E1\\u00E4\\u01DF\\u1EA3\\u00E5\\u01FB\\u01CE\\u0201\\u0203\\u1EA1\\u1EAD\\u1EB7\\u1E01\\u0105\\u2C65\\u0250]/g\n    }, {\n        'base': 'aa',\n        'letters': /[\\uA733]/g\n    }, {\n        'base': 'ae',\n        'letters': /[\\u00E6\\u01FD\\u01E3]/g\n    }, {\n        'base': 'ao',\n        'letters': /[\\uA735]/g\n    }, {\n        'base': 'au',\n        'letters': /[\\uA737]/g\n    }, {\n        'base': 'av',\n        'letters': /[\\uA739\\uA73B]/g\n    }, {\n        'base': 'ay',\n        'letters': /[\\uA73D]/g\n    }, {\n        'base': 'b',\n        'letters': /[\\u0062\\u24D1\\uFF42\\u1E03\\u1E05\\u1E07\\u0180\\u0183\\u0253]/g\n    }, {\n        'base': 'c',\n        'letters': /[\\u0063\\u24D2\\uFF43\\u0107\\u0109\\u010B\\u010D\\u00E7\\u1E09\\u0188\\u023C\\uA73F\\u2184]/g\n    }, {\n        'base': 'd',\n        'letters': /[\\u0064\\u24D3\\uFF44\\u1E0B\\u010F\\u1E0D\\u1E11\\u1E13\\u1E0F\\u0111\\u018C\\u0256\\u0257\\uA77A]/g\n    }, {\n        'base': 'dz',\n        'letters': /[\\u01F3\\u01C6]/g\n    }, {\n        'base': 'e',\n        'letters': /[\\u0065\\u24D4\\uFF45\\u00E8\\u00E9\\u00EA\\u1EC1\\u1EBF\\u1EC5\\u1EC3\\u1EBD\\u0113\\u1E15\\u1E17\\u0115\\u0117\\u00EB\\u1EBB\\u011B\\u0205\\u0207\\u1EB9\\u1EC7\\u0229\\u1E1D\\u0119\\u1E19\\u1E1B\\u0247\\u025B\\u01DD]/g\n    }, {\n        'base': 'f',\n        'letters': /[\\u0066\\u24D5\\uFF46\\u1E1F\\u0192\\uA77C]/g\n    }, {\n        'base': 'g',\n        'letters': /[\\u0067\\u24D6\\uFF47\\u01F5\\u011D\\u1E21\\u011F\\u0121\\u01E7\\u0123\\u01E5\\u0260\\uA7A1\\u1D79\\uA77F]/g\n    }, {\n        'base': 'h',\n        'letters': /[\\u0068\\u24D7\\uFF48\\u0125\\u1E23\\u1E27\\u021F\\u1E25\\u1E29\\u1E2B\\u1E96\\u0127\\u2C68\\u2C76\\u0265]/g\n    }, {\n        'base': 'hv',\n        'letters': /[\\u0195]/g\n    }, {\n        'base': 'i',\n        'letters': /[\\u0069\\u24D8\\uFF49\\u00EC\\u00ED\\u00EE\\u0129\\u012B\\u012D\\u00EF\\u1E2F\\u1EC9\\u01D0\\u0209\\u020B\\u1ECB\\u012F\\u1E2D\\u0268\\u0131]/g\n    }, {\n        'base': 'j',\n        'letters': /[\\u006A\\u24D9\\uFF4A\\u0135\\u01F0\\u0249]/g\n    }, {\n        'base': 'k',\n        'letters': /[\\u006B\\u24DA\\uFF4B\\u1E31\\u01E9\\u1E33\\u0137\\u1E35\\u0199\\u2C6A\\uA741\\uA743\\uA745\\uA7A3]/g\n    }, {\n        'base': 'l',\n        'letters': /[\\u006C\\u24DB\\uFF4C\\u0140\\u013A\\u013E\\u1E37\\u1E39\\u013C\\u1E3D\\u1E3B\\u017F\\u0142\\u019A\\u026B\\u2C61\\uA749\\uA781\\uA747]/g\n    }, {\n        'base': 'lj',\n        'letters': /[\\u01C9]/g\n    }, {\n        'base': 'm',\n        'letters': /[\\u006D\\u24DC\\uFF4D\\u1E3F\\u1E41\\u1E43\\u0271\\u026F]/g\n    }, {\n        'base': 'n',\n        'letters': /[\\u006E\\u24DD\\uFF4E\\u01F9\\u0144\\u00F1\\u1E45\\u0148\\u1E47\\u0146\\u1E4B\\u1E49\\u019E\\u0272\\u0149\\uA791\\uA7A5]/g\n    }, {\n        'base': 'nj',\n        'letters': /[\\u01CC]/g\n    }, {\n        'base': 'o',\n        'letters': /[\\u006F\\u24DE\\uFF4F\\u00F2\\u00F3\\u00F4\\u1ED3\\u1ED1\\u1ED7\\u1ED5\\u00F5\\u1E4D\\u022D\\u1E4F\\u014D\\u1E51\\u1E53\\u014F\\u022F\\u0231\\u00F6\\u022B\\u1ECF\\u0151\\u01D2\\u020D\\u020F\\u01A1\\u1EDD\\u1EDB\\u1EE1\\u1EDF\\u1EE3\\u1ECD\\u1ED9\\u01EB\\u01ED\\u00F8\\u01FF\\u0254\\uA74B\\uA74D\\u0275]/g\n    }, {\n        'base': 'oi',\n        'letters': /[\\u01A3]/g\n    }, {\n        'base': 'ou',\n        'letters': /[\\u0223]/g\n    }, {\n        'base': 'oo',\n        'letters': /[\\uA74F]/g\n    }, {\n        'base': 'p',\n        'letters': /[\\u0070\\u24DF\\uFF50\\u1E55\\u1E57\\u01A5\\u1D7D\\uA751\\uA753\\uA755]/g\n    }, {\n        'base': 'q',\n        'letters': /[\\u0071\\u24E0\\uFF51\\u024B\\uA757\\uA759]/g\n    }, {\n        'base': 'r',\n        'letters': /[\\u0072\\u24E1\\uFF52\\u0155\\u1E59\\u0159\\u0211\\u0213\\u1E5B\\u1E5D\\u0157\\u1E5F\\u024D\\u027D\\uA75B\\uA7A7\\uA783]/g\n    }, {\n        'base': 's',\n        'letters': /[\\u0073\\u24E2\\uFF53\\u00DF\\u015B\\u1E65\\u015D\\u1E61\\u0161\\u1E67\\u1E63\\u1E69\\u0219\\u015F\\u023F\\uA7A9\\uA785\\u1E9B]/g\n    }, {\n        'base': 't',\n        'letters': /[\\u0074\\u24E3\\uFF54\\u1E6B\\u1E97\\u0165\\u1E6D\\u021B\\u0163\\u1E71\\u1E6F\\u0167\\u01AD\\u0288\\u2C66\\uA787]/g\n    }, {\n        'base': 'tz',\n        'letters': /[\\uA729]/g\n    }, {\n        'base': 'u',\n        'letters': /[\\u0075\\u24E4\\uFF55\\u00F9\\u00FA\\u00FB\\u0169\\u1E79\\u016B\\u1E7B\\u016D\\u00FC\\u01DC\\u01D8\\u01D6\\u01DA\\u1EE7\\u016F\\u0171\\u01D4\\u0215\\u0217\\u01B0\\u1EEB\\u1EE9\\u1EEF\\u1EED\\u1EF1\\u1EE5\\u1E73\\u0173\\u1E77\\u1E75\\u0289]/g\n    }, {\n        'base': 'v',\n        'letters': /[\\u0076\\u24E5\\uFF56\\u1E7D\\u1E7F\\u028B\\uA75F\\u028C]/g\n    }, {\n        'base': 'vy',\n        'letters': /[\\uA761]/g\n    }, {\n        'base': 'w',\n        'letters': /[\\u0077\\u24E6\\uFF57\\u1E81\\u1E83\\u0175\\u1E87\\u1E85\\u1E98\\u1E89\\u2C73]/g\n    }, {\n        'base': 'x',\n        'letters': /[\\u0078\\u24E7\\uFF58\\u1E8B\\u1E8D]/g\n    }, {\n        'base': 'y',\n        'letters': /[\\u0079\\u24E8\\uFF59\\u1EF3\\u00FD\\u0177\\u1EF9\\u0233\\u1E8F\\u00FF\\u1EF7\\u1E99\\u1EF5\\u01B4\\u024F\\u1EFF]/g\n    }, {\n        'base': 'z',\n        'letters': /[\\u007A\\u24E9\\uFF5A\\u017A\\u1E91\\u017C\\u017E\\u1E93\\u1E95\\u01B6\\u0225\\u0240\\u2C6C\\uA763]/g\n    }\n];\n\nfunction removeDiacritics(str) {\n    defaultDiacriticsRemovalMap.forEach(change => {\n        str = str.replace(change.letters, change.base);\n    });\n    return str;\n}\n\nfunction minusArray(arr1, arr2) {\n    return arr1.filter(e => arr2.indexOf(e) === -1);\n}\n\nexport default {\n    getMangaStatus,\n    mangaStatuses,\n    getMangaSource,\n    removeDiacritics,\n    minusArray\n}","import React from \"react\"\nimport {withStyles} from \"@material-ui/styles\";\nimport Grid from \"@material-ui/core/Grid\";\nimport utils from \"../../utils\"\n\nconst styles = () => ({\n    infoHeader: {\n        fontWeight: 550,\n    },\n    mangaName: {\n        color: '#525252',\n        fontSize: '130%',\n        fontWeight: 900,\n        textDecoration: 'none',\n        '&:hover': {\n            textDecoration: 'underline',\n            color: '#000'\n        }\n    },\n    mangaDetails: {\n        marginTop: 20\n    },\n});\n\nclass MangaInfoCell extends React.Component {\n\n    render() {\n        const {classes} = this.props;\n        const manga = this.props.manga;\n        const mangaSource = utils.getMangaSource(manga.link);\n\n        return (\n            <div>\n                <div>\n                    <a className={classes.mangaName} href={manga.link}>{manga.name}</a>\n                </div>\n                <Grid container  className={classes.mangaDetails}>\n\n                    <Grid item xs={4} className={classes.infoHeader}>Source</Grid>\n                    <Grid item xs={8}>{mangaSource}</Grid>\n\n                    <Grid item xs={4} className={classes.infoHeader}>Total chapters</Grid>\n                    <Grid item xs={8}>{manga.chapters.length}</Grid>\n\n                </Grid>\n            </div>\n        )\n    }\n\n}\n\nexport default withStyles(styles)(MangaInfoCell);","import React from \"react\"\n\nimport {Badge, TableRow} from \"@material-ui/core\";\nimport TableCell from \"@material-ui/core/TableCell/index\";\nimport {withStyles} from \"@material-ui/styles\";\n\nimport ChapterList from \"./ChapterList\";\nimport MangaActions from \"./MangaActions\";\nimport MangaNote from \"./MangaNote\";\nimport utils from \"../../utils\"\nimport MangaInfoCell from \"./MangaInfoCell\";\n\nconst styles = () => ({\n    F: {\n        color: '#999999'\n    },\n    MTR: {\n        color: '#efa230'\n    },\n    LCR: {\n        color: 'rgba(37,68,111,0.95)'\n    },\n    NC: {\n        color: '#07853a'\n    },\n\n    mangaStatus: {\n        margin: '5px 12px',\n        fontWeight: 900,\n        fontSize: '120%',\n        textTransform: 'capitalize'\n    },\n\n    mangaImg: {\n        width: 100,\n        minHeight: 100\n    }\n});\n\nclass Row extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            manga: props.manga,\n            note: null\n        }\n    }\n\n    markChapterReadStatus = (chapters, action) => {\n        const mangaID = this.state.manga._id;\n        console.log('>>' + mangaID);\n        if (chapters.length === 0) return;\n        const url = `/api/chapter/${action}`;\n        const fetchOptions = {\n            method: 'POST',\n            credentials: \"same-origin\",\n            headers: {'Content-Type': 'application/json'},\n            body: JSON.stringify({\n                manga: mangaID,\n                chapters: chapters\n            })\n        };\n        return fetch(url, fetchOptions);\n    };\n\n    onChangeChapter = async (event) => {\n        const {manga} = this.state;\n        const {chapters} = manga;\n        const newValues = event.target.value;\n        let oldValues = chapters.filter(ch => ch.isRead).map(ch => ch.link);\n\n        const markRead = utils.minusArray(newValues, oldValues);\n        const markUnread = utils.minusArray(oldValues, newValues);\n\n        try {\n            await Promise.all([\n                this.markChapterReadStatus(markRead, 'read'),\n                this.markChapterReadStatus(markUnread, 'unread')\n            ]);\n\n            chapters.forEach(chap => chap.isRead = newValues.indexOf(chap.link) > -1);\n            this.setState({manga: manga});\n\n        } catch (e) {\n            alert('ERROR ' + e);\n        }\n    };\n\n    onMarkAllChaptersRead = async () => {\n        const {manga} = this.state;\n        const {chapters} = manga;\n        const markRead = chapters.filter(ch => !ch.isRead).map(ch => ch.link);\n        try {\n            await this.markChapterReadStatus(markRead, 'read');\n            chapters.forEach(ch => ch.isRead = true);\n            this.setState({manga: manga})\n        } catch (e) {\n            alert('ERROR ' + e);\n        }\n    };\n\n    saveNote = async (note) => {\n        const manga = this.state.manga;\n\n        try {\n            await this.props.onEditManga(manga._id, {note: note});\n            manga.note = note;\n            this.setState({manga: manga, note: null});\n        } catch (e) {\n            alert('ERROR: ' + e);\n        }\n    };\n\n    deleteManga = () => {\n        if (!window.confirm('Are you sure to delete this manga?'))\n            return;\n        this.props.onDeleteManga(this.state.manga._id)\n    };\n\n    onChangeCompleted = async () => {\n        const manga = this.state.manga;\n\n        try {\n            await this.props.onEditManga(manga._id, {isCompleted: true});\n            manga.isCompleted = true;\n            this.setState({manga: manga});\n        } catch (e) {\n            alert('ERROR: ' + e);\n        }\n    };\n\n    onChangeFollowing = async (event) => {\n        const manga = this.state.manga;\n        const following = event.target.value;\n\n        try {\n            await this.props.onEditManga(manga._id, {following: following});\n            manga.following = following;\n            this.setState({manga: manga});\n        } catch (e) {\n            alert('ERROR: ' + e);\n        }\n    };\n\n    render() {\n        const {classes} = this.props;\n        const manga = this.state.manga;\n        const chapters = manga.chapters;\n\n        const status = utils.getMangaStatus(manga);\n        const colorClass = {\n            'Finished': classes.F,\n            'Many to read': classes.MTR,\n            'Last chap reached': classes.LCR,\n            'New chap': classes.NC\n        }[status];\n\n        const numberUnreadChap = chapters.filter(ch => !ch.isRead).length;\n\n        return (\n            <TableRow>\n\n                <TableCell>\n                    <Badge badgeContent={numberUnreadChap} color=\"error\" max={10}>\n                        <div className={[colorClass, classes.mangaStatus].join(' ')}>{status}</div>\n                    </Badge>\n                </TableCell>\n\n                <TableCell>\n                    <div className={classes.mangaImg}>\n                        <img src={manga.image} alt='img' className={classes.mangaImg}/>\n                    </div>\n                </TableCell>\n\n                <TableCell>\n                    <MangaInfoCell manga={manga}/>\n                </TableCell>\n\n                <TableCell>\n                    <ChapterList\n                        chapters={chapters}\n                        onChangeChapter={this.onChangeChapter}\n                        onMarkAllChaptersRead={this.onMarkAllChaptersRead}\n                        showNextChapBtn={true}\n                        markAllRead='after'\n                    />\n                </TableCell>\n\n                <TableCell>\n                    <MangaActions\n                        manga={manga}\n                        onChangeCompleted={this.onChangeCompleted}\n                        onChangeFollowing={this.onChangeFollowing}\n                        deleteManga={this.deleteManga}\n                    />\n                </TableCell>\n\n                <TableCell>\n                    <MangaNote\n                        mangaNote={manga.note}\n                        saveNote={this.saveNote}\n                    />\n                </TableCell>\n\n            </TableRow>\n        )\n    }\n\n}\n\nexport default withStyles(styles)(Row);","import React from 'react';\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport {Table, TableBody, TableHead, TableRow, Typography} from \"@material-ui/core\";\nimport TableCell from \"@material-ui/core/TableCell/index\";\nimport Row from \"./Row\";\n\nconst styles = () => ({\n    table: {\n        marginTop: 45,\n    },\n    tableHeader: {\n        background: '#00bea6',\n        '&:hover': {\n            background: '#00bea6'\n        }\n    },\n    tableHeaderCell: {\n        fontSize: '110%',\n        fontWeight: 800,\n        color: 'rgba(51,51,51,0.89)'\n    },\n    blur: {\n        filter: 'opacity(50%) blur(0.25px)'\n    }\n});\n\nconst dummy = [\n    {\n        _id: \"0\",\n        chapters: [\n            // {\n            //     _id: \"5cd3cb713615403f7bdc0e9d\",\n            //     isRead: false,\n            //     createAt: '2020-05-16',\n            //     \"name\": \"Chapter 3B\",\n            //     \"link\": \"http://www.nettruyen.com/truyen-tranh/the-shocking-reality-of-a-loan-shark-collecting-money/chap-3/465979\",\n            // },\n            // {\n            //     _id: \"5cd3cb713615403f7bdc0e9e\",\n            //     isRead: false,\n            //     createAt: '2015-05-16',\n            //     \"name\": \"Chapter 2B\",\n            //     \"link\": \"http://www.nettruyen.com/truyen-tranh/the-shocking-reality-of-a-loan-shark-collecting-money/chap-2/465978\",\n            // },\n            // {\n            //     _id: \"5cd3cb713615403f7bdc0e9f\",\n            //     isRead: false,\n            //     createAt: '2014-05-16',\n            //     \"name\": \"Chapter 1B\",\n            //     \"link\": \"http://www.nettruyen.com/truyen-tranh/the-shocking-reality-of-a-loan-shark-collecting-money/chap-1/465210\",\n            // }\n        ],\n        following: 'following',\n        isCompleted: false,\n        note: 'This is a note',\n        name: \"AAA The Shocking Reality Of A Loan Shark Collecting Money\",\n        link: \"http://www.nettruyen.com/truyen-tranh/the-shocking-reality-of-a-loan-shark-collecting-money\",\n        image: \"http://st.nettruyen.com/data/comics/203/the-shocking-reality-of-a-loan-shark-col-6168.jpg\",\n    },\n    {\n        _id: \"1\",\n        chapters: [\n            {\n                _id: \"5cd3cb713615403f7bdc0e9d\",\n                isRead: false,\n                createAt: '2020-05-16',\n                \"name\": \"Chapter 3B\",\n                \"link\": \"http://www.nettruyen.com/truyen-tranh/the-shocking-reality-of-a-loan-shark-collecting-money/chap-3/465979\",\n            },\n            {\n                _id: \"5cd3cb713615403f7bdc0e9e\",\n                isRead: true,\n                createAt: '2015-05-16',\n                \"name\": \"this is a chapter name with very long linesss\",\n                \"link\": \"http://www.nettruyen.com/truyen-tranh/the-shocking-reality-of-a-loan-shark-collecting-money/chap-2/465978\",\n            },\n            {\n                _id: \"5cd3cb713615403f7bdc0e9f\",\n                isRead: true,\n                createAt: '2014-05-16',\n                \"name\": \"Chapter 1B\",\n                \"link\": \"http://www.nettruyen.com/truyen-tranh/the-shocking-reality-of-a-loan-shark-collecting-money/chap-1/465210\",\n            }\n        ],\n        following: 'following',\n        isCompleted: true,\n        note: 'A looooooooooong long sdkfj sdlfjlskdj flksdjlkfjsdlkjf klsd fsadjfsd note sadf asdfs',\n        name: \"AAA The Shocking Reality Of A Loan Shark Collecting Money\",\n        link: \"http://www.nettruyen.com/truyen-tranh/the-shocking-reality-of-a-loan-shark-collecting-money\",\n        image: \"http://st.nettruyen.com/data/comics/203/the-shocking-reality-of-a-loan-shark-col-6168.jpg\",\n\n    },\n    {\n        _id: \"2\",\n        chapters: [\n            {\n                _id: \"5cd3cb713615403f7bdc0e9d\",\n                isRead: true,\n                createAt: '2020-05-16',\n                \"name\": \"Chapter 3B\",\n                \"link\": \"http://www.nettruyen.com/truyen-tranh/the-shocking-reality-of-a-loan-shark-collecting-money/chap-3/465979\",\n            },\n            {\n                _id: \"5cd3cb713615403f7bdc0e9e\",\n                isRead: true,\n                createAt: '2015-05-16',\n                \"name\": \"Chapter 2B\",\n                \"link\": \"http://www.nettruyen.com/truyen-tranh/the-shocking-reality-of-a-loan-shark-collecting-money/chap-2/465978\",\n            },\n            {\n                _id: \"5cd3cb713615403f7bdc0e9f\",\n                isRead: true,\n                createAt: '2014-05-16',\n                \"name\": \"Chapter 1B\",\n                \"link\": \"http://www.nettruyen.com/truyen-tranh/the-shocking-reality-of-a-loan-shark-collecting-money/chap-1/465210\",\n            }\n        ],\n        following: 'following',\n        isCompleted: false,\n        note: '',\n        name: \"AAA The Shocking Reality Of A Loan Shark Collecting Money\",\n        link: \"http://www.nettruyen.com/truyen-tranh/the-shocking-reality-of-a-loan-shark-collecting-money\",\n        image: \"http://st.nettruyen.com/data/comics/203/the-shocking-reality-of-a-loan-shark-col-6168.jpg\",\n\n    },\n    {\n        _id: \"3\",\n        chapters: [\n            {\n                _id: \"5cd3cb713615403f7bdc0e9d\",\n                isRead: true,\n                createAt: '2020-05-16',\n                \"name\": \"Chapter 3B\",\n                \"link\": \"http://www.nettruyen.com/truyen-tranh/the-shocking-reality-of-a-loan-shark-collecting-money/chap-3/465979\",\n            },\n            {\n                _id: \"5cd3cb713615403f7bdc0e9e\",\n                isRead: true,\n                createAt: '2015-05-16',\n                \"name\": \"Chapter 2B\",\n                \"link\": \"http://www.nettruyen.com/truyen-tranh/the-shocking-reality-of-a-loan-shark-collecting-money/chap-2/465978\",\n            },\n            {\n                _id: \"5cd3cb713615403f7bdc0e9f\",\n                isRead: true,\n                createAt: '2014-05-16',\n                \"name\": \"Chapter 1B\",\n                \"link\": \"http://www.nettruyen.com/truyen-tranh/the-shocking-reality-of-a-loan-shark-collecting-money/chap-1/465210\",\n            }\n        ],\n        following: 'following',\n        isCompleted: true,\n        note: '',\n        name: \"AAA The Shocking Reality Of A Loan Shark Collecting Money\",\n        link: \"http://www.nettruyen.com/truyen-tranh/the-shocking-reality-of-a-loan-shark-collecting-money\",\n        image: \"http://st.nettruyen.com/data/comics/203/the-shocking-reality-of-a-loan-shark-col-6168.jpg\",\n\n    },\n];\n\nclass MangaTable extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            fetchData: [],\n            searchData: []\n        }\n    }\n\n    componentDidMount() {\n        if (this.props.loadData)\n            this.fetchManga()\n                .catch(alert)\n        // this.setState({fetchData: dummy})\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        if (this.props.sortMethod !== prevProps.sortMethod) {\n            const {fetchData, searchData} = this.state;\n            this.props.sortMethod(fetchData);\n            this.props.sortMethod(searchData);\n            this.setState({fetchData: fetchData, searchData: searchData});\n        }\n\n        const {dataSource, loadData} = this.props;\n        if (loadData) {\n            if (dataSource !== prevProps.dataSource) {\n                if (dataSource === 'fetch' && this.props.following !== prevProps.following)\n                    this.fetchManga().catch(alert);\n                if (dataSource === 'search' && this.props.searchTerm !== prevProps.searchTerm)\n                    this.searchManga().catch(alert);\n                return\n            }\n\n            if (this.props.following !== prevProps.following && dataSource === 'fetch') {\n                this.fetchManga().catch(alert)\n            }\n\n            if (this.props.searchTerm !== prevProps.searchTerm && dataSource === 'search') {\n                this.searchManga().catch(alert);\n            }\n\n            if (this.props.loadData !== prevProps.loadData) {\n                if (dataSource === 'fetch')\n                    this.fetchManga().catch(alert);\n                if (dataSource === 'search')\n                    this.searchManga().catch(alert);\n            }\n        }\n    }\n\n    fetchManga = async () => {\n        const following = this.props.following;\n        const url = '/api/manga?following=' + following;\n        const fetchOptions = {\n            method: 'GET',\n            credentials: \"same-origin\",\n        };\n\n        this.setState({disable: true});\n        const response = await fetch(url, fetchOptions);\n\n        if (response.ok) {\n            const data = await response.json();\n            this.props.sortMethod(data);\n            this.setState({fetchData: data, disable: false});\n            return;\n        }\n\n        throw await response.text();\n    };\n\n    searchManga = async () => {\n        const searchTerm = encodeURIComponent(this.props.searchTerm.trim());\n        if (searchTerm === '')\n            return;\n\n        const url = '/api/manga/search?term=' + searchTerm;\n        const fetchOptions = {\n            method: 'GET',\n            credentials: \"same-origin\",\n        };\n\n        this.setState({disable: true});\n        const response = await fetch(url, fetchOptions);\n\n        if (response.ok) {\n            const data = await response.json();\n            this.props.sortMethod(data);\n            this.setState({searchData: data, disable: false});\n            return;\n        }\n\n        throw await response.text();\n    };\n\n    onEditManga = async (mangaID, updatedValues) => {\n        updatedValues.manga = mangaID;\n        const url = `/api/manga/edit`;\n        const fetchOptions = {\n            method: 'POST',\n            credentials: \"same-origin\",\n            headers: {'Content-Type': 'application/json'},\n            body: JSON.stringify(updatedValues)\n        };\n        const response = await fetch(url, fetchOptions);\n\n        if (!response.ok)\n            throw await response.text();\n\n        let {fetchData} = this.state;\n\n        // filter out fetched mangas that do not have matching following attribute\n        if (updatedValues.hasOwnProperty('following'))\n            fetchData = fetchData.filter((m) => (m._id !== mangaID || m.following === updatedValues.following));\n\n        this.setState({fetchData: fetchData});\n    };\n\n    onDeleteManga = async (mangaID) => {\n        try {\n            const url = `/api/manga/delete`;\n            const fetchOptions = {\n                method: 'POST',\n                credentials: \"same-origin\",\n                headers: {'Content-Type': 'application/json'},\n                body: JSON.stringify({manga: mangaID})\n            };\n            const response = await fetch(url, fetchOptions);\n\n            if (!response.ok) {\n                const text = await response.text();\n                alert(\"ERROR: \" + text);\n                return\n            }\n\n            const fetchData = this.state.fetchData.filter(m => m._id !== mangaID);\n            const searchData = this.state.searchData.filter(m => m._id !== mangaID);\n            this.setState({fetchData: fetchData, searchData: searchData});\n\n        } catch (e) {\n            alert(\"ERROR: Network error \" + e);\n        }\n    };\n\n    render() {\n        const {classes, dataSource} = this.props;\n        const data = (dataSource === 'fetch')\n            ? this.state.fetchData\n            : this.state.searchData;\n\n        let tableClass = classes.table;\n\n        let rows =\n            <TableRow>\n                <TableCell colSpan={6}><Typography>Nothing to show</Typography></TableCell>\n            </TableRow>;\n\n        if (data.length > 0)\n            rows = data.map(d =>\n                <Row manga={d}\n                     key={d._id}\n                     onEditManga={this.onEditManga}\n                     onDeleteManga={this.onDeleteManga}\n                />\n            );\n\n        return (\n            <Table className={tableClass}>\n                <TableHead>\n                    <TableRow className={classes.tableHeader}>\n                        <TableCell className={classes.tableHeaderCell}> Status </TableCell>\n                        <TableCell className={classes.tableHeaderCell} colSpan={2}> Name </TableCell>\n                        <TableCell className={classes.tableHeaderCell}> Chapters </TableCell>\n                        <TableCell className={classes.tableHeaderCell}> Action </TableCell>\n                        <TableCell className={classes.tableHeaderCell}> Note </TableCell>\n                    </TableRow>\n                </TableHead>\n                <TableBody>\n                    {rows}\n                </TableBody>\n            </Table>\n        );\n    }\n\n}\n\nexport default withStyles(styles)(MangaTable);\n","import React from 'react';\n\nimport withStyles from \"@material-ui/core/styles/withStyles\";\n\nimport FloatButtons from \"./FloatButtons\";\nimport Header from \"./Header\";\nimport MangaTable from \"./MangaTable\";\nimport utils from \"../utils\";\n\nconst styles = () => ({\n    content: {\n        paddingLeft: 24,\n        paddingRight: 24\n    },\n    header: {\n        display: 'flex',\n        justifyContent: 'space-between'\n    }\n});\n\nclass Content extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            sortby: 'status',\n            dataSource: 'fetch', // fetch or search\n            following: 'following',\n            searchTerm: '',\n            mangaTableKey: new Date()\n        };\n    }\n\n    onSortByChange = (event) => {\n        this.setState({\n            sortby: event.target.value\n        })\n    };\n\n    onFollowingChange = (event) => {\n        this.setState({\n            dataSource: 'fetch',\n            following: event.target.value\n        });\n    };\n\n    onSearch = (searchTerm) => {\n        this.setState({\n            dataSource: 'search',\n            searchTerm: searchTerm,\n        })\n    };\n\n    closeSearchResult = () => {\n        this.setState({\n            dataSource: 'fetch',\n            searchTerm: ''\n        })\n    };\n\n    onAddManga = async (manga) => {\n        const url = '/api/manga/add';\n        const fetchOptions = {\n            method: 'POST',\n            credentials: \"same-origin\",\n            headers: {'Content-Type': 'application/json'},\n            body: JSON.stringify(manga)\n        };\n\n        const response = await fetch(url, fetchOptions);\n\n        if (!response.ok)\n            throw await response.text();\n\n        this.setState({\n            dataSource: 'fetch',\n            following: 'following',\n            mangaTableKey: new Date() // force re-generate\n        });\n    };\n\n    render() {\n        const {classes, loadData} = this.props;\n        const {following, sortby, dataSource, searchTerm, mangaTableKey} = this.state;\n\n        const sortMethod = {\n            'status': sortByStatus,\n            'name': sortByName,\n            'latest': sortByLatest,\n            'many': sortByManyToRead\n        }[sortby];\n\n        return (\n            <div className={classes.content}>\n                <Header\n                    dataSource={dataSource}\n                    following={following}\n                    onFollowingChange={this.onFollowingChange}\n                    sortby={sortby}\n                    onSortByChange={this.onSortByChange}\n                    onSearch={this.onSearch}\n                    closeSearchResult={this.closeSearchResult}\n                />\n                <MangaTable\n                    key={mangaTableKey}\n                    sortMethod={sortMethod}\n                    following={following}\n                    searchTerm={searchTerm}\n                    dataSource={dataSource}\n                    loadData={loadData}\n                />\n                <FloatButtons\n                    onAddManga={this.onAddManga}\n                />\n            </div>\n        );\n    }\n\n}\n\nfunction sortByStatus(mangas) {\n    mangas.sort((a, b) => {\n        a = utils.mangaStatuses.indexOf(utils.getMangaStatus(a));\n        b = utils.mangaStatuses.indexOf(utils.getMangaStatus(b));\n        return (a > b) ? 1 : ((a < b) ? -1 : 0);\n    });\n}\n\nfunction sortByName(mangas) {\n    mangas.sort((a, b) => {\n        a = utils.removeDiacritics(a.name.toLowerCase().trim());\n        b = utils.removeDiacritics(b.name.toLowerCase().trim());\n        return (a > b) ? 1 : ((a < b) ? -1 : 0)\n    });\n}\n\nfunction sortByLatest(mangas) {\n    const latestChap = (manga) => {\n        let latest = new Date('2000-01-01');\n        for (let i = 0; i < manga.chapters.length; i++) {\n            const date = new Date(manga.chapters[i].createAt);\n            if (date > latest)\n                latest = date;\n        }\n        return latest;\n    };\n\n    mangas.sort((a, b) => {\n        a = latestChap(a);\n        b = latestChap(b);\n        return (a > b) ? -1 : ((a < b) ? 1 : 0);\n    });\n}\n\nfunction sortByManyToRead(mangas) {\n    mangas.sort((a, b) => {\n        a = a.chapters.filter(ch => !ch.isRead).length;\n        b = b.chapters.filter(ch => !ch.isRead).length;\n        return (a > b) ? -1 : ((a < b) ? 1 : 0);\n    });\n}\n\nexport default withStyles(styles)(Content);\n","import React, {Component} from \"react\"\nimport {withStyles} from \"@material-ui/styles\";\nimport {Button, Paper} from \"@material-ui/core\";\nimport TextField from \"@material-ui/core/TextField\";\nimport {FacebookLoginButton, GoogleLoginButton} from \"react-social-login-buttons\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\n\n\nconst styles = () => ({\n    login: {\n        marginTop: 150,\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center'\n    },\n    paper: {\n        paddingBottom: 10,\n        width: 400,\n    },\n    paperBody: {\n        padding: '0 45px'\n    },\n    textField: {\n        marginTop: 30,\n        marginBottom: 30\n    },\n    rightAlign: {\n        display: 'flex',\n        justifyContent: 'flex-end'\n    },\n    loginOptions: {\n        display: 'block',\n        margin: '20px 0',\n        padding: 0,\n        textDecoration: 'none',\n        color: '#fff',\n        '&:visited': {\n            color: '#fff'\n        }\n    },\n    otherOptions: {\n        marginTop: 65\n    },\n    error: {\n        margin: '25px 0',\n        color: '#f00',\n        fontSize: '100%',\n        fontWeight: '550'\n    }\n});\n\nclass Login extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            mode: 'login', // login, register\n            username: '',\n            password: '',\n            confirm: '',\n            email: '',\n            error: ''\n        }\n    }\n\n    onTextFieldChange = (field) => (event) => {\n        this.setState({[field]: event.target.value})\n    };\n\n    onModeChange = (event, value) => {\n        this.setState({mode: value});\n    };\n\n    onSubmit = async () => {\n        const {mode, username, password, email} = this.state;\n        const data = {\n            username: username,\n            password: password,\n            email: email\n        };\n\n        let url = (mode === 'login') ? '/auth/local?' : '/auth/local/register?';\n        Object.keys(data).forEach(key => url += `${key}=${encodeURIComponent(data[key])}&`);\n        url = url.slice(0, url.length - 1);\n\n        const fetchOptions = {\n            method: 'GET',\n            credentials: \"same-origin\"\n        };\n\n        try {\n            const response = await fetch(url.toString(), fetchOptions);\n\n            if (!response.ok)\n                this.setState({error: await response.text()});\n            else {\n                this.props.loadUserData().catch(alert);\n                this.props.redirectToIndex();\n            }\n\n        } catch (e) {\n            this.setState({error: e.toString()})\n        }\n    };\n\n    isValid = () => {\n        const {mode, username, password, confirm, email} = this.state;\n        if (username === '' || password === '')\n            return false;\n        if (mode === 'register')\n            return (confirm === password && email !== '');\n        return true;\n    };\n\n    render() {\n        const {classes} = this.props;\n        const {mode, username, password, confirm, email, error} = this.state;\n        const capMode = capitalize(mode);\n\n        return (\n            <div className={classes.login}>\n\n                <Paper className={classes.paper}>\n                    <AppBar position=\"static\" color=\"default\">\n                        <Tabs\n                            value={mode}\n                            onChange={this.onModeChange}\n                            indicatorColor=\"primary\"\n                            textColor=\"primary\"\n                            variant=\"fullWidth\"\n                        >\n                            <Tab value=\"login\" label=\"LOGIN\"/>\n                            <Tab value=\"register\" label=\"REGISTER\"/>\n                        </Tabs>\n                    </AppBar>\n\n                    <div className={classes.paperBody}>\n                        <div className={classes.textField}>\n                            <TextField\n                                fullWidth\n                                variant='outlined'\n                                label='Username'\n                                value={username}\n                                onChange={this.onTextFieldChange('username')}\n                            />\n                        </div>\n                        <div className={classes.textField}>\n                            <TextField\n                                fullWidth\n                                variant='outlined'\n                                label='Password'\n                                type='password'\n                                value={password}\n                                onChange={this.onTextFieldChange('password')}\n                            />\n                        </div>\n\n                        {(mode === 'login') ? '' :\n                            <div>\n                                <div className={classes.textField}>\n                                    <TextField\n                                        fullWidth\n                                        variant='outlined'\n                                        label='Confirm password'\n                                        type='password'\n                                        value={confirm}\n                                        onChange={this.onTextFieldChange('confirm')}\n                                    />\n                                </div>\n                                <div className={classes.textField}>\n                                    <TextField\n                                        fullWidth\n                                        variant='outlined'\n                                        label='Email'\n                                        value={email}\n                                        onChange={this.onTextFieldChange('email')}\n                                    />\n                                </div>\n                            </div>\n                        }\n\n                        {(!error) ? '' : <div className={classes.error}>{error}</div>}\n\n                        <div className={classes.rightAlign}>\n                            <Button\n                                variant={\"contained\"}\n                                color={\"secondary\"}\n                                onClick={this.onSubmit}\n                                disabled={!this.isValid()}\n                            >\n                                Submit\n                            </Button>\n                        </div>\n\n                        <div className={classes.otherOptions}>\n                            <a className={classes.loginOptions} href='/auth/google'>\n                                <GoogleLoginButton>{capMode} with Google</GoogleLoginButton>\n                            </a>\n                            <a className={classes.loginOptions} href='/auth/facebook'>\n                                <FacebookLoginButton>{capMode} with Facebook</FacebookLoginButton>\n                            </a>\n                        </div>\n                    </div>\n                </Paper>\n            </div>\n        )\n    }\n}\n\nfunction capitalize(string) {\n    return string.charAt(0).toUpperCase() + string.slice(1);\n}\n\nexport default withStyles(styles)(Login);","import React from \"react\"\nimport {withStyles} from \"@material-ui/styles\";\n\nconst styles = () => ({});\n\nfunction NotFound() {\n    return (\n        <div>\n            Not found\n        </div>\n    )\n}\n\nexport default withStyles(styles)(NotFound);","import createMuiTheme from \"@material-ui/core/styles/createMuiTheme\";\n\nexport default createMuiTheme({\n    typography: {\n        useNextVariants: true,\n    },\n    palette: {\n        primary: {\n            main: '#00bea6'\n        },\n        secondary: {\n            main: '#efa230'\n        }\n    },\n    overrides: {\n        MuiTableCell: {\n            head: {\n                paddingRight: 25,\n                paddingLeft: 15\n            },\n            body: {\n                paddingRight: 25,\n                paddingLeft: 15,\n                // verticalAlign: \"top\"\n            }\n        },\n        MuiTableRow: {\n            root: {\n                '&:hover': {\n                    background: 'rgba(240,240,240,0.47)'\n                }\n            }\n        },\n        MuiInputBase: {\n            root: {\n                // minWidth: 175,\n            }\n        }\n    }\n});","import React, {Component} from 'react';\n\nimport MuiThemeProvider from \"@material-ui/core/styles/MuiThemeProvider\";\nimport {BrowserRouter as Router, Link, Route, Switch} from 'react-router-dom'\n\nimport NavBar from \"./NavBar\";\nimport Footer from \"./Footer\";\nimport Content from './Content';\nimport Login from './Login';\nimport NotFound from './NotFound';\n\nimport theme from \"./theme\";\nimport {withStyles} from \"@material-ui/styles\";\n\n\nconst styles = () => ({\n    hidden: {\n        display: 'none'\n    }\n});\n\nclass App extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {user: null}\n    }\n\n    componentDidMount() {\n        this.loadUserData()\n            .catch(this.redirectToLogin);\n    }\n\n    loadUserData = async () => {\n        const url = '/api/user';\n        const fetchOptions = {\n            method: 'GET',\n            credentials: \"same-origin\",\n        };\n\n        const response = await fetch(url, fetchOptions);\n        if (response.ok)\n            this.setState({user: await response.json()});\n        else\n            throw await response.text();\n    };\n\n    redirectToLogin = () => {\n        document.getElementById('hidden-login-link').click();\n    };\n\n    redirectToIndex = () => {\n        document.getElementById('hidden-index-link').click();\n    };\n\n    logout = () => {\n        fetch('/auth/logout')\n            .then(() => {\n                this.redirectToLogin();\n                this.setState({user: null});\n            })\n            .catch(alert);\n    };\n\n    render() {\n        const {classes} = this.props;\n        const {user} = this.state;\n\n        const content = <Content loadData={user !== null}/>;\n        const login = <Login loadUserData={this.loadUserData} redirectToIndex={this.redirectToIndex}/>;\n\n        return (\n            <MuiThemeProvider theme={theme}>\n                <Router>\n                    <Link to='/' id='hidden-index-link' className={classes.hidden}/>\n                    <Link to='/login' id='hidden-login-link' className={classes.hidden}/>\n\n                    <NavBar\n                        user={user}\n                        logout={this.logout}\n                    />\n\n                    <Switch>\n                        <Route\n                            exact path=\"/\"\n                            render={() => content}\n                        />\n                        <Route\n                            path=\"/login\"\n                            render={() => login}\n                        />\n                        <Route component={NotFound}/>\n                    </Switch>\n\n                    <Footer/>\n                </Router>\n            </MuiThemeProvider>\n        )\n    }\n}\n\nexport default withStyles(styles)(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App'\n\nReactDOM.render(<App/>, document.getElementById('root'));\n\n"],"sourceRoot":""}